(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,a){e.exports=a("56d7")},"026f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:24}})],1),a("back-to-top",{attrs:{"transition-name":"fade"}})],1)])},n=[],r=a("0625"),o={name:"Dashboard",components:{BackToTop:r["a"]},data:function(){return{}},computed:{},created:function(){},methods:{}},l=o,s=a("c701"),c=Object(s["a"])(l,i,n,!1,null,null,null);t["default"]=c.exports},"028b":function(e,t,a){"use strict";a("c462")},"036d":function(e,t,a){},"05b8":function(e,t,a){},"0620":function(e,t,a){},"0625":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:e.transitionName}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"back-to-ceiling",style:e.customStyle,on:{click:e.backToTop}},[a("i",{staticClass:"el-icon-top"})])])},n=[],r=(a("d0bf"),{name:"BackToTop",props:{visibilityHeight:{type:Number,default:200},backPosition:{type:Number,default:0},customStyle:{type:Object,default:function(){return{right:"50px",bottom:"50px",width:"40px",height:"40px","border-radius":"4px","line-height":"45px",background:"#e7eaf1"}}},transitionName:{type:String,default:"fade"}},data:function(){return{visible:!1,interval:null,isMoving:!1}},mounted:function(){window.addEventListener("scroll",this.handleScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll),this.interval&&clearInterval(this.interval)},methods:{handleScroll:function(){this.visible=window.pageYOffset>this.visibilityHeight},backToTop:function(){var e=this;if(!this.isMoving){var t=window.pageYOffset,a=0;this.isMoving=!0,this.interval=setInterval((function(){var i=Math.floor(e.easeInOutQuad(10*a,t,-t,500));i<=e.backPosition?(window.scrollTo(0,e.backPosition),clearInterval(e.interval),e.isMoving=!1):window.scrollTo(0,i),a++}),16.7)}},easeInOutQuad:function(e,t,a,i){return(e/=i/2)<1?a/2*e*e+t:-a/2*(--e*(e-2)-1)+t}}}),o=r,l=(a("06ef"),a("c701")),s=Object(l["a"])(o,i,n,!1,null,"766863d9",null);t["a"]=s.exports},"06c2":function(e,t,a){"use strict";a("e210")},"06ef":function(e,t,a){"use strict";a("efcb")},"0781":function(e,t,a){"use strict";a.r(t);var i=a("24ab"),n=a.n(i),r=a("83d6"),o=a.n(r),l=o.a.showSettings,s=o.a.tagsView,c=o.a.fixedHeader,u=o.a.sidebarLogo,d={theme:n.a.theme,showSettings:l,tagsView:s,fixedHeader:c,sidebarLogo:u},m={CHANGE_SETTING:function(e,t){var a=t.key,i=t.value;e.hasOwnProperty(a)&&(e[a]=i)}},p={changeSetting:function(e,t){var a=e.commit;a("CHANGE_SETTING",t)}};t["default"]={namespaced:!0,state:d,mutations:m,actions:p}},"0b2b":function(e,t,a){},"0f9a":function(e,t,a){"use strict";a.r(t);a("402f"),a("6a61");var i=a("2e91"),n=a("50fc"),r=a("5f87"),o=a("a18c"),l={adminUserId:"",adminToken:Object(r["f"])(),username:"",nickname:"",avatar:"",remark:"",roles:[]},s={SET_ADMINUSERID:function(e,t){e.adminUserId=t},SET_ADMINTOKEN:function(e,t){e.adminToken=t},SET_USERNAME:function(e,t){e.username=t},SET_NICKNAME:function(e,t){e.nickname=t},SET_AVATAR:function(e,t){e.avatar=t},SET_ROLES:function(e,t){e.roles=t}},c={login:function(e,t){var a=e.commit,i=t.username,o=t.password,l=t.verify_id,s=t.verify_code;return new Promise((function(e,t){Object(n["g"])({username:i,password:o,verify_id:l,verify_code:s}).then((function(t){var i=t.data;a("SET_ADMINUSERID",i.admin_user_id),a("SET_ADMINTOKEN",i.admin_token),Object(r["i"])(i.admin_user_id),Object(r["h"])(i.admin_token),e()})).catch((function(e){t(e)}))}))},userInfo:function(e){var t=e.commit;e.state;return new Promise((function(e,a){Object(n["t"])({admin_user_id:Object(r["g"])()}).then((function(i){var n=i.data;n||a("授权失败, 请重新登录！");var o=n.admin_user_id,l=n.username,s=n.nickname,c=n.avatar,u=n.roles;(!u||u.length<=0)&&a("获取权限失败, 请重新登录！"),t("SET_ADMINUSERID",o),t("SET_USERNAME",l),t("SET_NICKNAME",s),t("SET_AVATAR",c),t("SET_ROLES",u),Object(r["l"])(n.username),Object(r["k"])(n.nickname),Object(r["j"])(n.avatar),e(n)})).catch((function(e){a(e)}))}))},logout:function(e){var t=e.commit,a=(e.state,e.dispatch);return new Promise((function(e,i){Object(n["h"])({admin_user_id:Object(r["g"])()}).then((function(){t("SET_ADMINTOKEN",""),t("SET_ROLES",[]),Object(r["b"])(),Object(r["a"])(),Object(r["e"])(),Object(r["d"])(),Object(r["c"])(),Object(o["d"])(),a("tagsView/delAllViews",null,{root:!0}),e()})).catch((function(e){i(e)}))}))},resetAdminToken:function(e){var t=e.commit;return new Promise((function(e){t("SET_ADMINTOKEN",""),t("SET_ROLES",[]),Object(r["b"])(),Object(r["a"])(),e()}))},changeRoles:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function a(){var i,n,l,s,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e.commit,n=e.dispatch,l=t+"-adminToken",i("SET_ADMINTOKEN",l),Object(r["h"])(l),a.next=6,n("userInfo");case 6:return s=a.sent,c=s.roles,Object(o["d"])(),a.next=11,n("permission/generateRoutes",c,{root:!0});case 11:u=a.sent,o["c"].addRoutes(u),n("tagsView/delAllViews",null,{root:!0});case 14:case"end":return a.stop()}}),a)})))()}};t["default"]={namespaced:!0,state:l,mutations:s,actions:c}},"0fda":function(e,t,a){"use strict";a("d9f7")},"162c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("el-form",{ref:"loginRef",staticClass:"login-form",attrs:{model:e.loginModel,rules:e.loginRules,"label-position":"left"}},[a("div",{staticClass:"title-container"},[a("h3",{staticClass:"title"},[e._v(e._s(e.systemName))])]),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text",name:"username",placeholder:"请输入账号","prefix-icon":"el-icon-user",autocomplete:"on",clearable:""},model:{value:e.loginModel.username,callback:function(t){e.$set(e.loginModel,"username",t)},expression:"loginModel.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password",name:"password",placeholder:"请输入密码","prefix-icon":"el-icon-lock",autocomplete:"on",clearable:"","show-password":""},model:{value:e.loginModel.password,callback:function(t){e.$set(e.loginModel,"password",t)},expression:"loginModel.password"}})],1),e.verifyShow?a("el-form-item",{attrs:{prop:"verify_code"}},[a("el-col",{attrs:{span:13}},[a("el-input",{ref:"verify_code_ipt",staticStyle:{height:"50px","line-height":"50px"},attrs:{placeholder:"请输入验证码",name:"verify_code",type:"text","prefix-icon":"el-icon-picture",autocomplete:"off",clearable:""},model:{value:e.loginModel.verify_code,callback:function(t){e.$set(e.loginModel,"verify_code",t)},expression:"loginModel.verify_code"}})],1),a("el-col",{attrs:{span:11}},[a("el-image",{staticStyle:{width:"200px",height:"50px",float:"right"},attrs:{src:e.verifySrc,fit:"fill",alt:"验证码",title:"点击刷新验证码"},on:{click:e.verifyRefresh}})],1)],1):e._e(),a("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登录")])],1)],1)},n=[],r=(a("5184"),a("fae2"),a("83d6")),o=a.n(r),l=a("50fc"),s={name:"Login",components:{},data:function(){return{systemName:o.a.systemName,loading:!1,redirect:void 0,otherQuery:{},verifyShow:!1,verifySrc:"",loginModel:{username:"",password:"",verify_id:"",verify_code:""},loginRules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],verify_code:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},watch:{$route:{handler:function(e){var t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))},immediate:!0}},created:function(){this.getVerify()},mounted:function(){},destroyed:function(){},methods:{getVerify:function(){var e=this;Object(l["T"])().then((function(t){e.verifyShow=t.data.verify_switch,t.data.verify_switch&&(e.verifySrc=t.data.verify_src,e.loginModel.verify_id=t.data.verify_id)}))},verifyRefresh:function(){this.loginModel.verify_id="",this.loginModel.verify_code="",this.getVerify()},handleLogin:function(){var e=this;this.$refs["loginRef"].validate((function(t){if(!t)return!1;e.loading=!0,e.$store.dispatch("user/login",e.loginModel).then((function(){e.$router.push({path:e.redirect||"/",query:e.otherQuery}).catch((function(){})),e.loading=!1})).catch((function(){e.loading=!1}))}))},getOtherQuery:function(e){return Object.keys(e).reduce((function(t,a){return"redirect"!==a&&(t[a]=e[a]),t}),{})}}},c=s,u=(a("5173"),a("c936"),a("c701")),d=Object(u["a"])(c,i,n,!1,null,"55fdb312",null);t["default"]=d.exports},1683:function(e,t,a){},"186a":function(e,t,a){"use strict";a("442d")},"19b1":function(e,t,a){"use strict";a("3d66")},"1e59":function(e,t,a){},"1fdb":function(e,t,a){"use strict";a("1683")},"20e3":function(e,t,a){"use strict";a("d2b6")},"21d3":function(e,t,a){},"24ab":function(e,t,a){e.exports={theme:"#1890ff"}},2673:function(e,t,a){"use strict";a("f755")},"28c7":function(e,t,a){},"291b":function(e,t,a){"use strict";a("21d3")},"30ca":function(e,t,a){"use strict";a("c378")},"31b8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.cacheLoad,expression:"cacheLoad"}],staticClass:"box-card"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{xs:24,sm:12}},[a("el-form",{ref:"cacheRef",attrs:{model:e.cacheModel,rules:e.cacheRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Redis",prop:""}},[a("el-input",{attrs:{type:"text"},model:{value:e.cacheModel.redis_version,callback:function(t){e.$set(e.cacheModel,"redis_version",t)},expression:"cacheModel.redis_version"}})],1),a("el-form-item",{attrs:{label:"运行时长",prop:""}},[a("el-input",{attrs:{type:"text"},model:{value:e.cacheModel.uptime_in_days,callback:function(t){e.$set(e.cacheModel,"uptime_in_days",t)},expression:"cacheModel.uptime_in_days"}})],1),a("el-form-item",{attrs:{label:"已用内存",prop:""}},[a("el-input",{attrs:{type:"text"},model:{value:e.cacheModel.used_memory_human,callback:function(t){e.$set(e.cacheModel,"used_memory_human",t)},expression:"cacheModel.used_memory_human"}})],1),a("el-form-item",{attrs:{label:"峰值内存",prop:""}},[a("el-input",{attrs:{type:"text"},model:{value:e.cacheModel.used_memory_peak_human,callback:function(t){e.$set(e.cacheModel,"used_memory_peak_human",t)},expression:"cacheModel.used_memory_peak_human"}})],1),a("el-form-item",{attrs:{label:"Lua内存",prop:""}},[a("el-input",{attrs:{type:"text"},model:{value:e.cacheModel.used_memory_lua_human,callback:function(t){e.$set(e.cacheModel,"used_memory_lua_human",t)},expression:"cacheModel.used_memory_lua_human"}})],1),a("el-form-item",{attrs:{label:"客户端数",prop:""}},[a("el-input",{attrs:{type:"text"},model:{value:e.cacheModel.connected_clients,callback:function(t){e.$set(e.cacheModel,"connected_clients",t)},expression:"cacheModel.connected_clients"}})],1),a("el-form-item",{attrs:{label:"总连接数",prop:""}},[a("el-input",{attrs:{type:"text"},model:{value:e.cacheModel.total_connections_received,callback:function(t){e.$set(e.cacheModel,"total_connections_received",t)},expression:"cacheModel.total_connections_received"}})],1),a("el-form-item",{attrs:{label:"总命令数",prop:""}},[a("el-input",{attrs:{type:"text"},model:{value:e.cacheModel.total_commands_processed,callback:function(t){e.$set(e.cacheModel,"total_commands_processed",t)},expression:"cacheModel.total_commands_processed"}})],1),a("el-form-item",{attrs:{label:"DB0",prop:""}},[a("el-input",{attrs:{type:"text"},model:{value:e.cacheModel.db0,callback:function(t){e.$set(e.cacheModel,"db0",t)},expression:"cacheModel.db0"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{title:"刷新信息"},on:{click:function(t){return e.cacheRefresh()}}},[e._v("刷新")]),a("el-button",{attrs:{type:"primary",title:"清空缓存"},on:{click:function(t){return e.cacheClear()}}},[e._v("清空")])],1)],1)],1)],1)],1)],1)},n=[],r=a("50fc"),o={name:"SettingCache",components:{},data:function(){return{cacheLoad:!1,cacheModel:{},cacheRules:{}}},created:function(){this.cacheGet()},methods:{cacheGet:function(){var e=this;Object(r["F"])().then((function(t){e.cacheModel=t.data}))},cacheRefresh:function(){var e=this;this.cacheLoad=!0,Object(r["F"])().then((function(t){e.cacheModel=t.data,e.cacheLoad=!1,e.$message.success(t.msg)})).catch((function(){e.cacheLoad=!1}))},cacheClear:function(){var e=this;this.cacheLoad=!0,Object(r["F"])({},"post").then((function(t){e.cacheGet(),e.cacheLoad=!1,e.$message.success(t.msg)})).catch((function(){e.cacheLoad=!1}))}}},l=o,s=a("c701"),c=Object(s["a"])(l,i,n,!1,null,null,null);t["default"]=c.exports},"31c2":function(e,t,a){"use strict";a.r(t),a.d(t,"filterAsyncRoutes",(function(){return o}));a("445a"),a("72b3"),a("c726"),a("d884"),a("402f"),a("b784"),a("270f");var i=a("d211"),n=a("a18c");function r(e,t){return!t.meta||!t.meta.roles||e.some((function(e){return t.meta.roles.includes(e)}))}function o(e,t){var a=[];return e.forEach((function(e){var n=Object(i["a"])({},e);r(t,n)&&(n.children&&(n.children=o(n.children,t)),a.push(n))})),a}var l={routes:[],addRoutes:[]},s={SET_ROUTES:function(e,t){e.addRoutes=t,e.routes=n["b"].concat(t)}},c={generateRoutes:function(e,t){var a=e.commit;return new Promise((function(e){var i;i=t.includes("admin")?n["a"]||[]:o(n["a"],t),a("SET_ROUTES",i),e(i)}))}};t["default"]={namespaced:!0,state:l,mutations:s,actions:c}},"333d":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},n=[];a("d0bf");Math.easeInOutQuad=function(e,t,a,i){return e/=i/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var r=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function o(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function l(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function s(e,t,a){var i=l(),n=e-i,s=20,c=0;t="undefined"===typeof t?500:t;var u=function e(){c+=s;var l=Math.easeInOutQuad(c,i,n,t);o(l),c<t?r(e):a&&"function"===typeof a&&a()};u()}var c={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,13,20,30,50,80,100,150,200]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&s(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&s(0,800)}}},u=c,d=(a("db96"),a("c701")),m=Object(d["a"])(u,i,n,!1,null,"5c5bab72",null);t["a"]=m.exports},3832:function(e,t,a){"use strict";a("b85e")},"3a36":function(e,t,a){},"3d13":function(e,t,a){"use strict";a("1e59")},"3d66":function(e,t,a){},4047:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-row",[a("el-col",{attrs:{xm:24,sm:23}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"名称",clearable:""},model:{value:e.regionQuery.region_name,callback:function(t){e.$set(e.regionQuery,"region_name",t)},expression:"regionQuery.region_name"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"拼音",clearable:""},model:{value:e.regionQuery.region_pinyin,callback:function(t){e.$set(e.regionQuery,"region_pinyin",t)},expression:"regionQuery.region_pinyin"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.regionSearch()}}},[e._v("查询")]),a("el-button",{staticClass:"filter-item",on:{click:function(t){return e.regionRefresh()}}},[e._v("重置")])],1),a("el-col",{staticStyle:{"text-align":"right"},attrs:{xm:24,sm:1}},[a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.regionAddition("")}}},[e._v("添加")])],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.regionData,height:e.height+80,"row-key":"region_id",border:"",lazy:"",load:e.regionListLoad},on:{"sort-change":e.regionSort}},[a("el-table-column",{attrs:{prop:"region_name",label:"名称","min-width":"250",fixed:"left"}}),a("el-table-column",{attrs:{prop:"region_pinyin",label:"拼音","min-width":"250",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"region_jianpin",label:"简拼","min-width":"120",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"region_initials",label:"首字母","min-width":"90",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"region_citycode",label:"区号","min-width":"80",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"region_zipcode",label:"邮编","min-width":"80",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"region_sort",label:"排序","min-width":"80",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"region_id",label:"地区ID","min-width":"90",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"region_pid",label:"地区PID","min-width":"80"}}),a("el-table-column",{attrs:{label:"操作",width:"220",fixed:"right",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.regionAddition(i)}}},[e._v("添加")]),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.regionModify(i)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.regionDelete(i)}}},[e._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:e.regionDialogTitle,visible:e.regionDialog,top:"1vh","before-close":e.regionCancel},on:{"update:visible":function(t){e.regionDialog=t}}},[a("el-form",{ref:"regionRef",staticClass:"dialog-body",style:{height:e.height+30+"px"},attrs:{rules:e.regionRules,model:e.regionModel,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"父级",prop:"region_pid"}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.regionTree,props:e.regionProps,clearable:"",filterable:"",placeholder:"一级"},on:{change:e.regionPidChange},model:{value:e.regionModel.region_pid,callback:function(t){e.$set(e.regionModel,"region_pid",t)},expression:"regionModel.region_pid"}})],1),a("el-form-item",{attrs:{label:"名称",prop:"region_name"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入名称：北京市"},model:{value:e.regionModel.region_name,callback:function(t){e.$set(e.regionModel,"region_name",t)},expression:"regionModel.region_name"}})],1),a("el-form-item",{attrs:{label:"拼音",prop:"region_pinyin"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入拼音：Beijing"},model:{value:e.regionModel.region_pinyin,callback:function(t){e.$set(e.regionModel,"region_pinyin",t)},expression:"regionModel.region_pinyin"}})],1),a("el-form-item",{attrs:{label:"简拼",prop:"region_jianpin"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入简拼：BJ"},model:{value:e.regionModel.region_jianpin,callback:function(t){e.$set(e.regionModel,"region_jianpin",t)},expression:"regionModel.region_jianpin"}})],1),a("el-form-item",{attrs:{label:"首字母",prop:"region_initials"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入首字母：B"},model:{value:e.regionModel.region_initials,callback:function(t){e.$set(e.regionModel,"region_initials",t)},expression:"regionModel.region_initials"}})],1),a("el-form-item",{attrs:{label:"排序",prop:"region_sort"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入排序：1000",type:"number"},model:{value:e.regionModel.region_sort,callback:function(t){e.$set(e.regionModel,"region_sort",t)},expression:"regionModel.region_sort"}})],1),a("el-form-item",{attrs:{label:"区号",prop:"region_citycode"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入区号：010"},model:{value:e.regionModel.region_citycode,callback:function(t){e.$set(e.regionModel,"region_citycode",t)},expression:"regionModel.region_citycode"}})],1),a("el-form-item",{attrs:{label:"邮编",prop:"region_zipcode"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入邮编：1000"},model:{value:e.regionModel.region_zipcode,callback:function(t){e.$set(e.regionModel,"region_zipcode",t)},expression:"regionModel.region_zipcode"}})],1),a("el-form-item",{attrs:{label:"经度",prop:"region_longitude"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入经度：116.403263"},model:{value:e.regionModel.region_longitude,callback:function(t){e.$set(e.regionModel,"region_longitude",t)},expression:"regionModel.region_longitude"}})],1),a("el-form-item",{attrs:{label:"纬度",prop:"region_latitude"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入纬度：39.915156"},model:{value:e.regionModel.region_latitude,callback:function(t){e.$set(e.regionModel,"region_latitude",t)},expression:"regionModel.region_latitude"}})],1),a("el-form-item",{attrs:{label:"添加时间",prop:""}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{clearable:"",placeholder:"",disabled:""},model:{value:e.regionModel.create_time,callback:function(t){e.$set(e.regionModel,"create_time",t)},expression:"regionModel.create_time"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:4}},[e._v("更新时间")]),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{clearable:"",placeholder:"",disabled:""},model:{value:e.regionModel.update_time,callback:function(t){e.$set(e.regionModel,"update_time",t)},expression:"regionModel.update_time"}})],1)],1),a("el-form-item",{attrs:{label:"",prop:""}},[a("el-col",{attrs:{span:12}},[a("el-link",{attrs:{type:"info",href:"https://www.ip138.com/post/",target:"_blank"}},[e._v("查询区号邮编")])],1),a("el-col",{attrs:{span:12}},[a("el-link",{attrs:{type:"info",href:"http://api.map.baidu.com/lbsapi/getpoint/index.html",target:"_blank"}},[e._v("查询经度纬度")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.regionCancel}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.regionSubmit}},[e._v("提交")])],1)],1)],1)},n=[],r=a("98b1"),o=a("b775");function l(e){return Object(o["a"])({url:"/admin/Region/regionList",method:"get",params:e})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get";return"get"===t?Object(o["a"])({url:"/admin/Region/regionAdd",method:"get",params:e}):Object(o["a"])({url:"/admin/Region/regionAdd",method:"post",data:e})}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get";return"get"===t?Object(o["a"])({url:"/admin/Region/regionEdit",method:"get",params:e}):Object(o["a"])({url:"/admin/Region/regionEdit",method:"post",data:e})}function u(e){return Object(o["a"])({url:"/admin/Region/regionDele",method:"post",data:e})}var d={name:"RegionList",components:{},data:function(){return{height:680,loading:!1,regionData:[],regionCount:0,regionQuery:{},regionDialog:!1,regionDialogTitle:"",regionProps:{expandTrigger:"click",checkStrictly:!0,value:"region_id",label:"region_name"},regionModel:{region_id:"",region_pid:0,region_name:"",region_pinyin:"",region_jianpin:"",region_initials:"",region_citycode:"",region_zipcode:"",region_longitude:"",region_latitude:"",region_sort:1e3},regionTree:[],regionRules:{region_name:[{required:!0,message:"请输入名称",trigger:"blur"}]}}},created:function(){this.height=Object(r["a"])(),this.regionList()},methods:{regionList:function(){var e=this;this.loading=!0,this.regionData=[],l(this.regionQuery).then((function(t){e.regionData=t.data.list,e.regionCount=t.data.count,e.loading=!1})).catch((function(){e.loading=!1}))},regionSort:function(e){this.regionQuery.sort_field=e.prop,this.regionQuery.sort_type="","ascending"===e.order&&(this.regionQuery.sort_type="asc",this.regionList()),"descending"===e.order&&(this.regionQuery.sort_type="desc",this.regionList())},regionSearch:function(){this.regionQuery.page=1,this.regionList()},regionListLoad:function(e,t,a){l({region_pid:e.region_id}).then((function(e){a(e.data.list)}))},regionRefresh:function(){this.regionQuery={},this.regionList()},regionAddition:function(e){var t=this;this.regionDialog=!0,this.regionDialogTitle="地区添加",s().then((function(a){e?(t.regionModel=t.$options.data().regionModel,t.regionModel.region_pid=e.region_id):t.regionReset(),t.regionTree=a.data.region_tree}))},regionModify:function(e){var t=this;this.regionDialog=!0,this.regionDialogTitle="地区修改："+e.region_name,c({region_id:e.region_id}).then((function(e){t.regionModel=e.data.region_info,t.regionTree=e.data.region_tree}))},regionDelete:function(e){var t=this;this.$confirm('确定要删除地区 <span style="color:red">'+e.region_name+" </span>吗？","删除："+e.region_id,{type:"warning",dangerouslyUseHTMLString:!0}).then((function(){t.loading=!0,u({region_id:e.region_id}).then((function(e){t.regionList(),t.regionReset(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))})).catch((function(){}))},regionPidChange:function(e){e&&(this.regionModel.region_pid=e[e.length-1])},regionReset:function(e){this.regionModel=e||this.$options.data().regionModel,void 0!==this.$refs["regionRef"]&&this.$refs["regionRef"].resetFields()},regionCancel:function(){this.regionDialog=!1,this.regionReset()},regionSubmit:function(){var e=this;this.$refs["regionRef"].validate((function(t){t&&(e.loading=!0,e.regionModel.region_id?c(e.regionModel,"post").then((function(t){e.regionList(),e.regionReset(),e.regionDialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})):s(e.regionModel,"post").then((function(t){e.regionList(),e.regionReset(),e.regionDialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},m=d,p=a("c701"),f=Object(p["a"])(m,i,n,!1,null,null,null);t["default"]=f.exports},4360:function(e,t,a){"use strict";a("5184"),a("402f"),a("0bd5"),a("9b42"),a("6ab7");var i=a("a593"),n=a("cf6b"),r={sidebar:function(e){return e.app.sidebar},size:function(e){return e.app.size},device:function(e){return e.app.device},visitedViews:function(e){return e.tagsView.visitedViews},cachedViews:function(e){return e.tagsView.cachedViews},adminUserId:function(e){return e.user.adminUserId},adminToken:function(e){return e.user.adminToken},username:function(e){return e.user.username},nickname:function(e){return e.user.nickname},avatar:function(e){return e.user.avatar},roles:function(e){return e.user.roles},permission_routes:function(e){return e.permission.routes}},o=r;i["default"].use(n["a"]);var l=a("c653"),s=l.keys().reduce((function(e,t){var a=t.replace(/^\.\/(.*)\.\w+$/,"$1"),i=l(t);return e[a]=i.default,e}),{}),c=new n["a"].Store({modules:s,getters:o});t["a"]=c},4381:function(e,t,a){"use strict";a("c726"),a("d884"),a("b784");var i=a("4360");function n(e,t){var a=t.value,n=i["a"].getters&&i["a"].getters.roles;if(!(a&&a instanceof Array))throw new Error("need roles! Like v-permission=\"['admin','editor']\"");if(a.length>0){var r=a,o=n.some((function(e){return r.includes(e)}));o||e.parentNode&&e.parentNode.removeChild(e)}}var r={inserted:function(e,t){n(e,t)},update:function(e,t){n(e,t)}},o=function(e){e.directive("permission",r)};window.Vue&&(window["permission"]=r,Vue.use(o)),r.install=o;t["a"]=r},"442d":function(e,t,a){},4457:function(e,t,a){"use strict";a("4d03")},4916:function(e,t,a){"use strict";a("7666")},"49cc":function(e,t,a){"use strict";a("05b8")},"4b63":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.verifyLoad,expression:"verifyLoad"}],staticClass:"box-card"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{xs:24,sm:12}},[a("el-form",{ref:"verifyRef",attrs:{model:e.verifyModel,rules:e.verifyRules,"label-width":"120px"}},[e.verifyShow?a("el-form-item",{attrs:{label:"验证码",prop:"verify_code"}},[a("el-image",{staticStyle:{width:"200px",height:"50px"},attrs:{src:e.verifySrc,fit:"fill",alt:"验证码",title:"点击刷新验证码"},on:{click:function(t){return e.refreshVerify()}}})],1):e._e(),a("el-form-item",{attrs:{label:"验证码开关",prop:"switch"}},[a("el-switch",{model:{value:e.verifyModel.switch,callback:function(t){e.$set(e.verifyModel,"switch",t)},expression:"verifyModel.switch"}})],1),a("el-form-item",{attrs:{label:"验证码曲线",prop:"curve"}},[a("el-switch",{model:{value:e.verifyModel.curve,callback:function(t){e.$set(e.verifyModel,"curve",t)},expression:"verifyModel.curve"}})],1),a("el-form-item",{attrs:{label:"验证码杂点",prop:"noise"}},[a("el-switch",{model:{value:e.verifyModel.noise,callback:function(t){e.$set(e.verifyModel,"noise",t)},expression:"verifyModel.noise"}})],1),a("el-form-item",{attrs:{label:"验证码背景图",prop:"bgimg"}},[a("el-switch",{model:{value:e.verifyModel.bgimg,callback:function(t){e.$set(e.verifyModel,"bgimg",t)},expression:"verifyModel.bgimg"}})],1),a("el-form-item",{attrs:{label:"验证码类型",prop:"type"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.verifyModel.type,callback:function(t){e.$set(e.verifyModel,"type",t)},expression:"verifyModel.type"}},e._l(e.verify_type_arr,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),a("el-form-item",{attrs:{label:"验证码位数",prop:"length"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.verifyModel.length,callback:function(t){e.$set(e.verifyModel,"length",t)},expression:"verifyModel.length"}},e._l(e.verify_length_arr,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),a("el-form-item",{attrs:{label:"验证码有效时间",prop:"expire"}},[a("el-col",{attrs:{xs:24,sm:8}},[a("el-input",{attrs:{type:"number"},model:{value:e.verifyModel.expire,callback:function(t){e.$set(e.verifyModel,"expire",t)},expression:"verifyModel.expire"}},[a("template",{slot:"append"},[e._v("秒")])],2)],1)],1),a("el-form-item",[a("el-button",{on:{click:function(t){return e.verifyRefresh()}}},[e._v("刷新")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.verifySubmit()}}},[e._v("提交")])],1)],1)],1)],1)],1)],1)},n=[],r=a("50fc"),o={name:"SettingVerify",components:{},data:function(){return{verifyLoad:!1,verifyShow:!1,verifySrc:"",verify_type_arr:[{value:1,label:"数字"},{value:2,label:"字母"},{value:3,label:"数字字母"},{value:4,label:"算术"},{value:5,label:"中文"}],verify_length_arr:[{value:3,label:"3位"},{value:4,label:"4位"},{value:5,label:"5位"},{value:6,label:"6位"}],verifyModel:{switch:!1,curve:!1,noise:!1,bgimg:!1,type:1,length:4,expire:180},verifyRules:{type:[{required:!0,message:"请选择验证码类型",trigger:"blur"}],length:[{required:!0,message:"请选择验证码位数",trigger:"blur"}],expire:[{required:!0,message:"请输入验证码有效时间",trigger:"blur"}]}}},created:function(){this.getVerify(),this.verifyGet()},methods:{verifyGet:function(){var e=this;Object(r["H"])().then((function(t){e.verifyModel=t.data}))},verifyRefresh:function(){var e=this;this.verifyLoad=!0,Object(r["H"])().then((function(t){e.getVerify(),e.verifyModel=t.data,e.verifyLoad=!1,e.$message.success(t.msg)})).catch((function(){e.verifyLoad=!1}))},verifySubmit:function(){var e=this;this.$refs["verifyRef"].validate((function(t){t&&(e.verifyLoad=!0,Object(r["H"])(e.verifyModel).then((function(t){e.getVerify(),e.verifyLoad=!1,e.$message.success(t.msg)})).catch((function(){e.verifyLoad=!1})))}))},getVerify:function(){var e=this;Object(r["T"])().then((function(t){e.verifyShow=t.data.verify_switch,t.data.verify_switch&&(e.verifySrc=t.data.verify_src)}))},refreshVerify:function(){this.getVerify()}}},l=o,s=a("c701"),c=Object(s["a"])(l,i,n,!1,null,null,null);t["default"]=c.exports},"4d03":function(e,t,a){},"4d21":function(e,t,a){e.exports=a.p+"static/img/401.0cf191c5.jpg"},"4f18":function(e,t,a){e.exports=a.p+"static/img/404.222241b4.jpg"},"50fc":function(e,t,a){"use strict";a.d(t,"m",(function(){return n})),a.d(t,"i",(function(){return r})),a.d(t,"l",(function(){return o})),a.d(t,"j",(function(){return l})),a.d(t,"k",(function(){return s})),a.d(t,"p",(function(){return c})),a.d(t,"n",(function(){return u})),a.d(t,"o",(function(){return d})),a.d(t,"q",(function(){return m})),a.d(t,"r",(function(){return p})),a.d(t,"B",(function(){return f})),a.d(t,"x",(function(){return h})),a.d(t,"A",(function(){return g})),a.d(t,"y",(function(){return b})),a.d(t,"z",(function(){return v})),a.d(t,"C",(function(){return _})),a.d(t,"D",(function(){return y})),a.d(t,"Q",(function(){return w})),a.d(t,"L",(function(){return M})),a.d(t,"P",(function(){return x})),a.d(t,"N",(function(){return k})),a.d(t,"R",(function(){return S})),a.d(t,"S",(function(){return C})),a.d(t,"O",(function(){return $})),a.d(t,"M",(function(){return L})),a.d(t,"e",(function(){return T})),a.d(t,"d",(function(){return O})),a.d(t,"c",(function(){return R})),a.d(t,"f",(function(){return j})),a.d(t,"t",(function(){return D})),a.d(t,"s",(function(){return A})),a.d(t,"v",(function(){return Q})),a.d(t,"u",(function(){return E})),a.d(t,"F",(function(){return P})),a.d(t,"H",(function(){return V})),a.d(t,"G",(function(){return I})),a.d(t,"E",(function(){return q})),a.d(t,"I",(function(){return N})),a.d(t,"J",(function(){return B})),a.d(t,"K",(function(){return z})),a.d(t,"w",(function(){return U})),a.d(t,"a",(function(){return H})),a.d(t,"b",(function(){return G})),a.d(t,"T",(function(){return W})),a.d(t,"g",(function(){return F})),a.d(t,"h",(function(){return K}));var i=a("b775");function n(){return Object(i["a"])({url:"/admin/AdminMenu/menuList",method:"get"})}function r(e){return Object(i["a"])({url:"/admin/AdminMenu/menuAdd",method:"post",data:e})}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get";return"get"===t?Object(i["a"])({url:"/admin/AdminMenu/menuEdit",method:"get",params:e}):Object(i["a"])({url:"/admin/AdminMenu/menuEdit",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/admin/AdminMenu/menuDele",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/admin/AdminMenu/menuDisable",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/admin/AdminMenu/menuUnauth",method:"post",data:e})}function u(e){return Object(i["a"])({url:"/admin/AdminMenu/menuRole",method:"get",params:e})}function d(e){return Object(i["a"])({url:"/admin/AdminMenu/menuRoleRemove",method:"post",data:e})}function m(e){return Object(i["a"])({url:"/admin/AdminMenu/menuUser",method:"get",params:e})}function p(e){return Object(i["a"])({url:"/admin/AdminMenu/menuUserRemove",method:"post",data:e})}function f(e){return Object(i["a"])({url:"/admin/AdminRole/roleList",method:"get",params:e})}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get";return"get"===t?Object(i["a"])({url:"/admin/AdminRole/roleAdd",method:"get"}):Object(i["a"])({url:"/admin/AdminRole/roleAdd",method:"post",data:e})}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get";return"get"===t?Object(i["a"])({url:"/admin/AdminRole/roleEdit",method:"get",params:e}):Object(i["a"])({url:"/admin/AdminRole/roleEdit",method:"post",data:e})}function b(e){return Object(i["a"])({url:"/admin/AdminRole/roleDele",method:"post",data:e})}function v(e){return Object(i["a"])({url:"/admin/AdminRole/roleDisable",method:"post",data:e})}function _(e){return Object(i["a"])({url:"/admin/AdminRole/roleUser",method:"get",params:e})}function y(e){return Object(i["a"])({url:"/admin/AdminRole/roleUserRemove",method:"post",data:e})}function w(e){return Object(i["a"])({url:"/admin/AdminUser/userList",method:"get",params:e})}function M(e){return Object(i["a"])({url:"/admin/AdminUser/userAdd",method:"post",data:e})}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get";return"get"===t?Object(i["a"])({url:"/admin/AdminUser/userEdit",method:"get",params:e}):Object(i["a"])({url:"/admin/AdminUser/userEdit",method:"post",data:e})}function k(e){return Object(i["a"])({url:"/admin/AdminUser/userDele",method:"post",data:e})}function S(e){return Object(i["a"])({url:"/admin/AdminUser/userPwd",method:"post",data:e})}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get";return"get"===t?Object(i["a"])({url:"/admin/AdminUser/userRule",method:"get",params:e}):Object(i["a"])({url:"/admin/AdminUser/userRule",method:"post",data:e})}function $(e){return Object(i["a"])({url:"/admin/AdminUser/userDisable",method:"post",data:e})}function L(e){return Object(i["a"])({url:"/admin/AdminUser/userAdmin",method:"post",data:e})}function T(e){return Object(i["a"])({url:"/admin/AdminLog/logList",method:"get",params:e})}function O(e){return Object(i["a"])({url:"/admin/AdminLog/logInfo",method:"get",params:e})}function R(e){return Object(i["a"])({url:"/admin/AdminLog/logDele",method:"post",data:e})}function j(e){return Object(i["a"])({url:"/admin/AdminLog/logStatistic",method:"post",data:e})}function D(e){return Object(i["a"])({url:"/admin/AdminMy/myInfo",method:"get",params:e})}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get";return"get"===t?Object(i["a"])({url:"/admin/AdminMy/myEdit",method:"get",params:e}):Object(i["a"])({url:"/admin/AdminMy/myEdit",method:"post",data:e})}function Q(e){return Object(i["a"])({url:"/admin/AdminMy/myPwd",method:"post",data:e})}function E(e){return Object(i["a"])({url:"/admin/AdminMy/myLog",method:"get",params:e})}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get";return"get"===t?Object(i["a"])({url:"/admin/AdminSetting/settingCache",method:"get",params:e}):Object(i["a"])({url:"/admin/AdminSetting/settingCache",method:"post",data:e})}function V(e){return e?Object(i["a"])({url:"/admin/AdminSetting/settingVerify",method:"post",data:e}):Object(i["a"])({url:"/admin/AdminSetting/settingVerify",method:"get"})}function I(e){return e?Object(i["a"])({url:"/admin/AdminSetting/settingToken",method:"post",data:e}):Object(i["a"])({url:"/admin/AdminSetting/settingToken",method:"get"})}function q(e){return Object(i["a"])({url:"/admin/AdminSetting/serverInfo",method:"get",params:e})}function N(e){return Object(i["a"])({url:"/admin/AdminTool/strRand",method:"post",data:e})}function B(e){return Object(i["a"])({url:"/admin/AdminTool/strTran",method:"post",data:e})}function z(e){return Object(i["a"])({url:"/admin/AdminTool/timeTran",method:"post",data:e})}function U(e){return Object(i["a"])({url:"/admin/AdminTool/qrcode",method:"post",data:e})}function H(e){return Object(i["a"])({url:"/admin/AdminTool/byteTran",method:"post",data:e})}function G(e){return Object(i["a"])({url:"/admin/AdminTool/ipQuery",method:"post",data:e})}function W(e){return Object(i["a"])({url:"/admin/AdminLogin/verify",method:"get",params:e})}function F(e){return Object(i["a"])({url:"/admin/AdminLogin/login",method:"post",data:e})}function K(e){return Object(i["a"])({url:"/admin/AdminLogin/logout",method:"post",data:e})}},5173:function(e,t,a){"use strict";a("933e")},5202:function(e,t,a){"use strict";a("0620")},5334:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{xs:24,sm:23}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"会员ID",clearable:""},model:{value:e.memberQuery.member_id,callback:function(t){e.$set(e.memberQuery,"member_id",t)},expression:"memberQuery.member_id"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"账号",clearable:""},model:{value:e.memberQuery.username,callback:function(t){e.$set(e.memberQuery,"username",t)},expression:"memberQuery.username"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"手机",clearable:""},model:{value:e.memberQuery.phone,callback:function(t){e.$set(e.memberQuery,"phone",t)},expression:"memberQuery.phone"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"250px"},attrs:{placeholder:"邮箱",clearable:""},model:{value:e.memberQuery.email,callback:function(t){e.$set(e.memberQuery,"email",t)},expression:"memberQuery.email"}}),a("el-select",{staticClass:"filter-item",staticStyle:{width:"110px"},attrs:{placeholder:"日期类型",clearable:""},model:{value:e.memberQuery.date_type,callback:function(t){e.$set(e.memberQuery,"date_type",t)},expression:"memberQuery.date_type"}},[a("el-option",{key:"create_time",attrs:{label:"注册时间",value:"create_time"}}),a("el-option",{key:"login_time",attrs:{label:"登录时间",value:"login_time"}}),a("el-option",{key:"update_time",attrs:{label:"更新时间",value:"update_time"}})],1),a("el-date-picker",{staticStyle:{width:"240px",top:"-4px"},attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.memberQuery.date_range,callback:function(t){e.$set(e.memberQuery,"date_range",t)},expression:"memberQuery.date_range"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.memberSearch()}}},[e._v("查询")]),a("el-button",{staticClass:"filter-item",on:{click:function(t){return e.memberReset()}}},[e._v("重置")])],1),a("el-col",{staticStyle:{"text-align":"right"},attrs:{xs:24,sm:1}},[a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.memberAddition()}}},[e._v("添加")])],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.memberData,height:e.height,border:""},on:{"sort-change":e.memberSort}},[a("el-table-column",{attrs:{prop:"member_id",label:"会员ID","min-width":"100",sortable:"custom",fixed:"left"}}),a("el-table-column",{attrs:{prop:"username",label:"账号","min-width":"120",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"nickname",label:"昵称","min-width":"120",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机","min-width":"120",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱","min-width":"220",sortable:"custom","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"create_time",label:"注册时间","min-width":"160",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"login_time",label:"登录时间","min-width":"160",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注","min-width":"110"}}),a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"80",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"is_disable",label:"禁用","min-width":"80",sortable:"custom",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.memberIsProhibit(t.row)}},model:{value:t.row.is_disable,callback:function(a){e.$set(t.row,"is_disable",a)},expression:"scope.row.is_disable"}})]}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"210",align:"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.memberPassword(i)}}},[e._v("密码")]),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.memberModify(i)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.memberDelete(i)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.memberCount>0,expression:"memberCount > 0"}],attrs:{total:e.memberCount,page:e.memberQuery.page,limit:e.memberQuery.limit},on:{"update:page":function(t){return e.$set(e.memberQuery,"page",t)},"update:limit":function(t){return e.$set(e.memberQuery,"limit",t)},pagination:e.memberList}}),a("el-dialog",{attrs:{title:e.memberDialogTitle,visible:e.memberDialog,top:"1vh","before-close":e.memberCancel},on:{"update:visible":function(t){e.memberDialog=t}}},[a("el-form",{ref:"memberRef",staticClass:"dialog-body",style:{height:e.height+30+"px"},attrs:{model:e.memberModel,rules:e.memberRules,"label-width":"100px"}},[e.memberModel.member_id?a("el-form-item",{attrs:{label:"头像",prop:"avatar"}},[a("el-col",{attrs:{span:10}},[a("el-avatar",{attrs:{shape:"circle",fit:"contain",size:100,src:e.memberModel.avatar}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:4}}),a("el-col",{attrs:{span:10}},[a("el-upload",{attrs:{name:"avatar_file","show-file-list":!1,"before-upload":e.uploadBefore,action:e.uploadAction,headers:e.uploadHeaders,data:e.uploadData,"on-success":e.uploadSuccess}},[a("el-button",[e._v("更换头像")])],1),a("span",[e._v("jpg、png图片，小于100KB，宽高1:1")])],1)],1):e._e(),a("el-form-item",{attrs:{label:"账号",prop:"username"}},[a("el-input",{key:"username",attrs:{placeholder:"请输入账号",clearable:""},model:{value:e.memberModel.username,callback:function(t){e.$set(e.memberModel,"username",t)},expression:"memberModel.username"}})],1),a("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[a("el-input",{key:"nickname",attrs:{placeholder:"请输入昵称",clearable:""},model:{value:e.memberModel.nickname,callback:function(t){e.$set(e.memberModel,"nickname",t)},expression:"memberModel.nickname"}})],1),""==e.memberModel.member_id?a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{key:"password",attrs:{placeholder:"请输入密码",clearable:"","show-password":""},model:{value:e.memberModel.password,callback:function(t){e.$set(e.memberModel,"password",t)},expression:"memberModel.password"}})],1):e._e(),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{clearable:""},model:{value:e.memberModel.email,callback:function(t){e.$set(e.memberModel,"email",t)},expression:"memberModel.email"}})],1),a("el-form-item",{attrs:{label:"手机",prop:"phone"}},[a("el-input",{attrs:{clearable:""},model:{value:e.memberModel.phone,callback:function(t){e.$set(e.memberModel,"phone",t)},expression:"memberModel.phone"}})],1),a("el-form-item",{attrs:{label:"地区",prop:"region_id"}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.regionTree,props:e.regionProps,placeholder:""},on:{change:e.regionChange},model:{value:e.memberModel.region_id,callback:function(t){e.$set(e.memberModel,"region_id",t)},expression:"memberModel.region_id"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{clearable:""},model:{value:e.memberModel.remark,callback:function(t){e.$set(e.memberModel,"remark",t)},expression:"memberModel.remark"}})],1),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{attrs:{type:"number"},model:{value:e.memberModel.sort,callback:function(t){e.$set(e.memberModel,"sort",t)},expression:"memberModel.sort"}})],1),e.memberModel.member_id?a("el-form-item",{attrs:{label:"登录时间",prop:"login_time"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{disabled:""},model:{value:e.memberModel.login_time,callback:function(t){e.$set(e.memberModel,"login_time",t)},expression:"memberModel.login_time"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:4}},[e._v("登录地区")]),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{disabled:""},model:{value:e.memberModel.login_region,callback:function(t){e.$set(e.memberModel,"login_region",t)},expression:"memberModel.login_region"}})],1)],1):e._e(),e.memberModel.member_id?a("el-form-item",{attrs:{label:"注册时间",prop:"create_time"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{disabled:""},model:{value:e.memberModel.create_time,callback:function(t){e.$set(e.memberModel,"create_time",t)},expression:"memberModel.create_time"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:4}},[e._v("更新时间")]),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{disabled:""},model:{value:e.memberModel.update_time,callback:function(t){e.$set(e.memberModel,"update_time",t)},expression:"memberModel.update_time"}})],1)],1):e._e()],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.memberCancel}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.memberSubmit}},[e._v("提交")])],1)],1),a("el-dialog",{attrs:{title:"密码重置："+e.memberModel.username,visible:e.memberPwdDialog,top:"1vh","before-close":e.memberCancelPwd},on:{"update:visible":function(t){e.memberPwdDialog=t}}},[a("el-form",{ref:"memberPwdRef",staticClass:"dialog-body",style:{height:e.height+30+"px"},attrs:{rules:e.memberPwdRules,model:e.memberModel,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"账号"}},[a("el-input",{attrs:{clearable:"",disabled:""},model:{value:e.memberModel.username,callback:function(t){e.$set(e.memberModel,"username",t)},expression:"memberModel.username"}})],1),a("el-form-item",{attrs:{label:"昵称"}},[a("el-input",{attrs:{clearable:"",disabled:""},model:{value:e.memberModel.nickname,callback:function(t){e.$set(e.memberModel,"nickname",t)},expression:"memberModel.nickname"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入新密码",clearable:"","show-password":""},model:{value:e.memberModel.password,callback:function(t){e.$set(e.memberModel,"password",t)},expression:"memberModel.password"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.memberCancelPwd}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.memberSubmitPwd}},[e._v("提交")])],1)],1)],1)},n=[],r=a("98b1"),o=a("333d"),l=a("5f87"),s=a("b775");function c(e){return Object(s["a"])({url:"/admin/Member/memberList",method:"get",params:e})}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get";return"get"===t?Object(s["a"])({url:"/admin/Member/memberAdd",method:"get",params:e}):Object(s["a"])({url:"/admin/Member/memberAdd",method:"post",data:e})}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get";return"get"===t?Object(s["a"])({url:"/admin/Member/memberEdit",method:"get",params:e}):Object(s["a"])({url:"/admin/Member/memberEdit",method:"post",data:e})}function m(e){return Object(s["a"])({url:"/admin/Member/memberDele",method:"post",data:e})}function p(e){return Object(s["a"])({url:"/admin/Member/memberPassword",method:"post",data:e})}function f(e){return Object(s["a"])({url:"/admin/Member/memberDisable",method:"post",data:e})}var h={name:"MemberList",components:{Pagination:o["a"]},data:function(){return{height:680,loading:!1,memberData:[],memberCount:0,memberQuery:{page:1,limit:13},memberDialog:!1,memberDialogTitle:"",memberPwdDialog:!1,memberModel:{member_id:"",username:"",nickname:"",password:"",email:"",phone:"",region_id:"",avatar:"",remark:"",sort:1e4,login_region:""},regionTree:[],regionProps:{expandTrigger:"click",checkStrictly:!0,value:"region_id",label:"region_name"},uploadAction:"http://localhost:9526/index.php/admin/Member/memberAvatar",uploadHeaders:{AdminToken:Object(l["f"])(),AdminUserId:Object(l["g"])()},uploadData:{member_id:""},memberRules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},memberPwdRules:{password:[{required:!0,message:"请输入新密码",trigger:"blur"}]}}},created:function(){this.height=Object(r["a"])(),this.memberList()},methods:{memberList:function(){var e=this;this.loading=!0,c(this.memberQuery).then((function(t){e.memberData=t.data.list,e.memberCount=t.data.count,e.loading=!1})).catch((function(){e.loading=!1}))},memberSearch:function(){this.memberQuery.page=1,this.memberList()},memberReset:function(){this.memberQuery=this.$options.data().memberQuery,this.memberList()},memberSort:function(e){this.memberQuery.sort_field=e.prop,this.memberQuery.sort_type="","ascending"===e.order&&(this.memberQuery.sort_type="asc",this.memberList()),"descending"===e.order&&(this.memberQuery.sort_type="desc",this.memberList())},memberModelReset:function(){this.memberModel=this.$options.data().memberModel,void 0!==this.$refs["memberRef"]&&this.$refs["memberRef"].resetFields()},regionChange:function(e){e&&(this.memberModel.region_id=e[e.length-1])},memberAddition:function(){var e=this;this.memberDialog=!0,this.memberDialogTitle="会员添加",u().then((function(t){e.regionTree=t.data.region_tree})),this.memberModelReset()},memberModify:function(e){var t=this;this.memberDialog=!0,this.memberDialogTitle="会员修改："+e.username,d({member_id:e.member_id}).then((function(e){t.memberModel=e.data.member_info,t.regionTree=e.data.region_tree}))},uploadBefore:function(e){this.uploadData.member_id=this.memberModel.member_id},uploadSuccess:function(e,t){200===e.code?(this.memberModel.avatar=e.data.avatar,this.$message.success(e.msg)):this.$message.error(e.msg)},memberDelete:function(e){var t=this;this.$confirm('确定要删除会员 <span style="color:red">'+e.username+" </span>吗？","删除："+e.member_id,{type:"warning",dangerouslyUseHTMLString:!0}).then((function(){t.loading=!0,m({member_id:e.member_id}).then((function(e){t.memberList(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))})).catch((function(){}))},memberIsProhibit:function(e){var t=this;this.loading=!0,f(e).then((function(e){t.memberList(),t.$message.success(e.msg)})).catch((function(){t.memberList()}))},memberPassword:function(e){this.memberPwdDialog=!0,this.memberModel.member_id=e.member_id,this.memberModel.username=e.username,this.memberModel.nickname=e.nickname,this.memberModel.password=""},memberCancelPwd:function(){this.memberPwdDialog=!1,this.memberModelReset()},memberSubmitPwd:function(){var e=this;this.$refs["memberPwdRef"].validate((function(t){t&&(e.loading=!0,p({member_id:e.memberModel.member_id,password:e.memberModel.password}).then((function(t){e.memberList(),e.memberPwdDialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},memberCancel:function(){this.memberModelReset(),this.memberDialog=!1},memberSubmit:function(){var e=this;this.$refs["memberRef"].validate((function(t){t&&(e.loading=!0,e.memberModel.member_id?d(e.memberModel,"post").then((function(t){e.memberList(),e.memberDialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})):u(e.memberModel,"post").then((function(t){e.memberList(),e.memberDialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},g=h,b=a("c701"),v=Object(b["a"])(g,i,n,!1,null,null,null);t["default"]=v.exports},5361:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var i={};a.r(i),a.d(i,"parseTime",(function(){return T})),a.d(i,"formatTime",(function(){return O})),a.d(i,"timeAgo",(function(){return j})),a.d(i,"numberFormatter",(function(){return D})),a.d(i,"toThousandFilter",(function(){return A})),a.d(i,"uppercaseFirst",(function(){return Q}));a("cb3c"),a("72b3"),a("fae2"),a("270f"),a("139e"),a("fae9"),a("3ff7"),a("d6dc");var n=a("a593"),r=a("e04f"),o=a.n(r),l=(a("9f35"),a("e1fd")),s=a.n(l),c=(a("24ab"),a("b20f"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)}),u=[],d={name:"App"},m=d,p=a("c701"),f=Object(p["a"])(m,c,u,!1,null,null,null),h=f.exports,g=a("4360"),b=a("a18c"),v=(a("a543"),a("d211")),_=(a("6a61"),a("2e91")),y=a("38bc"),w=a.n(y),M=(a("70e7"),a("5f87")),x=(a("445a"),a("83d6")),k=a.n(x),S=k.a.pageTitle;function C(e){return e?"".concat(S," - ").concat(e):"".concat(S)}w.a.configure({showSpinner:!1});var $=["/login","/redirect"];b["c"].beforeEach(function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t,a,i){var n,r,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(w.a.start(),document.title=C(t.meta.title),n=Object(M["f"])(),!n){e.next=35;break}if("/login"!==t.path){e.next=9;break}i({path:"/"}),w.a.done(),e.next=33;break;case 9:if(r=g["a"].getters.roles&&g["a"].getters.roles.length>0,!r){e.next=14;break}i(),e.next=33;break;case 14:return e.prev=14,e.next=17,g["a"].dispatch("user/userInfo");case 17:return o=e.sent,s=o.roles,e.next=21,g["a"].dispatch("permission/generateRoutes",s);case 21:c=e.sent,b["c"].addRoutes(c),i(Object(v["a"])(Object(v["a"])({},t),{},{replace:!0})),e.next=33;break;case 26:return e.prev=26,e.t0=e["catch"](14),e.next=30,g["a"].dispatch("user/resetAdminToken");case 30:l["Message"].error(e.t0||"Has Error"),i("/login?redirect=".concat(t.path)),w.a.done();case 33:e.next=36;break;case 35:-1!==$.indexOf(t.path)?i():(i("/login?redirect=".concat(t.path)),w.a.done());case 36:case"end":return e.stop()}}),e,null,[[14,26]])})));return function(t,a,i){return e.apply(this,arguments)}}()),b["c"].afterEach((function(){w.a.done()}));a("b131"),a("d0bf"),a("7478"),a("402f"),a("0bd5"),a("836b"),a("9b42"),a("cb91"),a("cca2"),a("7a68"),a("6540"),a("e583"),a("36e5"),a("2db5"),a("5a4c"),a("752f"),a("79a8"),a("6ab7");var L=a("3e83");function T(e,t){if(0===arguments.length||!e)return null;var a,i=t||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(L["a"])(e)?a=e:("string"===typeof e&&(e=/^[0-9]+$/.test(e)?parseInt(e):e.replace(new RegExp(/-/gm),"/")),"number"===typeof e&&10===e.toString().length&&(e*=1e3),a=new Date(e));var n={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},r=i.replace(/{([ymdhisa])+}/g,(function(e,t){var a=n[t];return"a"===t?["日","一","二","三","四","五","六"][a]:a.toString().padStart(2,"0")}));return r}function O(e,t){e=10===(""+e).length?1e3*parseInt(e):+e;var a=new Date(e),i=Date.now(),n=(i-a)/1e3;return n<30?"刚刚":n<3600?Math.ceil(n/60)+"分钟前":n<86400?Math.ceil(n/3600)+"小时前":n<172800?"1天前":t?T(e,t):a.getMonth()+1+"月"+a.getDate()+"日"+a.getHours()+"时"+a.getMinutes()+"分"}function R(e,t){return 1===e?e+t:e+t+"s"}function j(e){var t=Date.now()/1e3-Number(e);return t<3600?R(~~(t/60)," minute"):t<86400?R(~~(t/3600)," hour"):R(~~(t/86400)," day")}function D(e,t){for(var a=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"}],i=0;i<a.length;i++)if(e>=a[i].value)return(e/a[i].value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+a[i].symbol;return e.toString()}function A(e){return(+e||0).toString().replace(/^-?\d+/g,(function(e){return e.replace(/(?=(?!\b)(\d{3})+$)/g,",")}))}function Q(e){return e.charAt(0).toUpperCase()+e.slice(1)}n["default"].use(s.a,{size:o.a.get("size")||"medium"}),Object.keys(i).forEach((function(e){n["default"].filter(e,i[e])})),n["default"].config.productionTip=!1,new n["default"]({el:"#app",router:b["c"],store:g["a"],render:function(e){return e(h)}})},5856:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.tokenLoad,expression:"tokenLoad"}],staticClass:"box-card"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{xs:24,sm:12}},[a("el-form",{ref:"tokenRef",attrs:{model:e.tokenModel,rules:e.tokenRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Token签发者",prop:"iss"}},[a("el-input",{attrs:{type:"text"},model:{value:e.tokenModel.iss,callback:function(t){e.$set(e.tokenModel,"iss",t)},expression:"tokenModel.iss"}})],1),a("el-form-item",{attrs:{label:"Token有效时间",prop:"exp"}},[a("el-input",{attrs:{type:"number"},model:{value:e.tokenModel.exp,callback:function(t){e.$set(e.tokenModel,"exp",t)},expression:"tokenModel.exp"}},[a("template",{slot:"append"},[e._v("小时")])],2)],1),a("el-form-item",[a("el-button",{on:{click:function(t){return e.tokenRefresh()}}},[e._v("刷新")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.tokenSubmit()}}},[e._v("提交")])],1)],1)],1)],1)],1)],1)},n=[],r=a("50fc"),o={name:"SettingToken",components:{},data:function(){return{tokenLoad:!1,tokenModel:{iss:"yylAdmin",exp:1},tokenRules:{iss:[{required:!0,message:"请输入签发者",trigger:"blur"}],exp:[{required:!0,message:"请输入有效时间",trigger:"blur"}]}}},created:function(){this.tokenGet()},methods:{tokenGet:function(){var e=this;Object(r["G"])().then((function(t){e.tokenModel=t.data}))},tokenRefresh:function(){var e=this;this.tokenLoad=!0,Object(r["G"])().then((function(t){e.tokenModel=t.data,e.tokenLoad=!1,e.$message.success(t.msg)})).catch((function(){e.tokenLoad=!1}))},tokenSubmit:function(){var e=this;this.$refs["tokenRef"].validate((function(t){t&&(e.tokenLoad=!0,Object(r["G"])(e.tokenModel).then((function(t){e.tokenLoad=!1,e.$message.success(t.msg)})).catch((function(){e.tokenLoad=!1})))}))}}},l=o,s=a("c701"),c=Object(s["a"])(l,i,n,!1,null,null,null);t["default"]=c.exports},"5f87":function(e,t,a){"use strict";a.d(t,"i",(function(){return o})),a.d(t,"g",(function(){return l})),a.d(t,"b",(function(){return s})),a.d(t,"h",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"a",(function(){return m})),a.d(t,"l",(function(){return f})),a.d(t,"e",(function(){return h})),a.d(t,"k",(function(){return b})),a.d(t,"d",(function(){return v})),a.d(t,"j",(function(){return y})),a.d(t,"c",(function(){return w}));var i=a("e04f"),n=a.n(i),r="AdminUserId";function o(e){return n.a.set(r,e)}function l(){return n.a.get(r)}function s(){return n.a.remove(r)}var c="AdminToken";function u(e){return n.a.set(c,e)}function d(){return n.a.get(c)}function m(){return n.a.remove(c)}var p="AdminUsername";function f(e){return n.a.set(p,e)}function h(){return n.a.remove(p)}var g="AdminNickname";function b(e){return n.a.set(g,e)}function v(){return n.a.remove(g)}var _="AdminAvatar";function y(e){return n.a.set(_,e)}function w(){return n.a.remove(_)}},"63f2":function(e,t,a){"use strict";a("e2a5")},"67ac":function(e,t,a){},"692e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"app-container"},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loadNum,expression:"loadNum"}],staticClass:"box-card"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:24,md:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("总计")])]),a("div",{staticClass:"text item"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("i",{staticClass:"el-icon-odometer icon"})]),a("el-col",{attrs:{span:12}},[e._v(" "+e._s(e.number.total)+" ")])],1)],1)])],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("今天")])]),a("div",{staticClass:"text item"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("i",{staticClass:"el-icon-odometer icon"})]),a("el-col",{attrs:{span:12}},[e._v(" "+e._s(e.number.today)+" ")])],1)],1)])],1),a("el-col",{attrs:{sm:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("昨天")])]),a("div",{staticClass:"text item"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("i",{staticClass:"el-icon-odometer icon"})]),a("el-col",{attrs:{span:12}},[e._v(" "+e._s(e.number.yesterday)+" ")])],1)],1)])],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("本周")])]),a("div",{staticClass:"text item"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("i",{staticClass:"el-icon-odometer icon"})]),a("el-col",{attrs:{span:12}},[e._v(" "+e._s(e.number.thisweek)+" ")])],1)],1)])],1),a("el-col",{attrs:{sm:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("上周")])]),a("div",{staticClass:"text item"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("i",{staticClass:"el-icon-odometer icon"})]),a("el-col",{attrs:{span:12}},[e._v(" "+e._s(e.number.lastweek)+" ")])],1)],1)])],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("本月")])]),a("div",{staticClass:"text item"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("i",{staticClass:"el-icon-odometer icon"})]),a("el-col",{attrs:{span:12}},[e._v(" "+e._s(e.number.thismonth)+" ")])],1)],1)])],1),a("el-col",{attrs:{sm:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("上月")])]),a("div",{staticClass:"text item"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("i",{staticClass:"el-icon-odometer icon"})]),a("el-col",{attrs:{span:12}},[e._v(" "+e._s(e.number.lastmonth)+" ")])],1)],1)])],1)],1)],1)],1),a("div",{staticClass:"app-container"},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loadDate,expression:"loadDate"}],staticClass:"box-card"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{sm:24}},[a("el-date-picker",{staticStyle:{"max-width":"280px"},attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(t){return e.echartDateChange()}},model:{value:e.date.date,callback:function(t){e.$set(e.date,"date",t)},expression:"date.date"}})],1)],1),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{sm:24}},[a("div",{style:{height:e.height+"px"},attrs:{id:"echartDate"}})])],1)],1)],1),a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{sm:24,md:8}},[a("el-date-picker",{staticStyle:{"max-width":"280px"},attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(t){return e.echartRegionChange()}},model:{value:e.region.date,callback:function(t){e.$set(e.region,"date",t)},expression:"region.date"}})],1),a("el-col",{attrs:{sm:24,md:16}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.echartRegionChange()}},model:{value:e.regionValue,callback:function(t){e.regionValue=t},expression:"regionValue"}},e._l(e.regionType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-divider"),a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loadRegion,expression:"loadRegion"}],attrs:{gutter:0}},[a("el-col",{attrs:{sm:24}},[a("div",{style:{height:e.height+"px"},attrs:{id:"echartRegionLine"}})])],1),a("el-divider"),a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loadRegion,expression:"loadRegion"}],attrs:{gutter:0}},[a("el-col",{attrs:{sm:24}},[a("div",{style:{height:e.height+"px"},attrs:{id:"echartRegionPie"}})])],1)],1)],1),a("back-to-top",{attrs:{"transition-name":"fade"}})],1)},n=[],r=a("0625"),o=a("ee6a"),l=a("a953");a("f75f"),a("b042"),a("40d7"),a("fd6a"),a("188e"),a("e3ae");var s={name:"MemberLogsta",components:{BackToTop:r["a"]},data:function(){return{height:680,loadNum:!1,loadDate:!1,loadRegion:!1,number:{total:"--",today:"--",yesterday:"--",thisweek:"--",lastweek:"--",thismonth:"--",lastmonth:"--"},date:{x_data:[],y_data:[],date:[]},region:{x_data:[],y_data:[],date:[]},regionType:[{value:"country",label:"国家"},{value:"province",label:"省份"},{value:"city",label:"城市"},{value:"isp",label:"ISP"}],regionValue:"city",regionLabel:"城市"}},computed:{},created:function(){this.memberLogSta()},mounted:function(){},methods:{memberLogSta:function(){var e=this;this.loadNum=!0,Object(o["d"])().then((function(t){e.number=t.data.number,e.date=t.data.date,e.region=t.data.region,e.echartDate(t.data.date),e.echartRegionLine(t.data.region),e.echartRegionPie(t.data.region),e.loadNum=!1})).catch((function(){e.loadNum=!1}))},echartDateChange:function(){var e=this;this.loadDate=!0,Object(o["d"])({type:"date",date:this.date.date}).then((function(t){e.echartDate(t.data.date),e.loadDate=!1})).catch((function(){e.loadDate=!1}))},echartRegionChange:function(e){var t=this;this.loadRegion=!0,Object(o["d"])({type:"region",date:this.region.date,region:this.regionValue}).then((function(e){t.echartRegionLine(e.data.region),t.echartRegionPie(e.data.region),t.loadRegion=!1})).catch((function(){t.loadRegion=!1}))},echartDate:function(e){var t=l.init(document.getElementById("echartDate")),a={title:{text:"",left:"center",textStyle:{color:"#666",fontSize:14}},color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e.x_data},yAxis:{type:"value"},series:[{data:e.y_data,type:"line",areaStyle:{}}]};t.setOption(a)},echartRegionLine:function(e){var t=l.init(document.getElementById("echartRegionLine")),a={title:{text:"",left:"center",textStyle:{color:"#666",fontSize:14}},color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:e.x_data,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"",type:"bar",barWidth:"60%",data:e.y_data}]};t.setOption(a)},echartRegionPie:function(e){var t=l.init(document.getElementById("echartRegionPie")),a={title:{text:"",left:"center",textStyle:{color:"#666",fontSize:14}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"3%",top:"20px"},series:[{name:"",type:"pie",radius:"55%",center:["50%","60%"],data:e.p_data,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.setOption(a)}}},c=s,u=(a("30ca"),a("c701")),d=Object(u["a"])(c,i,n,!1,null,"ce547cd8",null);t["default"]=d.exports},"6a0b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{staticStyle:{"text-align":"right"},attrs:{xs:24,sm:24}},[a("el-button",{staticClass:"filter-item",on:{click:function(t){return e.menuRefresh()}}},[e._v("刷新")]),a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.menuAddition()}}},[e._v("添加")])],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.menuData,height:e.height+80,"row-key":"admin_menu_id",border:""}},[a("el-table-column",{attrs:{prop:"menu_name",label:"菜单名称","min-width":"220",fixed:"left"}}),a("el-table-column",{attrs:{prop:"menu_url",label:"菜单链接","min-width":"260"}}),a("el-table-column",{attrs:{prop:"menu_sort",label:"菜单排序","min-width":"90"}}),a("el-table-column",{attrs:{prop:"admin_menu_id",label:"菜单ID","min-width":"90"}}),a("el-table-column",{attrs:{prop:"menu_pid",label:"菜单PID","min-width":"90"}}),a("el-table-column",{attrs:{prop:"create_time",label:"添加时间","min-width":"160"}}),a("el-table-column",{attrs:{prop:"update_time",label:"修改时间","min-width":"160"}}),a("el-table-column",{attrs:{prop:"is_disable",label:"是否禁用","min-width":"80",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.menu_url?a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.menuIsProhibit(t.row)}},model:{value:t.row.is_disable,callback:function(a){e.$set(t.row,"is_disable",a)},expression:"scope.row.is_disable"}}):e._e()]}}])}),a("el-table-column",{attrs:{prop:"is_unauth",label:"无需权限","min-width":"80",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.menu_url?a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.menuIsUnauth(t.row)}},model:{value:t.row.is_unauth,callback:function(a){e.$set(t.row,"is_unauth",a)},expression:"scope.row.is_unauth"}}):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"352",align:"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.menuRoleShow(i)}}},[e._v("角色")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.menuUserShow(i,"admin_menu_id")}}},[e._v("用户")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.menuAddition(i)}}},[e._v("添加")]),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.menuModify(i)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.menuDelete(i)}}},[e._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:e.menuDialogTitle,visible:e.menuDialog,top:"1vh","before-close":e.menuCancel},on:{"update:visible":function(t){e.menuDialog=t}}},[a("el-form",{ref:"menuRef",staticClass:"dialog-body",style:{height:e.height+30+"px"},attrs:{rules:e.menuRules,model:e.menuModel,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"菜单父级",prop:"menu_pid"}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.menuData,props:e.menuProps,placeholder:"一级菜单",clearable:"",filterable:""},on:{change:e.menuPidChange},model:{value:e.menuModel.menu_pid,callback:function(t){e.$set(e.menuModel,"menu_pid",t)},expression:"menuModel.menu_pid"}})],1),a("el-form-item",{attrs:{label:"菜单名称",prop:"menu_name"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入菜单名称"},model:{value:e.menuModel.menu_name,callback:function(t){e.$set(e.menuModel,"menu_name",t)},expression:"menuModel.menu_name"}})],1),a("el-form-item",{attrs:{label:"菜单链接",prop:"menu_url"}},[a("el-input",{attrs:{clearable:""},model:{value:e.menuModel.menu_url,callback:function(t){e.$set(e.menuModel,"menu_url",t)},expression:"menuModel.menu_url"}})],1),a("el-form-item",{attrs:{label:"菜单排序",prop:"menu_sort"}},[a("el-input",{attrs:{type:"number"},model:{value:e.menuModel.menu_sort,callback:function(t){e.$set(e.menuModel,"menu_sort",t)},expression:"menuModel.menu_sort"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.menuCancel}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.menuSubmit}},[e._v("提交")])],1)],1),a("el-dialog",{attrs:{title:e.roleTitle,visible:e.roleDialog,width:"65%",top:"1vh"},on:{"update:visible":function(t){e.roleDialog=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.roleLoad,expression:"roleLoad"}],ref:"roleRef",staticStyle:{width:"100%"},attrs:{data:e.roleData,height:e.height+30,border:""},on:{"sort-change":e.menuRoleSort}},[a("el-table-column",{attrs:{prop:"admin_role_id",label:"ID","min-width":"100",sortable:"custom",fixed:"left"}}),a("el-table-column",{attrs:{prop:"role_name",label:"角色","min-width":"120",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"role_desc",label:"描述","min-width":"130"}}),a("el-table-column",{attrs:{prop:"is_disable",label:"是否禁用","min-width":"110",align:"center",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:""},model:{value:t.row.is_disable,callback:function(a){e.$set(t.row,"is_disable",a)},expression:"scope.row.is_disable"}})]}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"120",align:"right","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.menuUserShow(i)}}},[e._v("用户")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.menuRoleRemove(i)}}},[e._v("解除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.roleCount>0,expression:"roleCount > 0"}],attrs:{total:e.roleCount,page:e.roleQuery.page,limit:e.roleQuery.limit},on:{"update:page":function(t){return e.$set(e.roleQuery,"page",t)},"update:limit":function(t){return e.$set(e.roleQuery,"limit",t)},pagination:e.menuRoleList}})],1),a("el-dialog",{attrs:{title:e.userTitle,visible:e.userDialog,width:"65%",top:"1vh"},on:{"update:visible":function(t){e.userDialog=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.userLoad,expression:"userLoad"}],ref:"userRef",staticStyle:{width:"100%"},attrs:{data:e.userData,height:e.height+30,border:""},on:{"sort-change":e.menuUserSort}},[a("el-table-column",{attrs:{prop:"admin_user_id",label:"ID","min-width":"100",sortable:"custom",fixed:"left"}}),a("el-table-column",{attrs:{prop:"username",label:"账号","min-width":"120",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"nickname",label:"昵称","min-width":"120"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱","min-width":"200","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"remark",label:"备注",width:"100"}}),a("el-table-column",{attrs:{prop:"is_admin",label:"是否管理员","min-width":"96",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:""},model:{value:t.row.is_admin,callback:function(a){e.$set(t.row,"is_admin",a)},expression:"scope.row.is_admin"}})]}}])}),a("el-table-column",{attrs:{prop:"is_disable",label:"是否禁用","min-width":"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:""},model:{value:t.row.is_disable,callback:function(a){e.$set(t.row,"is_disable",a)},expression:"scope.row.is_disable"}})]}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"100",align:"right","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[e.userQuery.admin_menu_id?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.menuUserRemove(i)}}},[e._v("解除")]):e._e()]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.userCount>0,expression:"userCount > 0"}],attrs:{total:e.userCount,page:e.userQuery.page,limit:e.userQuery.limit},on:{"update:page":function(t){return e.$set(e.userQuery,"page",t)},"update:limit":function(t){return e.$set(e.userQuery,"limit",t)},pagination:e.menuUserList}})],1)],1)},n=[],r=a("98b1"),o=a("333d"),l=a("50fc"),s={name:"Menu",components:{Pagination:o["a"]},data:function(){return{height:680,loading:!1,menuData:[],menuDialog:!1,menuDialogTitle:"",menuProps:{checkStrictly:!0,value:"admin_menu_id",label:"menu_name"},menuModel:{admin_menu_id:"",menu_pid:0,menu_name:"",menu_url:"",menu_sort:200},menuRules:{menu_name:[{required:!0,message:"请输入菜单名称",trigger:"blur"}]},roleDialog:!1,roleTitle:"",roleLoad:!1,roleData:[],roleCount:0,roleQuery:{page:1,limit:13},userDialog:!1,userTitle:"",userLoad:!1,userData:[],userCount:0,userQuery:{page:1,limit:10}}},created:function(){this.height=Object(r["a"])(),this.menuList()},methods:{menuList:function(){var e=this;this.loading=!0,Object(l["m"])().then((function(t){e.menuData=t.data.list,e.loading=!1})).catch((function(){e.loading=!1}))},menuRefresh:function(){this.menuList()},menuIsProhibit:function(e){var t=this;this.loading=!0,Object(l["k"])({admin_menu_id:e.admin_menu_id,is_disable:e.is_disable}).then((function(e){t.menuList(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))},menuIsUnauth:function(e){var t=this;this.loading=!0,Object(l["p"])({admin_menu_id:e.admin_menu_id,is_unauth:e.is_unauth}).then((function(e){t.menuList(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))},menuAddition:function(e){this.menuDialog=!0,this.menuDialogTitle="菜单添加",this.menuModel=this.$options.data().menuModel,e&&(this.menuModel.menu_pid=e.admin_menu_id)},menuModify:function(e){var t=this;this.menuDialog=!0,this.menuDialogTitle="菜单修改："+e.menu_name,Object(l["l"])({admin_menu_id:e.admin_menu_id}).then((function(e){t.menuModel=e.data}))},menuDelete:function(e){var t=this;this.$confirm('确定要删除菜单 <span style="color:red">'+e.menu_name+" </span>吗？","删除："+e.admin_menu_id,{type:"warning",dangerouslyUseHTMLString:!0}).then((function(){t.loading=!0,Object(l["j"])({admin_menu_id:e.admin_menu_id}).then((function(e){t.menuList(),t.menuReset(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))})).catch((function(){}))},menuPidChange:function(e){e&&(this.menuModel.menu_pid=e[e.length-1])},menuReset:function(e){this.menuModel=e||this.$options.data().menuModel,void 0!==this.$refs["menuRef"]&&this.$refs["menuRef"].resetFields()},menuCancel:function(){this.menuReset(),this.menuDialog=!1},menuSubmit:function(){var e=this;this.$refs["menuRef"].validate((function(t){t&&(e.loading=!0,e.menuModel.admin_menu_id?Object(l["l"])(e.menuModel,"post").then((function(t){e.menuList(),e.menuReset(),e.menuDialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})):Object(l["i"])(e.menuModel).then((function(t){e.menuList(),e.menuReset(),e.menuDialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},menuRoleShow:function(e){this.roleDialog=!0,this.roleTitle="菜单角色："+e.menu_name,this.roleQuery.admin_menu_id=e.admin_menu_id,this.menuRoleList()},menuRoleList:function(){var e=this;this.roleLoad=!0,Object(l["n"])(this.roleQuery).then((function(t){e.roleData=t.data.list,e.roleCount=t.data.count,e.roleLoad=!1,e.$nextTick((function(){e.$refs["roleRef"].doLayout()}))})).catch((function(){e.roleLoad=!1}))},menuRoleSort:function(e){this.roleQuery.sort_field=e.prop,this.roleQuery.sort_type="","ascending"===e.order&&(this.roleQuery.sort_type="asc",this.menuRoleList()),"descending"===e.order&&(this.roleQuery.sort_type="desc",this.menuRoleList())},menuRoleRemove:function(e){var t=this;this.$confirm('确定要解除菜单与角色 <span style="color:red">'+e.role_name+" </span>的关联吗？","解除："+e.admin_role_id,{type:"warning",dangerouslyUseHTMLString:!0}).then((function(){t.roleLoad=!0,Object(l["o"])({admin_menu_id:t.roleQuery.admin_menu_id,admin_role_id:e.admin_role_id}).then((function(e){t.menuRoleList(),t.$message.success(e.msg)})).catch((function(){t.roleLoad=!1}))})).catch((function(){}))},menuUserShow:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"admin_role_id";this.userDialog=!0,"admin_menu_id"===t?(this.userTitle="菜单用户（按菜单）："+e.menu_name,this.userQuery.admin_menu_id=e.admin_menu_id,this.userQuery.admin_role_id=""):(this.userTitle="菜单用户（按角色）："+e.role_name,this.userQuery.admin_menu_id="",this.userQuery.admin_role_id=e.admin_role_id),this.menuUserList()},menuUserList:function(){var e=this;this.userLoad=!0,Object(l["q"])(this.userQuery).then((function(t){e.userData=t.data.list,e.userCount=t.data.count,e.userLoad=!1,e.$nextTick((function(){e.$refs["userRef"].doLayout()}))})).catch((function(){e.userLoad=!1}))},menuUserSort:function(e){this.userQuery.sort_field=e.prop,this.userQuery.sort_type="","ascending"===e.order&&(this.userQuery.sort_type="asc",this.menuUserList()),"descending"===e.order&&(this.userQuery.sort_type="desc",this.menuUserList())},menuUserRemove:function(e){var t=this;this.$confirm('确定要解除菜单与用户 <span style="color:red">'+e.username+" </span>的关联吗？","解除："+e.admin_user_id,{type:"warning",dangerouslyUseHTMLString:!0}).then((function(){t.userLoad=!0,Object(l["r"])({admin_menu_id:t.userQuery.admin_menu_id,admin_user_id:e.admin_user_id}).then((function(e){t.menuUserList(),t.$message.success(e.msg)})).catch((function(){t.userLoad=!1}))})).catch((function(){}))}}},c=s,u=a("c701"),d=Object(u["a"])(c,i,n,!1,null,null,null);t["default"]=d.exports},7115:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.serverLoad,expression:"serverLoad"}],staticClass:"box-card"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{xs:24,sm:12}},[a("el-form",{ref:"serverInfoRef",attrs:{model:e.serverModel,rules:e.serverRules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"OS"}},[a("el-input",{model:{value:e.serverModel.system_info,callback:function(t){e.$set(e.serverModel,"system_info",t)},expression:"serverModel.system_info"}})],1),a("el-form-item",{attrs:{label:"Web"}},[a("el-input",{model:{value:e.serverModel.server_software,callback:function(t){e.$set(e.serverModel,"server_software",t)},expression:"serverModel.server_software"}})],1),a("el-form-item",{attrs:{label:"MySQL"}},[a("el-input",{model:{value:e.serverModel.mysql,callback:function(t){e.$set(e.serverModel,"mysql",t)},expression:"serverModel.mysql"}})],1),a("el-form-item",{attrs:{label:"PHP"}},[a("el-input",{model:{value:e.serverModel.php_version,callback:function(t){e.$set(e.serverModel,"php_version",t)},expression:"serverModel.php_version"}})],1),a("el-form-item",{attrs:{label:"php_sapi_name"}},[a("el-input",{model:{value:e.serverModel.php_sapi_name,callback:function(t){e.$set(e.serverModel,"php_sapi_name",t)},expression:"serverModel.php_sapi_name"}})],1),a("el-form-item",{attrs:{label:"ThinkPHP"}},[a("el-input",{model:{value:e.serverModel.thinkphp,callback:function(t){e.$set(e.serverModel,"thinkphp",t)},expression:"serverModel.thinkphp"}})],1),a("el-form-item",{attrs:{label:"Redis"}},[a("el-input",{model:{value:e.serverModel.redis,callback:function(t){e.$set(e.serverModel,"redis",t)},expression:"serverModel.redis"}})],1),a("el-form-item",{attrs:{label:"IP"}},[a("el-input",{model:{value:e.serverModel.ip,callback:function(t){e.$set(e.serverModel,"ip",t)},expression:"serverModel.ip"}})],1),a("el-form-item",{attrs:{label:"Domain"}},[a("el-input",{model:{value:e.serverModel.domain,callback:function(t){e.$set(e.serverModel,"domain",t)},expression:"serverModel.domain"}})],1),a("el-form-item",{attrs:{label:"Port"}},[a("el-input",{model:{value:e.serverModel.port,callback:function(t){e.$set(e.serverModel,"port",t)},expression:"serverModel.port"}})],1),a("el-form-item",{attrs:{label:"Protocol"}},[a("el-input",{model:{value:e.serverModel.server_protocol,callback:function(t){e.$set(e.serverModel,"server_protocol",t)},expression:"serverModel.server_protocol"}})],1),a("el-form-item",{attrs:{label:"max_execution_time"}},[a("el-input",{model:{value:e.serverModel.max_execution_time,callback:function(t){e.$set(e.serverModel,"max_execution_time",t)},expression:"serverModel.max_execution_time"}})],1),a("el-form-item",{attrs:{label:"upload_max_filesize"}},[a("el-input",{model:{value:e.serverModel.upload_max_filesize,callback:function(t){e.$set(e.serverModel,"upload_max_filesize",t)},expression:"serverModel.upload_max_filesize"}})],1),a("el-form-item",{attrs:{label:"post_max_size"}},[a("el-input",{model:{value:e.serverModel.post_max_size,callback:function(t){e.$set(e.serverModel,"post_max_size",t)},expression:"serverModel.post_max_size"}})],1)],1)],1)],1)],1)],1)},n=[],r=a("50fc"),o={name:"ServerInfo",components:{},data:function(){return{serverLoad:!1,serverModel:{},serverRules:{}}},created:function(){this.serverGet()},methods:{serverGet:function(){var e=this;Object(r["E"])().then((function(t){e.serverModel=t.data}))},serverRefresh:function(){var e=this;this.serverLoad=!0,Object(r["E"])().then((function(t){e.serverModel=t.data,e.serverLoad=!1,e.$message.success(t.msg)})).catch((function(){e.serverLoad=!1}))}}},l=o,s=(a("291b"),a("c701")),c=Object(s["a"])(l,i,n,!1,null,"36b9bcac",null);t["default"]=c.exports},7509:function(e,t,a){"use strict";a.r(t);a("cb3c"),a("c726"),a("a543"),a("b131"),a("d884"),a("989e"),a("1d7a"),a("402f"),a("b784"),a("6ab7");var i=a("4c09"),n=a("e3ee"),r=a("1377"),o={visitedViews:[],cachedViews:[]},l={ADD_VISITED_VIEW:function(e,t){e.visitedViews.some((function(e){return e.path===t.path}))||e.visitedViews.push(Object.assign({},t,{title:t.meta.title||"no-name"}))},ADD_CACHED_VIEW:function(e,t){e.cachedViews.includes(t.name)||t.meta.noCache||e.cachedViews.push(t.name)},DEL_VISITED_VIEW:function(e,t){var a,i=Object(r["a"])(e.visitedViews.entries());try{for(i.s();!(a=i.n()).done;){var o=Object(n["a"])(a.value,2),l=o[0],s=o[1];if(s.path===t.path){e.visitedViews.splice(l,1);break}}}catch(c){i.e(c)}finally{i.f()}},DEL_CACHED_VIEW:function(e,t){var a=e.cachedViews.indexOf(t.name);a>-1&&e.cachedViews.splice(a,1)},DEL_OTHERS_VISITED_VIEWS:function(e,t){e.visitedViews=e.visitedViews.filter((function(e){return e.meta.affix||e.path===t.path}))},DEL_OTHERS_CACHED_VIEWS:function(e,t){var a=e.cachedViews.indexOf(t.name);e.cachedViews=a>-1?e.cachedViews.slice(a,a+1):[]},DEL_ALL_VISITED_VIEWS:function(e){var t=e.visitedViews.filter((function(e){return e.meta.affix}));e.visitedViews=t},DEL_ALL_CACHED_VIEWS:function(e){e.cachedViews=[]},UPDATE_VISITED_VIEW:function(e,t){var a,i=Object(r["a"])(e.visitedViews);try{for(i.s();!(a=i.n()).done;){var n=a.value;if(n.path===t.path){n=Object.assign(n,t);break}}}catch(o){i.e(o)}finally{i.f()}}},s={addView:function(e,t){var a=e.dispatch;a("addVisitedView",t),a("addCachedView",t)},addVisitedView:function(e,t){var a=e.commit;a("ADD_VISITED_VIEW",t)},addCachedView:function(e,t){var a=e.commit;a("ADD_CACHED_VIEW",t)},delView:function(e,t){var a=e.dispatch,n=e.state;return new Promise((function(e){a("delVisitedView",t),a("delCachedView",t),e({visitedViews:Object(i["a"])(n.visitedViews),cachedViews:Object(i["a"])(n.cachedViews)})}))},delVisitedView:function(e,t){var a=e.commit,n=e.state;return new Promise((function(e){a("DEL_VISITED_VIEW",t),e(Object(i["a"])(n.visitedViews))}))},delCachedView:function(e,t){var a=e.commit,n=e.state;return new Promise((function(e){a("DEL_CACHED_VIEW",t),e(Object(i["a"])(n.cachedViews))}))},delOthersViews:function(e,t){var a=e.dispatch,n=e.state;return new Promise((function(e){a("delOthersVisitedViews",t),a("delOthersCachedViews",t),e({visitedViews:Object(i["a"])(n.visitedViews),cachedViews:Object(i["a"])(n.cachedViews)})}))},delOthersVisitedViews:function(e,t){var a=e.commit,n=e.state;return new Promise((function(e){a("DEL_OTHERS_VISITED_VIEWS",t),e(Object(i["a"])(n.visitedViews))}))},delOthersCachedViews:function(e,t){var a=e.commit,n=e.state;return new Promise((function(e){a("DEL_OTHERS_CACHED_VIEWS",t),e(Object(i["a"])(n.cachedViews))}))},delAllViews:function(e,t){var a=e.dispatch,n=e.state;return new Promise((function(e){a("delAllVisitedViews",t),a("delAllCachedViews",t),e({visitedViews:Object(i["a"])(n.visitedViews),cachedViews:Object(i["a"])(n.cachedViews)})}))},delAllVisitedViews:function(e){var t=e.commit,a=e.state;return new Promise((function(e){t("DEL_ALL_VISITED_VIEWS"),e(Object(i["a"])(a.visitedViews))}))},delAllCachedViews:function(e){var t=e.commit,a=e.state;return new Promise((function(e){t("DEL_ALL_CACHED_VIEWS"),e(Object(i["a"])(a.cachedViews))}))},updateVisitedView:function(e,t){var a=e.commit;a("UPDATE_VISITED_VIEW",t)}};t["default"]={namespaced:!0,state:o,mutations:l,actions:s}},7577:function(e,t,a){"use strict";a("28c7")},7666:function(e,t,a){},"81a5":function(e,t,a){e.exports=a.p+"static/img/logo.b1a6d3c6.png"},"81e0":function(e,t,a){"use strict";a("d88d")},"833e":function(e,t,a){"use strict";a("036d")},"83d6":function(e,t){e.exports={systemName:"yylAdmin",pageTitle:"yylAdmin后台",showSettings:!0,tagsView:!0,fixedHeader:!0,sidebarLogo:!0}},"86db":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{staticClass:"yyl-center yyl-top",attrs:{span:12,offset:6}},[a("el-image",{staticStyle:{width:"600px"},attrs:{src:e.error401,fit:"contain"}})],1)],1),a("el-row",[a("el-col",{staticClass:"yyl-center yyl-top",attrs:{span:6,offset:6}},[a("el-button",{attrs:{icon:"el-icon-arrow-left"},on:{click:e.back}},[e._v("返回")])],1),a("el-col",{staticClass:"yyl-center yyl-top",attrs:{span:6}},[a("el-button",{attrs:{icon:"el-icon-s-home"},on:{click:e.dashboard}},[e._v("控制台")])],1)],1),a("el-row",[a("el-col",{staticClass:"yyl-center yyl-top",attrs:{span:12,offset:6}},[a("a",{attrs:{href:"https://gitee.com/skyselang/yylAdmin",target:"_blank",title:""}},[a("img",{attrs:{src:"https://gitee.com/skyselang/yylAdmin/widgets/widget_card.svg?colors=4183c4,ffffff,ffffff,e3e9ed,666666,9b9b9b",alt:"",srcset:""}})])])],1)],1)},n=[],r=a("4d21"),o=a.n(r),l={name:"Error401",data:function(){return{error401:o.a}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/dashboard"}):this.$router.go(-1)},dashboard:function(){this.$router.push({path:"/dashboard"})}}},s=l,c=(a("9988"),a("c701")),u=Object(c["a"])(s,i,n,!1,null,"62d7e021",null);t["default"]=u.exports},9323:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-tabs",{on:{"tab-click":e.tabClick},model:{value:e.actTabName,callback:function(t){e.actTabName=t},expression:"actTabName"}},[e.checkPermission(["admin/AdminMy/myInfo"])?a("el-tab-pane",{attrs:{label:"我的信息",name:"info"}},[e.info?a("my-info"):e._e()],1):e._e(),e.checkPermission(["admin/AdminMy/myEdit"])?a("el-tab-pane",{attrs:{label:"修改信息",name:"edit"}},[e.edit?a("my-edit"):e._e()],1):e._e(),e.checkPermission(["admin/AdminMy/myPwd"])?a("el-tab-pane",{attrs:{label:"修改密码",name:"pwd"}},[e.pwd?a("my-pwd"):e._e()],1):e._e(),e.checkPermission(["admin/AdminMy/myAvatar"])?a("el-tab-pane",{attrs:{label:"更换头像",name:"avatar"}},[e.avatar?a("my-avatar"):e._e()],1):e._e(),e.checkPermission(["admin/AdminMy/myLog"])?a("el-tab-pane",{attrs:{label:"我的日志",name:"log"}},[e.log?a("my-log"):e._e()],1):e._e(),e.checkPermission(["admin/AdminMy/mySetting"])?a("el-tab-pane",{attrs:{label:"我的设置",name:"setting"}},[e.setting?a("my-setting"):e._e()],1):e._e()],1)],1)},n=[],r=(a("1d7a"),a("e350")),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box-card"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{xs:24,sm:12}},[a("el-form",{ref:"userRef",staticClass:"dialog-body",attrs:{rules:e.userRules,model:e.userModel,"label-width":"100px"}},[e.userModel.admin_user_id&&e.userModel.avatar?a("el-form-item",{attrs:{label:"头像"}},[a("el-avatar",{attrs:{shape:"circle",fit:"contain",size:100,src:e.userModel.avatar}})],1):e._e(),a("el-form-item",{attrs:{label:"账号",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入账号",clearable:""},model:{value:e.userModel.username,callback:function(t){e.$set(e.userModel,"username",t)},expression:"userModel.username"}})],1),a("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[a("el-input",{attrs:{placeholder:"请输入昵称",clearable:""},model:{value:e.userModel.nickname,callback:function(t){e.$set(e.userModel,"nickname",t)},expression:"userModel.nickname"}})],1),""==e.userModel.admin_user_id?a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入密码",clearable:"","show-password":""},model:{value:e.userModel.password,callback:function(t){e.$set(e.userModel,"password",t)},expression:"userModel.password"}})],1):e._e(),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{clearable:""},model:{value:e.userModel.email,callback:function(t){e.$set(e.userModel,"email",t)},expression:"userModel.email"}})],1),e.userModel.admin_user_id?a("el-form-item",{attrs:{label:"添加时间",prop:"create_time"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.userModel.create_time,callback:function(t){e.$set(e.userModel,"create_time",t)},expression:"userModel.create_time"}})],1):e._e(),e.userModel.admin_user_id?a("el-form-item",{attrs:{label:"更新时间",prop:"update_time"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.userModel.update_time,callback:function(t){e.$set(e.userModel,"update_time",t)},expression:"userModel.update_time"}})],1):e._e(),e.userModel.admin_user_id?a("el-form-item",{attrs:{label:"登录时间",prop:"update_time"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.userModel.login_time,callback:function(t){e.$set(e.userModel,"login_time",t)},expression:"userModel.login_time"}})],1):e._e(),e.userModel.admin_user_id?a("el-form-item",{attrs:{label:"退出时间",prop:"logout_time"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.userModel.logout_time,callback:function(t){e.$set(e.userModel,"logout_time",t)},expression:"userModel.logout_time"}})],1):e._e(),a("el-form-item",[a("el-button",{on:{click:e.userRefresh}},[e._v("刷新")])],1)],1)],1)],1)],1)],1)},l=[],s=a("5f87"),c=a("50fc"),u={name:"MyInfo",components:{},data:function(){return{loading:!1,userModel:{admin_user_id:Object(s["g"])(),username:"",nickname:"",email:"",create_time:"",update_time:"",login_time:"",logout_time:""},userRules:{}}},created:function(){this.myInfo()},methods:{myInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loading=!0,Object(c["t"])({admin_user_id:this.userModel.admin_user_id}).then((function(a){e.userModel=a.data,e.loading=!1,t&&e.$message.success(a.msg)})).catch((function(){e.loading=!1}))},userRefresh:function(){this.myInfo(!0)}}},d=u,m=a("c701"),p=Object(m["a"])(d,o,l,!1,null,null,null),f=p.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box-card"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{xs:24,sm:12}},[a("el-form",{ref:"userRef",attrs:{rules:e.userRules,model:e.userModel,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"账号",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入账号",clearable:""},model:{value:e.userModel.username,callback:function(t){e.$set(e.userModel,"username",t)},expression:"userModel.username"}})],1),a("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[a("el-input",{attrs:{placeholder:"请输入昵称",clearable:""},model:{value:e.userModel.nickname,callback:function(t){e.$set(e.userModel,"nickname",t)},expression:"userModel.nickname"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",clearable:""},model:{value:e.userModel.email,callback:function(t){e.$set(e.userModel,"email",t)},expression:"userModel.email"}})],1),a("el-form-item",[a("el-button",{on:{click:e.userRefresh}},[e._v("刷新")]),a("el-button",{attrs:{type:"primary"},on:{click:e.userSubmit}},[e._v("提交")])],1)],1)],1)],1)],1)],1)},g=[],b=a("4360"),v={name:"MyEdit",components:{},data:function(){return{loading:!1,userModel:{admin_user_id:Object(s["g"])(),username:"",nickname:"",email:""},userRules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"}]}}},created:function(){this.myEdit()},methods:{myEdit:function(){var e=this;Object(c["s"])({admin_user_id:this.userModel.admin_user_id}).then((function(t){e.$refs["userRef"].resetFields(),e.userModel=t.data}))},userRefresh:function(){this.loading=!0,this.myEdit(),this.loading=!1},userSubmit:function(){var e=this;this.$refs["userRef"].validate((function(t){t&&(e.loading=!0,Object(c["s"])(e.userModel,"post").then((function(t){e.userRefresh(),b["a"].commit("user/SET_NICKNAME",t.data.nickname),b["a"].commit("user/SET_USERNAME",t.data.username),e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},_=v,y=Object(m["a"])(_,h,g,!1,null,null,null),w=y.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box-card"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{xs:24,sm:12}},[a("el-form",{ref:"userRef",attrs:{rules:e.userRules,model:e.userModel,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"旧密码",prop:"password_old"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入旧密码",autocomplete:"off",clearable:"","show-password":""},model:{value:e.userModel.password_old,callback:function(t){e.$set(e.userModel,"password_old",t)},expression:"userModel.password_old"}})],1),a("el-form-item",{attrs:{label:"新密码",prop:"password_new"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入新密码",autocomplete:"off",clearable:"","show-password":""},model:{value:e.userModel.password_new,callback:function(t){e.$set(e.userModel,"password_new",t)},expression:"userModel.password_new"}})],1),a("el-form-item",[a("el-button",{on:{click:e.userReset}},[e._v("重置")]),a("el-button",{attrs:{type:"primary"},on:{click:e.userSubmit}},[e._v("提交")])],1)],1)],1)],1)],1)],1)},x=[],k={name:"MyPwd",components:{},data:function(){return{loading:!1,userModel:{admin_user_id:Object(s["g"])(),password_old:"",password_new:""},userRules:{password_old:[{required:!0,message:"请输入旧密码",trigger:"blur"}],password_new:[{required:!0,message:"请输入新密码",trigger:"blur"}]}}},methods:{userReset:function(){this.$refs["userRef"].resetFields()},userSubmit:function(){var e=this;this.$refs["userRef"].validate((function(t){t&&(e.loading=!0,Object(c["v"])(e.userModel).then((function(t){e.userReset(),e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},S=k,C=Object(m["a"])(S,M,x,!1,null,null,null),$=C.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box-card"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{xs:24,sm:12}},[a("el-form",{ref:"userRef",attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"头像"}},[e.avatar?a("el-avatar",{attrs:{shape:"circle",fit:"contain",size:100,src:e.avatar}}):e._e()],1),a("el-form-item",{attrs:{label:""}},[a("div",[e._v("jpg、png图片，小于50kb，宽高1:1")])]),a("el-form-item",[a("el-upload",{attrs:{name:"avatar_file","show-file-list":!1,"before-upload":e.uploadBefore,action:e.uploadAction,headers:e.uploadHeaders,data:e.uploadData,"on-success":e.uploadSuccess,"on-error":e.uploadError}},[a("el-button",{attrs:{type:"primary"}},[e._v("更换")])],1)],1)],1)],1)],1)],1)],1)},T=[],O=a("d211"),R=a("cf6b"),j={name:"MyAvatar",components:{},data:function(){return{loading:!1,uploadAction:"http://localhost:9526/index.php/admin/AdminMy/myAvatar",uploadHeaders:{AdminToken:Object(s["f"])(),AdminUserId:Object(s["g"])()},uploadData:{admin_user_id:Object(s["g"])()}}},computed:Object(O["a"])({},Object(R["b"])(["avatar"])),methods:{uploadBefore:function(e){this.loading=!0},uploadSuccess:function(e,t){200===e.code?(b["a"].commit("user/SET_AVATAR",e.data.avatar),this.loading=!1,this.$message.success(e.msg)):(this.loading=!1,this.$message.error(e.msg))},uploadError:function(e){this.loading=!1}}},D=j,A=Object(m["a"])(D,L,T,!1,null,null,null),Q=A.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"filter-container"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{xs:24,sm:24}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"110px"},attrs:{placeholder:"日志类型",clearable:""},model:{value:e.logQuery.log_type,callback:function(t){e.$set(e.logQuery,"log_type",t)},expression:"logQuery.log_type"}},[a("el-option",{key:"log_type1",attrs:{label:"登录日志",value:1}}),a("el-option",{key:"log_type2",attrs:{label:"操作日志",value:2}})],1),a("el-input",{staticClass:"filter-item",staticStyle:{width:"155px"},attrs:{placeholder:"请求IP/地区/ISP",clearable:""},model:{value:e.logQuery.request_keyword,callback:function(t){e.$set(e.logQuery,"request_keyword",t)},expression:"logQuery.request_keyword"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"280px"},attrs:{placeholder:"菜单链接/名称",clearable:""},model:{value:e.logQuery.menu_keyword,callback:function(t){e.$set(e.logQuery,"menu_keyword",t)},expression:"logQuery.menu_keyword"}}),a("el-date-picker",{staticStyle:{width:"240px",top:"-4px"},attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.logQuery.create_time,callback:function(t){e.$set(e.logQuery,"create_time",t)},expression:"logQuery.create_time"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.logSearch()}}},[e._v("查询")]),a("el-button",{staticClass:"filter-item",on:{click:function(t){return e.logRefresh()}}},[e._v("重置")])],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.logData,height:e.height-50,border:""},on:{"sort-change":e.logSort}},[a("el-table-column",{attrs:{prop:"admin_log_id",label:"ID","min-width":"100",sortable:"custom",fixed:"left"}}),a("el-table-column",{attrs:{prop:"menu_url",label:"菜单链接","min-width":"250"}}),a("el-table-column",{attrs:{prop:"menu_name",label:"菜单名称","min-width":"150"}}),a("el-table-column",{attrs:{prop:"request_method",label:"请求方式 ","min-width":"110",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"request_ip",label:"请求IP","min-width":"130",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"request_region",label:"请求地区","min-width":"160"}}),a("el-table-column",{attrs:{prop:"request_isp",label:"请求ISP","min-width":"110"}}),a("el-table-column",{attrs:{prop:"create_time",label:"请求时间","min-width":"160",sortable:"custom"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.logCount>0,expression:"logCount > 0"}],attrs:{total:e.logCount,page:e.logQuery.page,limit:e.logQuery.limit},on:{"update:page":function(t){return e.$set(e.logQuery,"page",t)},"update:limit":function(t){return e.$set(e.logQuery,"limit",t)},pagination:e.myLogList}})],1)},P=[],V=a("98b1"),I=a("333d"),q={name:"MyLog",components:{Pagination:I["a"]},data:function(){return{height:680,loading:!0,logData:[],logCount:0,logQuery:{page:1,limit:13}}},created:function(){this.height=Object(V["a"])(),this.myLogList()},methods:{myLogList:function(){var e=this;this.loading=!0,Object(c["u"])(this.logQuery).then((function(t){e.logData=t.data.list,e.logCount=t.data.count,e.loading=!1})).catch((function(){e.loading=!1}))},logSearch:function(){this.logQuery.page=1,this.myLogList()},logRefresh:function(){this.logQuery=this.$options.data().logQuery,this.myLogList()},logSort:function(e){this.logQuery.sort_field=e.prop,this.logQuery.sort_type="","ascending"===e.order&&(this.logQuery.sort_type="asc",this.myLogList()),"descending"===e.order&&(this.logQuery.sort_type="desc",this.myLogList())}}},N=q,B=Object(m["a"])(N,E,P,!1,null,null,null),z=B.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{xs:24,sm:12}},[a("el-form",{ref:"settingRef",attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"设置主题"}},[a("theme-picker",{on:{change:e.themeChange}})],1),a("el-form-item",{attrs:{label:"便签导航"}},[a("el-switch",{staticClass:"drawer-switch",model:{value:e.tagsView,callback:function(t){e.tagsView=t},expression:"tagsView"}})],1),a("el-form-item",{attrs:{label:"固定头部"}},[a("el-switch",{staticClass:"drawer-switch",model:{value:e.fixedHeader,callback:function(t){e.fixedHeader=t},expression:"fixedHeader"}})],1),a("el-form-item",{attrs:{label:"Logo名称"}},[a("el-switch",{staticClass:"drawer-switch",model:{value:e.sidebarLogo,callback:function(t){e.sidebarLogo=t},expression:"sidebarLogo"}})],1)],1)],1)],1)],1)],1)},H=[],G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-color-picker",{staticClass:"theme-picker",attrs:{predefine:["#409EFF","#1890ff","#304156","#212121","#11a983","#13c2c2","#6959CD","#f5222d"],"popper-class":"theme-picker-dropdown"},model:{value:e.theme,callback:function(t){e.theme=t},expression:"theme"}})},W=[],F=(a("445a"),a("cb3c"),a("72b3"),a("cca2"),a("b131"),a("d0bf"),a("7478"),a("402f"),a("e583"),a("0bd5"),a("836b"),a("9b42"),a("270f"),a("6a61"),a("2e91")),K=a("2fd3").version,J="#409EFF",Y={data:function(){return{chalk:"",theme:""}},computed:{defaultTheme:function(){return this.$store.state.settings.theme}},watch:{defaultTheme:{handler:function(e,t){this.theme=e},immediate:!0},theme:function(e){var t=this;return Object(F["a"])(regeneratorRuntime.mark((function a(){var i,n,r,o,l,s,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=t.chalk?t.theme:J,"string"===typeof e){a.next=3;break}return a.abrupt("return");case 3:if(n=t.getThemeCluster(e.replace("#","")),r=t.getThemeCluster(i.replace("#","")),console.log(n,r),o=t.$message({message:"  Compiling the theme",customClass:"theme-message",type:"success",duration:0,iconClass:"el-icon-loading"}),l=function(e,a){return function(){var i=t.getThemeCluster(J.replace("#","")),r=t.updateStyle(t[e],i,n),o=document.getElementById(a);o||(o=document.createElement("style"),o.setAttribute("id",a),document.head.appendChild(o)),o.innerText=r}},t.chalk){a.next=12;break}return s="https://unpkg.com/element-ui@".concat(K,"/lib/theme-chalk/index.css"),a.next=12,t.getCSSString(s,"chalk");case 12:c=l("chalk","chalk-style"),c(),u=[].slice.call(document.querySelectorAll("style")).filter((function(e){var t=e.innerText;return new RegExp(i,"i").test(t)&&!/Chalk Variables/.test(t)})),u.forEach((function(e){var a=e.innerText;"string"===typeof a&&(e.innerText=t.updateStyle(a,r,n))})),t.$emit("change",e),o.close();case 18:case"end":return a.stop()}}),a)})))()}},methods:{updateStyle:function(e,t,a){var i=e;return t.forEach((function(e,t){i=i.replace(new RegExp(e,"ig"),a[t])})),i},getCSSString:function(e,t){var a=this;return new Promise((function(i){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(a[t]=n.responseText.replace(/@font-face{[^}]+}/,""),i())},n.open("GET",e),n.send()}))},getThemeCluster:function(e){for(var t=function(e,t){var a=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),n=parseInt(e.slice(4,6),16);return 0===t?[a,i,n].join(","):(a+=Math.round(t*(255-a)),i+=Math.round(t*(255-i)),n+=Math.round(t*(255-n)),a=a.toString(16),i=i.toString(16),n=n.toString(16),"#".concat(a).concat(i).concat(n))},a=function(e,t){var a=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),n=parseInt(e.slice(4,6),16);return a=Math.round((1-t)*a),i=Math.round((1-t)*i),n=Math.round((1-t)*n),a=a.toString(16),i=i.toString(16),n=n.toString(16),"#".concat(a).concat(i).concat(n)},i=[e],n=0;n<=9;n++)i.push(t(e,Number((n/10).toFixed(2))));return i.push(a(e,.1)),i}}},X=Y,Z=(a("06c2"),Object(m["a"])(X,G,W,!1,null,null,null)),ee=Z.exports,te={name:"MySetting",components:{ThemePicker:ee},data:function(){return{}},computed:{tagsView:{get:function(){return this.$store.state.settings.tagsView},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"tagsView",value:e})}},fixedHeader:{get:function(){return this.$store.state.settings.fixedHeader},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"fixedHeader",value:e})}},sidebarLogo:{get:function(){return this.$store.state.settings.sidebarLogo},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"sidebarLogo",value:e})}}},methods:{themeChange:function(e){this.$store.dispatch("settings/changeSetting",{key:"theme",value:e})}}},ae=te,ie=Object(m["a"])(ae,U,H,!1,null,null,null),ne=ie.exports,re={name:"My",components:{MyInfo:f,MyEdit:w,MyPwd:$,MyAvatar:Q,MyLog:z,MySetting:ne},data:function(){return{info:!0,edit:!1,pwd:!1,avatar:!1,log:!1,setting:!1,actTabName:"info"}},methods:{checkPermission:r["a"],tabClick:function(e){this[e.name]=!0}}},oe=re,le=Object(m["a"])(oe,i,n,!1,null,null,null);t["default"]=le.exports},"933e":function(e,t,a){},"98b1":function(e,t,a){"use strict";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=880,a=document.documentElement.clientHeight||document.body.clientHeight;return a?a-e:t-e}a.d(t,"a",(function(){return i}))},9988:function(e,t,a){"use strict";a("5361")},"99da":function(e,t,a){},a18c:function(e,t,a){"use strict";a.d(t,"b",(function(){return ht})),a.d(t,"a",(function(){return gt})),a.d(t,"d",(function(){return _t}));a("402f");var i=a("eb8e"),n=a("a593"),r=a("a81e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-wrapper",class:e.classObj},["mobile"===e.device&&e.sidebar.opened?a("div",{staticClass:"drawer-bg",on:{click:e.handleClickOutside}}):e._e(),a("sidebar",{staticClass:"sidebar-container"}),a("div",{staticClass:"main-container",class:{hasTagsView:e.needTagsView}},[a("div",{class:{"fixed-header":e.fixedHeader}},[a("navbar"),e.needTagsView?a("tags-view"):e._e()],1),a("app-main")],1)],1)},l=[],s=a("d211"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"app-main"},[a("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[a("keep-alive",{attrs:{include:e.cachedViews}},[a("router-view",{key:e.key})],1)],1)],1)},u=[],d={name:"AppMain",computed:{cachedViews:function(){return this.$store.state.tagsView.cachedViews},key:function(){return this.$route.path}}},m=d,p=(a("c968"),a("028b"),a("c701")),f=Object(p["a"])(m,c,u,!1,null,"92459f82",null),h=f.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"navbar"},[a("hamburger",{staticClass:"hamburger-container",attrs:{id:"hamburger-container","is-active":e.sidebar.opened},on:{toggleClick:e.toggleSideBar}}),a("breadcrumb",{staticClass:"breadcrumb-container",attrs:{id:"breadcrumb-container"}}),a("div",{staticClass:"right-menu"},["mobile"!==e.device?[a("span",{staticStyle:{display:"inline-block",float:"left","margin-right":"10px",color:"#409eff"},attrs:{title:"个人中心"}},[a("router-link",{attrs:{to:"/rule/my"}},[e._v(" "+e._s(e.nickname)+" ")])],1),a("search",{staticClass:"right-menu-item",attrs:{id:"header-search"}}),a("screenfull",{staticClass:"right-menu-item hover-effect",attrs:{id:"screenfull"}}),a("size-select",{staticClass:"right-menu-item hover-effect",attrs:{id:"size-select"}})]:e._e(),a("el-dropdown",{staticClass:"avatar-container right-menu-item hover-effect",attrs:{trigger:"click"}},[a("div",{staticClass:"avatar-wrapper"},[e.avatar?a("el-avatar",{attrs:{shape:"circle",fit:"contain",size:48,src:e.avatar}}):a("el-avatar",{attrs:{shape:"circle",fit:"contain",size:48,src:"/favicon.ico"}}),a("i",{staticClass:"el-icon-caret-bottom"})],1),a("el-dropdown-menu",{staticStyle:{"text-align":"center"},attrs:{slot:"dropdown"},slot:"dropdown"},[a("router-link",{attrs:{to:"/rule/my"}},[a("el-dropdown-item",[e._v("个人中心")])],1),a("router-link",{attrs:{to:"/"}},[a("el-dropdown-item",[e._v("控制台")])],1),a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){return e.logout(t)}}},[a("span",{staticStyle:{display:"block"}},[e._v("退出")])])],1)],1)],2)],1)},b=[],v=(a("6a61"),a("2e91")),_=a("cf6b"),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-breadcrumb",{staticClass:"app-breadcrumb",attrs:{separator:"/"}},[a("transition-group",{attrs:{name:"breadcrumb"}},e._l(e.levelList,(function(t,i){return a("el-breadcrumb-item",{key:t.path},["noRedirect"===t.redirect||i==e.levelList.length-1?a("span",{staticClass:"no-redirect"},[e._v(e._s(t.meta.title))]):a("a",{on:{click:function(a){return a.preventDefault(),e.handleLink(t)}}},[e._v(e._s(t.meta.title))])])})),1)],1)},w=[],M=(a("445a"),a("cb3c"),a("1d7a"),a("332c"),a("0861"),a("4aeb")),x={data:function(){return{levelList:null}},watch:{$route:function(e){e.path.startsWith("/redirect/")||this.getBreadcrumb()}},created:function(){this.getBreadcrumb()},methods:{getBreadcrumb:function(){var e=this.$route.matched.filter((function(e){return e.meta&&e.meta.title})),t=e[0];this.isDashboard(t)||(e=[{path:"/dashboard",meta:{title:"控制台"}}].concat(e)),this.levelList=e.filter((function(e){return e.meta&&e.meta.title&&!1!==e.meta.breadcrumb}))},isDashboard:function(e){var t=e&&e.name;return!!t&&t.trim().toLocaleLowerCase()==="Dashboard".toLocaleLowerCase()},pathCompile:function(e){var t=this.$route.params,a=M["a"](e);return a(t)},handleLink:function(e){var t=e.redirect,a=e.path;t?this.$router.push(t):this.$router.push(this.pathCompile(a))}}},k=x,S=(a("19b1"),Object(p["a"])(k,y,w,!1,null,"7a3c1fc9",null)),C=S.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"0 15px"},on:{click:e.toggleClick}},[a("svg",{staticClass:"hamburger",class:{"is-active":e.isActive},attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64"}},[a("path",{attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"}})])])},L=[],T={name:"Hamburger",props:{isActive:{type:Boolean,default:!1}},methods:{toggleClick:function(){this.$emit("toggleClick")}}},O=T,R=(a("186a"),Object(p["a"])(O,$,L,!1,null,"49e15297",null)),j=R.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("i",{staticClass:"el-icon-full-screen",attrs:{title:"全屏"},on:{click:e.click}})])},A=[],Q=a("c09c"),E=a.n(Q),P={name:"Screenfull",data:function(){return{isFullscreen:!1}},mounted:function(){this.init()},beforeDestroy:function(){this.destroy()},methods:{click:function(){if(!E.a.isEnabled)return this.$message({message:"you browser can not work",type:"warning"}),!1;E.a.toggle()},change:function(){this.isFullscreen=E.a.isFullscreen},init:function(){E.a.enabled&&E.a.on("change",this.change)},destroy:function(){E.a.enabled&&E.a.off("change",this.change)}}},V=P,I=Object(p["a"])(V,D,A,!1,null,null,null),q=I.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleSetSize}},[a("div",[a("i",{staticClass:"el-icon-s-operation",attrs:{title:"字体大小"}})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.sizeOptions,(function(t){return a("el-dropdown-item",{key:t.value,attrs:{disabled:e.size===t.value,command:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)},B=[],z=(a("0bd5"),a("9b42"),{data:function(){return{sizeOptions:[{label:"默认",value:"default"},{label:"中",value:"medium"},{label:"小",value:"small"},{label:"迷你",value:"mini"}]}},computed:{size:function(){return this.$store.getters.size}},methods:{handleSetSize:function(e){this.$ELEMENT.size=e,this.$store.dispatch("app/setSize",e),this.refreshView(),this.$message({message:"Switch Size Success",type:"success"})},refreshView:function(){var e=this;this.$store.dispatch("tagsView/delAllCachedViews",this.$route);var t=this.$route.fullPath;this.$nextTick((function(){e.$router.replace({path:"/redirect"+t})}))}}}),U=z,H=Object(p["a"])(U,N,B,!1,null,null,null),G=H.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-search",class:{show:e.show}},[a("i",{staticClass:"el-icon-search search-icon",attrs:{title:"搜索菜单"},on:{click:function(t){return t.stopPropagation(),e.click(t)}}}),a("el-select",{ref:"headerSearchSelect",staticClass:"header-search-select",attrs:{"remote-method":e.querySearch,filterable:"","default-first-option":"",remote:"",placeholder:"菜单名称"},on:{change:e.change},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},e._l(e.options,(function(e){return a("el-option",{key:e.path,attrs:{value:e,label:e.title.join(" > ")}})})),1)],1)},F=[],K=(a("2df5"),a("4c09")),J=a("1377"),Y=a("5d94"),X=a.n(Y),Z=a("6266"),ee=a.n(Z),te={name:"HeaderSearch",data:function(){return{search:"",options:[],searchPool:[],show:!1,fuse:void 0}},computed:{routes:function(){return this.$store.getters.permission_routes}},watch:{routes:function(){this.searchPool=this.generateRoutes(this.routes)},searchPool:function(e){this.initFuse(e)},show:function(e){e?document.body.addEventListener("click",this.close):document.body.removeEventListener("click",this.close)}},mounted:function(){this.searchPool=this.generateRoutes(this.routes)},methods:{click:function(){this.show=!this.show,this.show&&this.$refs.headerSearchSelect&&this.$refs.headerSearchSelect.focus()},close:function(){this.$refs.headerSearchSelect&&this.$refs.headerSearchSelect.blur(),this.options=[],this.show=!1},change:function(e){var t=this;this.$router.push(e.path),this.search="",this.options=[],this.$nextTick((function(){t.show=!1}))},initFuse:function(e){this.fuse=new X.a(e,{shouldSort:!0,threshold:.4,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"title",weight:.7},{name:"path",weight:.3}]})},generateRoutes:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=[],r=Object(J["a"])(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(!o.hidden){var l={path:ee.a.resolve(a,o.path),title:Object(K["a"])(i)};if(o.meta&&o.meta.title&&(l.title=[].concat(Object(K["a"])(l.title),[o.meta.title]),"noRedirect"!==o.redirect&&n.push(l)),o.children){var s=this.generateRoutes(o.children,l.path,l.title);s.length>=1&&(n=[].concat(Object(K["a"])(n),Object(K["a"])(s)))}}}}catch(c){r.e(c)}finally{r.f()}return n},querySearch:function(e){this.options=""!==e?this.fuse.search(e):[]}}},ae=te,ie=(a("5202"),Object(p["a"])(ae,W,F,!1,null,"ce110212",null)),ne=ie.exports,re=(a("5f87"),{components:{Breadcrumb:C,Hamburger:j,Screenfull:q,SizeSelect:G,Search:ne},data:function(){return{}},computed:Object(s["a"])({},Object(_["b"])(["sidebar","device","username","nickname","avatar"])),methods:{toggleSideBar:function(){this.$store.dispatch("app/toggleSideBar")},logout:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("user/logout");case 2:e.$router.push("/login?redirect=".concat(e.$route.fullPath));case 3:case"end":return t.stop()}}),t)})))()}}}),oe=re,le=(a("833e"),Object(p["a"])(oe,g,b,!1,null,"bd181aea",null)),se=le.exports,ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{"has-logo":e.showLogo}},[e.showLogo?a("logo",{attrs:{collapse:e.isCollapse}}):e._e(),a("el-scrollbar",{attrs:{"wrap-class":"scrollbar-wrapper"}},[a("el-menu",{attrs:{"default-active":e.activeMenu,collapse:e.isCollapse,"background-color":e.variables.menuBg,"text-color":e.variables.menuText,"unique-opened":!1,"active-text-color":e.variables.menuActiveText,"collapse-transition":!1,mode:"vertical"}},e._l(e.permission_routes,(function(e){return a("sidebar-item",{key:e.path,attrs:{item:e,"base-path":e.path}})})),1)],1)],1)},ue=[],de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar-logo-container",class:{collapse:e.collapse}},[a("transition",{attrs:{name:"sidebarLogoFade"}},[e.collapse?a("router-link",{key:"collapse",staticClass:"sidebar-logo-link",attrs:{to:"/"}},[e.logo?a("img",{staticClass:"sidebar-logo",attrs:{src:e.logo}}):a("h1",{staticClass:"sidebar-title"},[e._v(e._s(e.name)+" ")])]):a("router-link",{key:"expand",staticClass:"sidebar-logo-link",attrs:{to:"/"}},[e.logo?a("img",{staticClass:"sidebar-logo",attrs:{src:e.logo}}):e._e(),a("h1",{staticClass:"sidebar-title"},[e._v(e._s(e.name)+" ")])])],1)],1)},me=[],pe=a("83d6"),fe=a.n(pe),he=a("81a5"),ge=a.n(he),be={name:"SidebarLogo",props:{collapse:{type:Boolean,required:!0}},data:function(){return{name:fe.a.systemName,logo:ge.a}}},ve=be,_e=(a("1fdb"),Object(p["a"])(ve,de,me,!1,null,"6eda2221",null)),ye=_e.exports,we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.item.hidden?e._e():a("div",[!e.hasOneShowingChild(e.item.children,e.item)||e.onlyOneChild.children&&!e.onlyOneChild.noShowingChildren||e.item.alwaysShow?a("el-submenu",{ref:"subMenu",attrs:{index:e.resolvePath(e.item.path),"popper-append-to-body":""}},[a("template",{slot:"title"},[e.item.meta?a("item",{attrs:{icon:e.item.meta&&e.item.meta.icon,title:e.item.meta.title}}):e._e()],1),e._l(e.item.children,(function(t){return a("sidebar-item",{key:t.path,staticClass:"nest-menu",attrs:{"is-nest":!0,item:t,"base-path":e.resolvePath(t.path)}})}))],2):[e.onlyOneChild.meta?a("app-link",{attrs:{to:e.resolvePath(e.onlyOneChild.path)}},[a("el-menu-item",{class:{"submenu-title-noDropdown":!e.isNest},attrs:{index:e.resolvePath(e.onlyOneChild.path)}},[a("item",{attrs:{icon:e.onlyOneChild.meta.icon||e.item.meta&&e.item.meta.icon,title:e.onlyOneChild.meta.title}})],1)],1):e._e()]],2)},Me=[];a("a543"),a("836b");function xe(e){return/^(https?:|mailto:|tel:)/.test(e)}var ke,Se,Ce={name:"MenuItem",functional:!0,props:{icon:{type:String,default:""},title:{type:String,default:""}},render:function(e,t){var a=t.props,i=a.icon,n=a.title,r=[];return i&&r.push(e("i",{class:[i,"sub-el-icon"]})),n&&r.push(e("span",{slot:"title"},[n])),r}},$e=Ce,Le=(a("eef5"),Object(p["a"])($e,ke,Se,!1,null,"1be853a2",null)),Te=Le.exports,Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(e.type,e._b({tag:"component"},"component",e.linkProps(e.to),!1),[e._t("default")],2)},Re=[],je={props:{to:{type:String,required:!0}},computed:{isExternal:function(){return xe(this.to)},type:function(){return this.isExternal?"a":"router-link"}},methods:{linkProps:function(e){return this.isExternal?{href:e,target:"_blank",rel:"noopener"}:{to:e}}}},De=je,Ae=Object(p["a"])(De,Oe,Re,!1,null,null,null),Qe=Ae.exports,Ee={computed:{device:function(){return this.$store.state.app.device}},mounted:function(){this.fixBugIniOS()},methods:{fixBugIniOS:function(){var e=this,t=this.$refs.subMenu;if(t){var a=t.handleMouseleave;t.handleMouseleave=function(t){"mobile"!==e.device&&a(t)}}}}},Pe={name:"SidebarItem",components:{Item:Te,AppLink:Qe},mixins:[Ee],props:{item:{type:Object,required:!0},isNest:{type:Boolean,default:!1},basePath:{type:String,default:""}},data:function(){return this.onlyOneChild=null,{}},methods:{hasOneShowingChild:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,i=t.filter((function(t){return!t.hidden&&(e.onlyOneChild=t,!0)}));return 1===i.length||0===i.length&&(this.onlyOneChild=Object(s["a"])(Object(s["a"])({},a),{},{path:"",noShowingChildren:!0}),!0)},resolvePath:function(e){return xe(e)?e:xe(this.basePath)?this.basePath:ee.a.resolve(this.basePath,e)}}},Ve=Pe,Ie=Object(p["a"])(Ve,we,Me,!1,null,null,null),qe=Ie.exports,Ne=a("cf1e"),Be=a.n(Ne),ze={components:{SidebarItem:qe,Logo:ye},computed:Object(s["a"])(Object(s["a"])({},Object(_["b"])(["permission_routes","sidebar"])),{},{activeMenu:function(){var e=this.$route,t=e.meta,a=e.path;return t.activeMenu?t.activeMenu:a},showLogo:function(){return this.$store.state.settings.sidebarLogo},variables:function(){return Be.a},isCollapse:function(){return!this.sidebar.opened}})},Ue=ze,He=Object(p["a"])(Ue,ce,ue,!1,null,null,null),Ge=He.exports,We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tags-view-container",attrs:{id:"tags-view-container"}},[a("scroll-pane",{ref:"scrollPane",staticClass:"tags-view-wrapper",on:{scroll:e.handleScroll}},e._l(e.visitedViews,(function(t){return a("router-link",{key:t.path,ref:"tag",refInFor:!0,staticClass:"tags-view-item",class:e.isActive(t)?"active":"",attrs:{to:{path:t.path,query:t.query,fullPath:t.fullPath},tag:"span"},nativeOn:{mouseup:function(a){if("button"in a&&1!==a.button)return null;!e.isAffix(t)&&e.closeSelectedTag(t)},contextmenu:function(a){return a.preventDefault(),e.openMenu(t,a)}}},[e._v(" "+e._s(t.title)+" "),e.isAffix(t)?e._e():a("span",{staticClass:"el-icon-close",on:{click:function(a){return a.preventDefault(),a.stopPropagation(),e.closeSelectedTag(t)}}})])})),1),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:e.left+"px",top:e.top+"px"}},[a("li",{on:{click:function(t){return e.refreshSelectedTag(e.selectedTag)}}},[e._v("刷新")]),e.isAffix(e.selectedTag)?e._e():a("li",{on:{click:function(t){return e.closeSelectedTag(e.selectedTag)}}},[e._v("关闭")]),a("li",{on:{click:e.closeOthersTags}},[e._v("关闭其它")]),a("li",{on:{click:function(t){return e.closeAllTags(e.selectedTag)}}},[e._v("关闭所有")])])],1)},Fe=[],Ke=(a("72b3"),a("b131"),a("d884"),a("270f"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-scrollbar",{ref:"scrollContainer",staticClass:"scroll-container",attrs:{vertical:!1},nativeOn:{wheel:function(t){return t.preventDefault(),e.handleScroll(t)}}},[e._t("default")],2)}),Je=[],Ye=(a("1f70"),4),Xe={name:"ScrollPane",data:function(){return{left:0}},computed:{scrollWrapper:function(){return this.$refs.scrollContainer.$refs.wrap}},mounted:function(){this.scrollWrapper.addEventListener("scroll",this.emitScroll,!0)},beforeDestroy:function(){this.scrollWrapper.removeEventListener("scroll",this.emitScroll)},methods:{handleScroll:function(e){var t=e.wheelDelta||40*-e.deltaY,a=this.scrollWrapper;a.scrollLeft=a.scrollLeft+t/4},emitScroll:function(){this.$emit("scroll")},moveToTarget:function(e){var t=this.$refs.scrollContainer.$el,a=t.offsetWidth,i=this.scrollWrapper,n=this.$parent.$refs.tag,r=null,o=null;if(n.length>0&&(r=n[0],o=n[n.length-1]),r===e)i.scrollLeft=0;else if(o===e)i.scrollLeft=i.scrollWidth-a;else{var l=n.findIndex((function(t){return t===e})),s=n[l-1],c=n[l+1],u=c.$el.offsetLeft+c.$el.offsetWidth+Ye,d=s.$el.offsetLeft-Ye;u>i.scrollLeft+a?i.scrollLeft=u-a:d<i.scrollLeft&&(i.scrollLeft=d)}}}},Ze=Xe,et=(a("0fda"),Object(p["a"])(Ze,Ke,Je,!1,null,"0f71634d",null)),tt=et.exports,at={components:{ScrollPane:tt},data:function(){return{visible:!1,top:0,left:0,selectedTag:{},affixTags:[]}},computed:{visitedViews:function(){return this.$store.state.tagsView.visitedViews},routes:function(){return this.$store.state.permission.routes}},watch:{$route:function(){this.addTags(),this.moveToCurrentTag()},visible:function(e){e?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){this.initTags(),this.addTags()},methods:{isActive:function(e){return e.path===this.$route.path},isAffix:function(e){return e.meta&&e.meta.affix},filterAffixTags:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",i=[];return e.forEach((function(e){if(e.meta&&e.meta.affix){var n=ee.a.resolve(a,e.path);i.push({fullPath:n,path:n,name:e.name,meta:Object(s["a"])({},e.meta)})}if(e.children){var r=t.filterAffixTags(e.children,e.path);r.length>=1&&(i=[].concat(Object(K["a"])(i),Object(K["a"])(r)))}})),i},initTags:function(){var e,t=this.affixTags=this.filterAffixTags(this.routes),a=Object(J["a"])(t);try{for(a.s();!(e=a.n()).done;){var i=e.value;i.name&&this.$store.dispatch("tagsView/addVisitedView",i)}}catch(n){a.e(n)}finally{a.f()}},addTags:function(){var e=this.$route.name;return e&&this.$store.dispatch("tagsView/addView",this.$route),!1},moveToCurrentTag:function(){var e=this,t=this.$refs.tag;this.$nextTick((function(){var a,i=Object(J["a"])(t);try{for(i.s();!(a=i.n()).done;){var n=a.value;if(n.to.path===e.$route.path){e.$refs.scrollPane.moveToTarget(n),n.to.fullPath!==e.$route.fullPath&&e.$store.dispatch("tagsView/updateVisitedView",e.$route);break}}}catch(r){i.e(r)}finally{i.f()}}))},refreshSelectedTag:function(e){var t=this;this.$store.dispatch("tagsView/delCachedView",e).then((function(){var a=e.fullPath;t.$nextTick((function(){t.$router.replace({path:"/redirect"+a})}))}))},closeSelectedTag:function(e){var t=this;this.$store.dispatch("tagsView/delView",e).then((function(a){var i=a.visitedViews;t.isActive(e)&&t.toLastView(i,e)}))},closeOthersTags:function(){var e=this;this.$router.push(this.selectedTag),this.$store.dispatch("tagsView/delOthersViews",this.selectedTag).then((function(){e.moveToCurrentTag()}))},closeAllTags:function(e){var t=this;this.$store.dispatch("tagsView/delAllViews").then((function(a){var i=a.visitedViews;t.affixTags.some((function(t){return t.path===e.path}))||t.toLastView(i,e)}))},toLastView:function(e,t){var a=e.slice(-1)[0];a?this.$router.push(a.fullPath):"Dashboard"===t.name?this.$router.replace({path:"/redirect"+t.fullPath}):this.$router.push("/")},openMenu:function(e,t){var a=105,i=this.$el.getBoundingClientRect().left,n=this.$el.offsetWidth,r=n-a,o=t.clientX-i+15;this.left=o>r?r:o,this.top=t.clientY,this.visible=!0,this.selectedTag=e},closeMenu:function(){this.visible=!1},handleScroll:function(){this.closeMenu()}}},it=at,nt=(a("3d13"),a("cfaa"),Object(p["a"])(it,We,Fe,!1,null,"03228e90",null)),rt=nt.exports,ot=a("4360"),lt=document,st=lt.body,ct=992,ut={watch:{$route:function(e){"mobile"===this.device&&this.sidebar.opened&&ot["a"].dispatch("app/closeSideBar",{withoutAnimation:!1})}},beforeMount:function(){window.addEventListener("resize",this.$_resizeHandler)},beforeDestroy:function(){window.removeEventListener("resize",this.$_resizeHandler)},mounted:function(){var e=this.$_isMobile();e&&(ot["a"].dispatch("app/toggleDevice","mobile"),ot["a"].dispatch("app/closeSideBar",{withoutAnimation:!0}))},methods:{$_isMobile:function(){var e=st.getBoundingClientRect();return e.width-1<ct},$_resizeHandler:function(){if(!document.hidden){var e=this.$_isMobile();ot["a"].dispatch("app/toggleDevice",e?"mobile":"desktop"),e&&ot["a"].dispatch("app/closeSideBar",{withoutAnimation:!0})}}}},dt={name:"Layout",components:{AppMain:h,Navbar:se,Sidebar:Ge,TagsView:rt},mixins:[ut],computed:Object(s["a"])(Object(s["a"])({},Object(_["c"])({sidebar:function(e){return e.app.sidebar},device:function(e){return e.app.device},showSettings:function(e){return e.settings.showSettings},needTagsView:function(e){return e.settings.tagsView},fixedHeader:function(e){return e.settings.fixedHeader}})),{},{classObj:function(){return{hideSidebar:!this.sidebar.opened,openSidebar:this.sidebar.opened,withoutAnimation:this.sidebar.withoutAnimation,mobile:"mobile"===this.device}}}),methods:{handleClickOutside:function(){this.$store.dispatch("app/closeSideBar",{withoutAnimation:!1})}}},mt=dt,pt=(a("49cc"),Object(p["a"])(mt,o,l,!1,null,"bfc74612",null)),ft=pt.exports;n["default"].use(r["a"]);var ht=[{path:"/redirect",component:ft,children:[{path:"/redirect/:path(.*)",component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("eee0"))}))}}]},{path:"/login",meta:{title:"登录"},hidden:!0,component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("162c"))}))}},{path:"/404",meta:{title:"404"},hidden:!0,component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("d573"))}))}},{path:"/401",meta:{title:"401"},hidden:!0,component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("86db"))}))}},{path:"/",redirect:"/dashboard",component:ft,children:[{path:"dashboard",name:"Dashboard",meta:{title:"控制台",icon:"el-icon-s-home",affix:!0},component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("026f"))}))}}]}],gt=[{path:"/member",name:"Member",meta:{title:"会员管理",icon:"el-icon-menu",roles:["admin/Member/memberList","admin/MemberLog/memberLogList"]},redirect:"noRedirect",component:ft,alwaysShow:!0,children:[{path:"member-list",name:"MemberList",meta:{title:"会员管理",icon:"el-icon-s-grid",roles:["admin/Member/memberList"]},component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("5334"))}))}},{path:"member-log",name:"MemberLog",meta:{title:"会员日志",icon:"el-icon-s-grid",roles:["admin/MemberLog/memberLogList"]},component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("be17"))}))}},{path:"member-logsta",name:"MemberLogsta",meta:{title:"会员日志统计",icon:"el-icon-s-grid",roles:["admin/MemberLog/memberLogSta"],activeMenu:"/member/member-log"},component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("692e"))}))},hidden:!0}]},{path:"/index",name:"Index",meta:{title:"应用管理",icon:"el-icon-menu",roles:["admin/Api/apiList","admin/Region/regionList"]},redirect:"noRedirect",component:ft,alwaysShow:!0,children:[{path:"api-list",name:"ApiList",meta:{title:"接口管理",icon:"el-icon-s-grid",roles:["admin/Api/apiList"]},component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("a1d3"))}))}},{path:"region-list",name:"RegionList",meta:{title:"地区管理",icon:"el-icon-s-grid",roles:["admin/Region/regionList"]},component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("4047"))}))}}]},{path:"/rule",name:"Rule",meta:{title:"权限管理",icon:"el-icon-lock",roles:["admin/AdminMenu/menuList","admin/AdminRole/roleList","admin/AdminUser/userList","admin/AdminLog/logList","admin/AdminMy/myInfo"]},redirect:"noRedirect",component:ft,alwaysShow:!0,children:[{path:"menu",name:"Menu",meta:{title:"菜单管理",icon:"el-icon-menu",roles:["admin/AdminMenu/menuList"]},component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("6a0b"))}))}},{path:"role",name:"Role",meta:{title:"角色管理",icon:"el-icon-s-custom",roles:["admin/AdminRole/roleList"]},component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("a7ad"))}))}},{path:"user",name:"User",meta:{title:"用户管理",icon:"el-icon-user",roles:["admin/AdminUser/userList"]},component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("e1c4"))}))}},{path:"log",name:"Log",meta:{title:"日志管理",icon:"el-icon-notebook-2",roles:["admin/AdminLog/logList"]},component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("afb0"))}))}},{path:"log-sta",name:"LogSta",meta:{title:"日志统计",icon:"el-icon-s-data",roles:["admin/AdminLog/logStatistic"],activeMenu:"/rule/log"},component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("c089"))}))},hidden:!0},{path:"my",name:"My",meta:{title:"个人中心",icon:"el-icon-warning-outline",roles:["admin/AdminMy/myInfo"]},component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("9323"))}))}}]},{path:"/system",name:"System",meta:{title:"系统管理",icon:"el-icon-setting",roles:["admin/AdminSetting/settingCache","admin/AdminSetting/settingVerify","admin/AdminSetting/settingToken","admin/AdminSetting/serverInfo","admin/AdminTool/toolMix","admin/AdminTool/toolMap"]},redirect:"noRedirect",component:ft,alwaysShow:!0,children:[{path:"setting-cache",name:"SettingCache",meta:{title:"缓存设置",icon:"el-icon-coin",roles:["admin/AdminSetting/settingCache"]},component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("31b8"))}))}},{path:"setting-verify",name:"SettingVerify",meta:{title:"验证码设置",icon:"el-icon-picture-outline",roles:["admin/AdminSetting/settingVerify"]},component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("4b63"))}))}},{path:"setting-token",name:"SettingToken",meta:{title:"Token设置",icon:"el-icon-key",roles:["admin/AdminSetting/settingToken"]},component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("5856"))}))}},{path:"server-info",name:"ServerInfo",meta:{title:"服务器信息",icon:"el-icon-info",roles:["admin/AdminSetting/serverInfo"]},component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("7115"))}))}},{path:"tool-mix",name:"ToolMix",meta:{title:"实用工具合集",icon:"el-icon-help",roles:["admin/AdminTool/toolMix"]},component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("d09b"))}))}},{path:"tool-map",name:"ToolMap",meta:{title:"地图坐标拾取",icon:"el-icon-map-location",roles:["admin/AdminTool/toolMap"]},component:function(){return Promise.resolve().then((function(){return Object(i["a"])(a("b20b"))}))}}]},{path:"*",redirect:"/404",hidden:!0}],bt=function(){return new r["a"]({scrollBehavior:function(){return{y:0}},routes:ht})},vt=bt();function _t(){var e=bt();vt.matcher=e.matcher}t["c"]=vt},a1d3:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{staticStyle:{"text-align":"right"},attrs:{xs:24,sm:24}},[a("el-button",{staticClass:"filter-item",on:{click:function(t){return e.apiRefresh()}}},[e._v("刷新")]),a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.apiAddition()}}},[e._v("添加")])],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.apiData,height:e.height+80,"row-key":"api_id",border:""}},[a("el-table-column",{attrs:{prop:"api_name",label:"接口名称","min-width":"180",fixed:"left"}}),a("el-table-column",{attrs:{prop:"api_url",label:"接口链接","min-width":"260"}}),a("el-table-column",{attrs:{prop:"api_sort",label:"接口排序","min-width":"90"}}),a("el-table-column",{attrs:{prop:"api_id",label:"接口ID","min-width":"90"}}),a("el-table-column",{attrs:{prop:"api_pid",label:"接口PID","min-width":"90"}}),a("el-table-column",{attrs:{prop:"create_time",label:"添加时间","min-width":"160"}}),a("el-table-column",{attrs:{prop:"update_time",label:"修改时间","min-width":"160"}}),a("el-table-column",{attrs:{prop:"is_disable",label:"是否禁用","min-width":"80",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.api_url?a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.apiIsProhibit(t.row)}},model:{value:t.row.is_disable,callback:function(a){e.$set(t.row,"is_disable",a)},expression:"scope.row.is_disable"}}):e._e()]}}])}),a("el-table-column",{attrs:{prop:"is_unauth",label:"无需权限","min-width":"80",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.api_url?a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.apiIsUnauth(t.row)}},model:{value:t.row.is_unauth,callback:function(a){e.$set(t.row,"is_unauth",a)},expression:"scope.row.is_unauth"}}):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"220",align:"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.apiAddition(i)}}},[e._v("添加")]),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.apiModify(i)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.apiDelete(i)}}},[e._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:e.apiDialogTitle,visible:e.apiDialog,top:"1vh","before-close":e.apiCancel},on:{"update:visible":function(t){e.apiDialog=t}}},[a("el-form",{ref:"apiRef",staticClass:"dialog-body",style:{height:e.height+30+"px"},attrs:{rules:e.apiRules,model:e.apiModel,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"接口父级",prop:"api_pid"}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.apiData,props:e.apiProps,clearable:"",filterable:"",placeholder:"一级接口"},on:{change:e.apiPidChange},model:{value:e.apiModel.api_pid,callback:function(t){e.$set(e.apiModel,"api_pid",t)},expression:"apiModel.api_pid"}})],1),a("el-form-item",{attrs:{label:"接口名称",prop:"api_name"}},[a("el-input",{attrs:{placeholder:"请输入接口名称",clearable:""},model:{value:e.apiModel.api_name,callback:function(t){e.$set(e.apiModel,"api_name",t)},expression:"apiModel.api_name"}})],1),a("el-form-item",{attrs:{label:"接口链接",prop:"api_url"}},[a("el-input",{attrs:{clearable:""},model:{value:e.apiModel.api_url,callback:function(t){e.$set(e.apiModel,"api_url",t)},expression:"apiModel.api_url"}})],1),a("el-form-item",{attrs:{label:"接口排序",prop:"api_sort"}},[a("el-input",{attrs:{type:"number"},model:{value:e.apiModel.api_sort,callback:function(t){e.$set(e.apiModel,"api_sort",t)},expression:"apiModel.api_sort"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.apiCancel}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.apiSubmit}},[e._v("提交")])],1)],1)],1)},n=[],r=a("98b1"),o=a("b775");function l(){return Object(o["a"])({url:"/admin/Api/apiList",method:"get"})}function s(e){return Object(o["a"])({url:"/admin/Api/apiAdd",method:"post",data:e})}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get";return"get"===t?Object(o["a"])({url:"/admin/Api/apiEdit",method:"get",params:e}):Object(o["a"])({url:"/admin/Api/apiEdit",method:"post",data:e})}function u(e){return Object(o["a"])({url:"/admin/Api/apiDele",method:"post",data:e})}function d(e){return Object(o["a"])({url:"/admin/Api/apiDisable",method:"post",data:e})}function m(e){return Object(o["a"])({url:"/admin/Api/apiUnauth",method:"post",data:e})}var p={name:"ApiList",components:{},data:function(){return{height:680,loading:!1,apiData:[],apiDialog:!1,apiDialogTitle:"",apiProps:{checkStrictly:!0,value:"api_id",label:"api_name"},apiModel:{api_id:"",api_pid:0,api_name:"",api_url:"",api_sort:200},apiRules:{api_name:[{required:!0,message:"请输入接口名称",trigger:"blur"}]}}},created:function(){this.height=Object(r["a"])(),this.apiList()},methods:{apiList:function(){var e=this;this.loading=!0,l().then((function(t){e.apiData=t.data.list,e.loading=!1})).catch((function(){e.loading=!1}))},apiRefresh:function(){this.apiList()},apiIsProhibit:function(e){var t=this;this.loading=!0,d({api_id:e.api_id,is_disable:e.is_disable}).then((function(e){t.apiList(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))},apiIsUnauth:function(e){var t=this;this.loading=!0,m({api_id:e.api_id,is_unauth:e.is_unauth}).then((function(e){t.apiList(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))},apiAddition:function(e){this.apiDialog=!0,this.apiDialogTitle="接口添加",this.apiModel=this.$options.data().apiModel,e&&(this.apiModel.api_pid=e.api_id)},apiModify:function(e){var t=this;this.apiDialog=!0,this.apiDialogTitle="接口修改："+e.api_name,c({api_id:e.api_id}).then((function(e){t.apiModel=e.data.api_info}))},apiDelete:function(e){var t=this;this.$confirm('确定要删除接口 <span style="color:red">'+e.api_name+" </span>吗？","删除："+e.api_id,{type:"warning",dangerouslyUseHTMLString:!0}).then((function(){t.loading=!0,u({api_id:e.api_id}).then((function(e){t.apiReset(),t.apiList(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))})).catch((function(){}))},apiPidChange:function(e){e&&(this.apiModel.api_pid=e[e.length-1])},apiReset:function(e){this.apiModel=e||this.$options.data().apiModel,void 0!==this.$refs["apiRef"]&&this.$refs["apiRef"].resetFields()},apiCancel:function(){this.apiDialog=!1,this.apiReset()},apiSubmit:function(){var e=this;this.$refs["apiRef"].validate((function(t){t&&(e.loading=!0,e.apiModel.api_id?c(e.apiModel,"post").then((function(t){e.apiList(),e.apiReset(),e.apiDialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})):s(e.apiModel).then((function(t){e.apiList(),e.apiReset(),e.apiDialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},f=p,h=a("c701"),g=Object(h["a"])(f,i,n,!1,null,null,null);t["default"]=g.exports},a3c4:function(e,t,a){},a7ad:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{xs:24,sm:23}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"角色",clearable:""},model:{value:e.roleQuery.role_name,callback:function(t){e.$set(e.roleQuery,"role_name",t)},expression:"roleQuery.role_name"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"描述",clearable:""},model:{value:e.roleQuery.role_desc,callback:function(t){e.$set(e.roleQuery,"role_desc",t)},expression:"roleQuery.role_desc"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.roleSearch()}}},[e._v("查询")]),a("el-button",{staticClass:"filter-item",on:{click:function(t){return e.roleRefresh()}}},[e._v("重置")])],1),a("el-col",{staticStyle:{"text-align":"right"},attrs:{xs:24,sm:1}},[a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.roleAddition()}}},[e._v("添加")])],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"roleTableRef",staticStyle:{width:"100%"},attrs:{data:e.roleData,height:e.height,border:""},on:{"sort-change":e.roleSort}},[a("el-table-column",{attrs:{prop:"admin_role_id",label:"角色ID","min-width":"100",sortable:"custom",fixed:"left"}}),a("el-table-column",{attrs:{prop:"role_name",label:"角色","min-width":"120"}}),a("el-table-column",{attrs:{prop:"role_desc",label:"描述","min-width":"130"}}),a("el-table-column",{attrs:{prop:"role_sort",label:"排序","min-width":"100",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"create_time",label:"添加时间","min-width":"160",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"update_time",label:"修改时间","min-width":"160",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"is_disable",label:"是否禁用","min-width":"110",align:"center",fixed:"right",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.roleIsDisable(t.row)}},model:{value:t.row.is_disable,callback:function(a){e.$set(t.row,"is_disable",a)},expression:"scope.row.is_disable"}})]}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"220",align:"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.roleUserShow(i)}}},[e._v("用户")]),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.roleModify(i)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.roleDelete(i)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.roleCount>0,expression:"roleCount > 0"}],attrs:{total:e.roleCount,page:e.roleQuery.page,limit:e.roleQuery.limit},on:{"update:page":function(t){return e.$set(e.roleQuery,"page",t)},"update:limit":function(t){return e.$set(e.roleQuery,"limit",t)},pagination:e.roleList}}),a("el-dialog",{attrs:{title:e.roleDialogTitle,visible:e.roleDialog,top:"1vh","before-close":e.roleCancel},on:{"update:visible":function(t){e.roleDialog=t}}},[a("el-form",{ref:"roleRef",staticClass:"dialog-body",style:{height:e.height+30+"px"},attrs:{rules:e.roleRules,model:e.roleModel,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"角色",prop:"role_name"}},[a("el-input",{attrs:{placeholder:"请输入角色名称",clearable:""},model:{value:e.roleModel.role_name,callback:function(t){e.$set(e.roleModel,"role_name",t)},expression:"roleModel.role_name"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"role_desc"}},[a("el-input",{attrs:{clearable:""},model:{value:e.roleModel.role_desc,callback:function(t){e.$set(e.roleModel,"role_desc",t)},expression:"roleModel.role_desc"}})],1),a("el-form-item",{attrs:{label:"排序",prop:"role_sort"}},[a("el-input",{attrs:{type:"number"},model:{value:e.roleModel.role_sort,callback:function(t){e.$set(e.roleModel,"role_sort",t)},expression:"roleModel.role_sort"}})],1),a("el-form-item",{attrs:{label:"菜单"}},[a("el-tree",{ref:"menuRef",attrs:{data:e.menuTree,"default-checked-keys":e.roleModel.admin_menu_ids,props:e.menuProps,"expand-on-click-node":!1,"node-key":"admin_menu_id","default-expand-all":"","show-checkbox":"","check-strictly":"","highlight-current":""},on:{check:e.menuCheck},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,n=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(i.label))]),a("span",[n.children[0]?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.menuChildrenAllCheck(n)}}},[e._v("全选")]):e._e(),n.children[0]?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.menuChildrenAllCheck(n,!0)}}},[e._v("反选")]):e._e(),n.menu_url?a("i",{staticClass:"el-icon-link",staticStyle:{"margin-left":"10px"},attrs:{title:n.menu_url}}):a("i",{staticClass:"el-icon-link",staticStyle:{"margin-left":"10px",color:"#fff"}})],1)])}}])})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.roleCancel}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.roleSubmit}},[e._v("提交")])],1)],1),a("el-dialog",{attrs:{title:e.userTitle,visible:e.userDialog,width:"65%",top:"1vh"},on:{"update:visible":function(t){e.userDialog=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.userLoad,expression:"userLoad"}],ref:"userRef",staticStyle:{width:"100%"},attrs:{data:e.userData,height:e.height+30,border:""},on:{"sort-change":e.userSort}},[a("el-table-column",{attrs:{prop:"admin_user_id",label:"ID","min-width":"100",sortable:"custom",fixed:"left"}}),a("el-table-column",{attrs:{prop:"username",label:"账号","min-width":"120",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"nickname",label:"昵称","min-width":"120"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱","min-width":"200","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"remark",label:"备注",width:"100"}}),a("el-table-column",{attrs:{prop:"is_admin",label:"是否管理员","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:""},model:{value:t.row.is_admin,callback:function(a){e.$set(t.row,"is_admin",a)},expression:"scope.row.is_admin"}})]}}])}),a("el-table-column",{attrs:{prop:"is_disable",label:"是否禁用","min-width":"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:""},model:{value:t.row.is_disable,callback:function(a){e.$set(t.row,"is_disable",a)},expression:"scope.row.is_disable"}})]}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"100",align:"right","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.roleUserRemove(i)}}},[e._v("解除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.userCount>0,expression:"userCount > 0"}],attrs:{total:e.userCount,page:e.userQuery.page,limit:e.userQuery.limit},on:{"update:page":function(t){return e.$set(e.userQuery,"page",t)},"update:limit":function(t){return e.$set(e.userQuery,"limit",t)},pagination:e.roleUser}})],1)],1)},n=[],r=(a("445a"),a("a543"),a("989e"),a("98b1")),o=a("333d"),l=a("50fc"),s={name:"Role",components:{Pagination:o["a"]},data:function(){return{height:680,loading:!1,menuTree:[],menuProps:{children:"children",label:"menu_name"},roleDialog:!1,roleDialogTitle:"",roleData:[],roleCount:0,roleQuery:{page:1,limit:13},roleModel:{admin_role_id:"",admin_menu_ids:[],role_name:"",role_desc:"",role_sort:200},roleRules:{role_name:[{required:!0,message:"请输入角色名称",trigger:"blur"}]},userDialog:!1,userLoad:!1,userData:[],userCount:0,userQuery:{},userTitle:""}},created:function(){this.height=Object(r["a"])(),this.roleList()},methods:{roleList:function(){var e=this;this.loading=!0,Object(l["B"])(this.roleQuery).then((function(t){e.roleData=t.data.list,e.roleCount=t.data.count,e.loading=!1,e.$nextTick((function(){e.$refs["roleTableRef"].doLayout()}))})).catch((function(){e.loading=!1}))},roleSearch:function(){this.roleQuery.page=1,this.roleList()},roleRefresh:function(){this.roleQuery=this.$options.data().roleQuery,this.roleList()},roleSort:function(e){this.roleQuery.sort_field=e.prop,this.roleQuery.sort_type="","ascending"===e.order&&(this.roleQuery.sort_type="asc",this.roleList()),"descending"===e.order&&(this.roleQuery.sort_type="desc",this.roleList())},roleAddition:function(){var e=this;this.roleDialog=!0,Object(l["x"])().then((function(t){e.menuTree=t.data.menu_tree})),this.roleReset()},roleModify:function(e){var t=this;this.roleDialog=!0,Object(l["A"])({admin_role_id:e.admin_role_id}).then((function(e){t.menuTree=e.data.menu_tree,t.roleReset(e.data.admin_role)}))},roleDelete:function(e){var t=this;this.$confirm('确定要删除角色 <span style="color:red">'+e.role_name+" </span>吗？","删除："+e.admin_role_id,{type:"warning",dangerouslyUseHTMLString:!0}).then((function(){t.loading=!0,Object(l["y"])({admin_role_id:e.admin_role_id}).then((function(e){t.roleReset(),t.roleList(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))})).catch((function(){}))},roleIsDisable:function(e){var t=this;this.loading=!0,Object(l["z"])({admin_role_id:e.admin_role_id,is_disable:e.is_disable}).then((function(e){t.roleList(),t.$message.success(e.msg)})).catch((function(){t.loading=!0}))},menuCheck:function(e,t){this.roleModel.admin_menu_ids=t.checkedKeys},menuChildrenAllCheck:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.roleModel.admin_menu_ids,i=[];i.push(e.admin_menu_id);for(var n=0;n<e.children.length;n++)i.push(e.children[n].admin_menu_id);if(t){for(var r=0;r<a.length;r++)for(var o=0;o<i.length;o++)a[r]===i[o]&&a.splice(r,1);this.roleModel.admin_menu_ids=a,this.$refs.menuRef.setCheckedKeys(a)}else{for(var l=[],s=a.concat(i),c=0;c<s.length;c++)-1===l.indexOf(s[c])&&l.push(s[c]);this.roleModel.admin_menu_ids=l,this.$refs.menuRef.setCheckedKeys(l)}},roleReset:function(e){e?(this.roleModel=e,this.roleDialogTitle="角色修改："+e.role_name):(this.roleModel=this.$options.data().roleModel,this.roleDialogTitle="角色添加"),void 0!==this.$refs["roleRef"]&&this.$refs["roleRef"].resetFields()},roleCancel:function(){this.roleDialog=!1,this.roleReset()},roleSubmit:function(){var e=this;this.$refs["roleRef"].validate((function(t){t&&(e.loading=!0,e.roleModel.admin_role_id?Object(l["A"])(e.roleModel,"post").then((function(t){e.roleList(),e.roleReset(),e.roleDialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})):Object(l["x"])(e.roleModel,"post").then((function(t){e.roleList(),e.roleReset(),e.roleDialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},roleUserShow:function(e){this.userDialog=!0,this.userTitle="角色："+e.role_name+" > 用户",this.userQuery.admin_role_id=e.admin_role_id,this.roleUser()},roleUser:function(){var e=this;this.userLoad=!0,Object(l["C"])(this.userQuery).then((function(t){e.userData=t.data.list,e.userCount=t.data.count,e.userLoad=!1,e.$nextTick((function(){e.$refs["userRef"].doLayout()}))})).catch((function(){e.userLoad=!1}))},userSort:function(e){this.userQuery.sort_field=e.prop,this.userQuery.sort_type="","ascending"===e.order&&(this.userQuery.sort_type="asc",this.roleUser()),"descending"===e.order&&(this.userQuery.sort_type="desc",this.roleUser())},roleUserRemove:function(e){var t=this;this.$confirm('确定要解除该角色与用户 <span style="color:red">'+e.username+" </span>的关联吗？","解除："+e.admin_user_id,{type:"warning",dangerouslyUseHTMLString:!0}).then((function(){t.userLoad=!0,Object(l["D"])({admin_role_id:t.userQuery.admin_role_id,admin_user_id:e.admin_user_id}).then((function(e){t.roleUser(),t.$message.success(e.msg)})).catch((function(){t.userLoad=!1}))})).catch((function(){}))}}},c=s,u=(a("4457"),a("c701")),d=Object(u["a"])(c,i,n,!1,null,"37e824b2",null);t["default"]=d.exports},af2f:function(e,t,a){},afb0:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{xs:24,sm:23}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"110px"},attrs:{placeholder:"日志类型",clearable:""},model:{value:e.logQuery.log_type,callback:function(t){e.$set(e.logQuery,"log_type",t)},expression:"logQuery.log_type"}},[a("el-option",{key:"log_type1",attrs:{label:"登录日志",value:1}}),a("el-option",{key:"log_type2",attrs:{label:"操作日志",value:2}})],1),a("el-input",{staticClass:"filter-item",staticStyle:{width:"135px"},attrs:{placeholder:"用户账号/昵称",clearable:""},model:{value:e.logQuery.user_keyword,callback:function(t){e.$set(e.logQuery,"user_keyword",t)},expression:"logQuery.user_keyword"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"155px"},attrs:{placeholder:"请求IP/地区/ISP",clearable:""},model:{value:e.logQuery.request_keyword,callback:function(t){e.$set(e.logQuery,"request_keyword",t)},expression:"logQuery.request_keyword"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"280px"},attrs:{placeholder:"菜单链接/名称",clearable:""},model:{value:e.logQuery.menu_keyword,callback:function(t){e.$set(e.logQuery,"menu_keyword",t)},expression:"logQuery.menu_keyword"}}),a("el-date-picker",{staticStyle:{width:"240px",top:"-4px"},attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.logQuery.create_time,callback:function(t){e.$set(e.logQuery,"create_time",t)},expression:"logQuery.create_time"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.logSearch()}}},[e._v("查询")]),a("el-button",{staticClass:"filter-item",on:{click:function(t){return e.logRefresh()}}},[e._v("重置")])],1),a("el-col",{staticStyle:{"text-align":"right"},attrs:{xs:24,sm:1}},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["admin/AdminLog/logStatistic"],expression:"['admin/AdminLog/logStatistic']"}],staticClass:"filter-item",attrs:{type:"primary",title:"日志统计"},on:{click:e.logStaRouter}},[e._v("统计")])],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.logData,height:e.height,border:""},on:{"sort-change":e.logSort}},[a("el-table-column",{attrs:{prop:"admin_log_id",label:"日志ID","min-width":"100",sortable:"custom",fixed:"left"}}),a("el-table-column",{attrs:{prop:"username",label:"用户账号","min-width":"110"}}),a("el-table-column",{attrs:{prop:"nickname",label:"用户昵称","min-width":"110"}}),a("el-table-column",{attrs:{prop:"menu_url",label:"菜单链接","min-width":"240"}}),a("el-table-column",{attrs:{prop:"menu_name",label:"菜单名称","min-width":"130"}}),a("el-table-column",{attrs:{prop:"request_method",label:"请求方式 ","min-width":"110",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"request_ip",label:"请求IP","min-width":"130",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"request_region",label:"请求地区","min-width":"150"}}),a("el-table-column",{attrs:{prop:"request_isp",label:"请求ISP","min-width":"110"}}),a("el-table-column",{attrs:{prop:"create_time",label:"请求时间","min-width":"160",sortable:"custom"}}),a("el-table-column",{attrs:{label:"操作","min-width":"150",align:"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.logDetail(i)}}},[e._v("详情")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.logDelete(i)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.logCount>0,expression:"logCount > 0"}],attrs:{total:e.logCount,page:e.logQuery.page,limit:e.logQuery.limit},on:{"update:page":function(t){return e.$set(e.logQuery,"page",t)},"update:limit":function(t){return e.$set(e.logQuery,"limit",t)},pagination:e.logLists}}),a("el-dialog",{attrs:{title:"日志详情："+e.logModel.admin_log_id,visible:e.logDialog,top:"1vh","before-close":e.logCancel},on:{"update:visible":function(t){e.logDialog=t}}},[a("el-form",{ref:"logRef",staticClass:"dialog-body",style:{height:e.height+30+"px"},attrs:{rules:e.logRules,model:e.logModel,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户ID",prop:"admin_user_id"}},[a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.logModel.admin_user_id,callback:function(t){e.$set(e.logModel,"admin_user_id",t)},expression:"logModel.admin_user_id"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:4}},[e._v("用户昵称")]),a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.logModel.nickname,callback:function(t){e.$set(e.logModel,"nickname",t)},expression:"logModel.nickname"}})],1)],1),a("el-form-item",{attrs:{label:"用户账号",prop:"username"}},[a("el-input",{model:{value:e.logModel.username,callback:function(t){e.$set(e.logModel,"username",t)},expression:"logModel.username"}})],1),a("el-form-item",{attrs:{label:"菜单ID",prop:"admin_menu_id"}},[a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.logModel.admin_menu_id,callback:function(t){e.$set(e.logModel,"admin_menu_id",t)},expression:"logModel.admin_menu_id"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:4}},[e._v("菜单名称")]),a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.logModel.menu_name,callback:function(t){e.$set(e.logModel,"menu_name",t)},expression:"logModel.menu_name"}})],1)],1),a("el-form-item",{attrs:{label:"菜单链接",prop:"menu_url"}},[a("el-input",{model:{value:e.logModel.menu_url,callback:function(t){e.$set(e.logModel,"menu_url",t)},expression:"logModel.menu_url"}})],1),a("el-form-item",{attrs:{label:"请求方式",prop:"request_method"}},[a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.logModel.request_method,callback:function(t){e.$set(e.logModel,"request_method",t)},expression:"logModel.request_method"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:4}},[e._v("请求IP")]),a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.logModel.request_ip,callback:function(t){e.$set(e.logModel,"request_ip",t)},expression:"logModel.request_ip"}})],1)],1),a("el-form-item",{attrs:{label:"请求地区",prop:"request_region"}},[a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.logModel.request_region,callback:function(t){e.$set(e.logModel,"request_region",t)},expression:"logModel.request_region"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:4}},[e._v("请求ISP")]),a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.logModel.request_isp,callback:function(t){e.$set(e.logModel,"request_isp",t)},expression:"logModel.request_isp"}})],1)],1),a("el-form-item",{attrs:{label:"请求时间",prop:"create_time"}},[a("el-input",{model:{value:e.logModel.create_time,callback:function(t){e.$set(e.logModel,"create_time",t)},expression:"logModel.create_time"}})],1),a("el-form-item",{attrs:{label:"请求参数",prop:"request_param"}},[a("pre",[e._v(e._s(e.logModel.request_param))])])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.logCancel}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.logSubmit}},[e._v("确定")])],1)],1)],1)},n=[],r=a("98b1"),o=a("333d"),l=a("4381"),s=a("50fc"),c={name:"Log",components:{Pagination:o["a"]},directives:{permission:l["a"]},data:function(){return{height:680,loading:!1,logData:[],logCount:0,logQuery:{page:1,limit:13},logDialog:!1,logModel:{},logRules:{}}},created:function(){this.height=Object(r["a"])(),this.logLists()},methods:{logLists:function(){var e=this;this.loading=!0,Object(s["e"])(this.logQuery).then((function(t){e.logData=t.data.list,e.logCount=t.data.count,e.loading=!1})).catch((function(){e.loading=!1}))},logSort:function(e){this.logQuery.sort_field=e.prop,this.logQuery.sort_type="","ascending"===e.order&&(this.logQuery.sort_type="asc",this.logLists()),"descending"===e.order&&(this.logQuery.sort_type="desc",this.logLists())},logSearch:function(){this.logQuery.page=1,this.logLists()},logStaRouter:function(){this.$router.push("/rule/log-sta")},logRefresh:function(){this.logQuery=this.$options.data().logQuery,this.logLists()},logDetail:function(e){var t=this;this.loading=!0,this.logDialog=!0,Object(s["d"])({admin_log_id:e.admin_log_id}).then((function(e){t.logReset(e.data),t.loading=!1})).catch((function(){t.loading=!1}))},logDelete:function(e){var t=this;this.$confirm('确定要删除日志 <span style="color:red">'+e.admin_log_id+" </span>吗？","删除："+e.admin_log_id,{type:"warning",dangerouslyUseHTMLString:!0}).then((function(){t.loading=!0,Object(s["c"])({admin_log_id:e.admin_log_id}).then((function(e){t.logLists(),t.logReset(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))}))},logReset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logModel=e},logCancel:function(){this.logReset(),this.logDialog=!1},logSubmit:function(){this.logReset(),this.logDialog=!1}}},u=c,d=a("c701"),m=Object(d["a"])(u,i,n,!1,null,null,null);t["default"]=m.exports},b20b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-tabs",{on:{"tab-click":e.tabClick},model:{value:e.actTabName,callback:function(t){e.actTabName=t},expression:"actTabName"}},[e.checkPermission(["admin/AdminTool/toolMapAmap"])?a("el-tab-pane",{attrs:{label:"高德地图坐标拾取",name:"MapAmap"}},[e.MapAmap?a("map-amap"):e._e()],1):e._e(),e.checkPermission(["admin/AdminTool/toolMapBaidu"])?a("el-tab-pane",{attrs:{label:"百度地图坐标拾取",name:"MapBaidu"}},[e.MapBaidu?a("map-baidu"):e._e()],1):e._e(),e.checkPermission(["admin/AdminTool/toolMapSogou"])?a("el-tab-pane",{attrs:{label:"搜狗地图坐标拾取",name:"MapSogou"}},[e.MapSogou?a("map-sogou"):e._e()],1):e._e(),e.checkPermission(["admin/AdminTool/toolMapTencent"])?a("el-tab-pane",{attrs:{label:"腾讯地图坐标拾取",name:"MapTencent"}},[e.MapTencent?a("map-tencent"):e._e()],1):e._e(),e.checkPermission(["admin/AdminTool/toolMapBeidou"])?a("el-tab-pane",{attrs:{label:"北斗卫星导航系统",name:"MapBeidou"}},[e.MapBeidou?a("map-beidou"):e._e()],1):e._e()],1)],1)},n=[],r=(a("1d7a"),a("e350")),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("iframe",{attrs:{src:e.src,frameborder:"0",width:"100%",height:e.height}})},l=[],s=a("98b1"),c={name:"MapAmap",components:{},data:function(){return{src:"https://lbs.amap.com/console/show/picker",height:500}},created:function(){this.height=Object(s["a"])(180)},methods:{}},u=c,d=a("c701"),m=Object(d["a"])(u,o,l,!1,null,null,null),p=m.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("iframe",{attrs:{src:e.src,frameborder:"0",width:"100%",height:e.height}})},h=[],g={name:"MapBaidu",components:{},data:function(){return{src:"https://api.map.baidu.com/lbsapi/getpoint/index.html",height:500}},created:function(){this.height=Object(s["a"])(180)},methods:{}},b=g,v=Object(d["a"])(b,f,h,!1,null,null,null),_=v.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("iframe",{attrs:{src:e.src,frameborder:"0",width:"100%",height:e.height}})},w=[],M={name:"MapSogou",components:{},data:function(){return{src:"https://map.sogou.com/api/documentation/javascript/api2.5/examples_doc/event-arguments.html",height:500}},created:function(){this.height=Object(s["a"])(180)},methods:{}},x=M,k=Object(d["a"])(x,y,w,!1,null,null,null),S=k.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("iframe",{attrs:{src:e.src,frameborder:"0",width:"100%",height:e.height}})},$=[],L={name:"MapTencent",components:{},data:function(){return{src:"https://lbs.qq.com/tool/getpoint/index.html",height:500}},created:function(){this.height=Object(s["a"])(180)},methods:{}},T=L,O=Object(d["a"])(T,C,$,!1,null,null,null),R=O.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("iframe",{attrs:{src:e.src,frameborder:"0",width:"100%",height:e.height}})},D=[],A={name:"MapBeidou",components:{},data:function(){return{src:"http://www.beidou.gov.cn/",height:500}},created:function(){this.height=Object(s["a"])(180)},methods:{}},Q=A,E=Object(d["a"])(Q,j,D,!1,null,null,null),P=E.exports,V={name:"ToolMap",components:{MapAmap:p,MapBaidu:_,MapSogou:S,MapTencent:R,MapBeidou:P},data:function(){return{MapAmap:!1,MapBaidu:!0,MapSogou:!1,MapTencent:!1,MapBeidou:!1,actTabName:"MapBaidu"}},created:function(){},methods:{checkPermission:r["a"],tabClick:function(e){this[e.name]=!0}}},I=V,q=Object(d["a"])(I,i,n,!1,null,null,null);t["default"]=q.exports},b20f:function(e,t,a){e.exports={menuText:"#bfcbd9",menuActiveText:"#409eff",subMenuActiveText:"#f4f4f5",menuBg:"#304156",menuHover:"#263445",subMenuBg:"#1f2d3d",subMenuHover:"#001528",sideBarWidth:"210px"}},b775:function(e,t,a){"use strict";a("402f");var i=a("8587"),n=a.n(i),r=a("4360"),o=a("e1fd"),l=a("5f87"),s=n.a.create({baseURL:"http://localhost:9526/index.php",timeout:6e4});s.interceptors.request.use((function(e){return r["a"].getters.adminToken&&(e.headers["AdminToken"]=Object(l["f"])(),e.headers["AdminUserId"]=Object(l["g"])()),e}),(function(e){return Promise.reject(e)})),s.interceptors.response.use((function(e){var t=e.data;return 200===t.code?t:(401===t.code?o["MessageBox"].confirm(t.msg,"提示",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then((function(){r["a"].dispatch("user/resetAdminToken").then((function(){location.reload()}))})).catch((function(){})):Object(o["Message"])({showClose:!0,message:t.msg||"Server error",type:"error",duration:5e3}),Promise.reject(new Error(t.msg||"Server error")))}),(function(e){return Object(o["Message"])({showClose:!0,message:e.message,type:"error",duration:5e3}),Promise.reject(e)})),t["a"]=s},b818:function(e,t,a){"use strict";a("e011")},b85e:function(e,t,a){},be17:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{xs:24,sm:23}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"110px"},attrs:{placeholder:"日志类型",clearable:""},model:{value:e.memberLogQuery.log_type,callback:function(t){e.$set(e.memberLogQuery,"log_type",t)},expression:"memberLogQuery.log_type"}},[a("el-option",{key:"log_type1",attrs:{label:"登录日志",value:1}}),a("el-option",{key:"log_type2",attrs:{label:"操作日志",value:2}})],1),a("el-input",{staticClass:"filter-item",staticStyle:{width:"135px"},attrs:{placeholder:"会员账号/昵称",clearable:""},model:{value:e.memberLogQuery.member_keyword,callback:function(t){e.$set(e.memberLogQuery,"member_keyword",t)},expression:"memberLogQuery.member_keyword"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"235px"},attrs:{placeholder:"接口链接/名称",clearable:""},model:{value:e.memberLogQuery.api_keyword,callback:function(t){e.$set(e.memberLogQuery,"api_keyword",t)},expression:"memberLogQuery.api_keyword"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"155px"},attrs:{placeholder:"请求IP/地区/ISP",clearable:""},model:{value:e.memberLogQuery.request_keyword,callback:function(t){e.$set(e.memberLogQuery,"request_keyword",t)},expression:"memberLogQuery.request_keyword"}}),a("el-date-picker",{staticStyle:{width:"240px",top:"-4px"},attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.memberLogQuery.create_time,callback:function(t){e.$set(e.memberLogQuery,"create_time",t)},expression:"memberLogQuery.create_time"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.memberLogSearch()}}},[e._v("查询")]),a("el-button",{staticClass:"filter-item",on:{click:function(t){return e.memberLogReset()}}},[e._v("重置")])],1),a("el-col",{staticStyle:{"text-align":"right"},attrs:{xs:24,sm:1}},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["admin/MemberLog/memberLogSta"],expression:"['admin/MemberLog/memberLogSta']"}],staticClass:"filter-item",attrs:{type:"primary",title:"会员日志统计"},on:{click:e.memberLogSta}},[e._v("统计")])],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.memberLogData,height:e.height,border:""},on:{"sort-change":e.memberLogSort}},[a("el-table-column",{attrs:{prop:"member_log_id",label:"ID","min-width":"100",sortable:"custom",fixed:"left"}}),a("el-table-column",{attrs:{prop:"username",label:"会员账号","min-width":"110",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"nickname",label:"会员昵称","min-width":"110"}}),a("el-table-column",{attrs:{prop:"api_url",label:"接口链接","min-width":"235",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"api_name",label:"接口名称","min-width":"130"}}),a("el-table-column",{attrs:{prop:"request_method",label:"请求方式 ","min-width":"110",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"request_ip",label:"请求IP","min-width":"130",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"request_region",label:"请求地区","min-width":"150"}}),a("el-table-column",{attrs:{prop:"request_isp",label:"请求ISP","min-width":"110"}}),a("el-table-column",{attrs:{prop:"create_time",label:"请求时间","min-width":"160",sortable:"custom"}}),a("el-table-column",{attrs:{label:"操作","min-width":"150",align:"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.memberLogDetail(i)}}},[e._v("详情")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.memberLogDelete(i)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.memberLogCount>0,expression:"memberLogCount > 0"}],attrs:{total:e.memberLogCount,page:e.memberLogQuery.page,limit:e.memberLogQuery.limit},on:{"update:page":function(t){return e.$set(e.memberLogQuery,"page",t)},"update:limit":function(t){return e.$set(e.memberLogQuery,"limit",t)},pagination:e.memberLogList}}),a("el-dialog",{attrs:{title:e.memberLogDialogTitle,visible:e.memberLogDialog,top:"1vh","before-close":e.memberLogCancel},on:{"update:visible":function(t){e.memberLogDialog=t}}},[a("el-form",{ref:"memberLogRef",staticClass:"dialog-body",style:{height:e.height+30+"px"},attrs:{rules:e.memberLogRules,model:e.memberLogModel,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"会员ID",prop:"member_id"}},[a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.memberLogModel.member_id,callback:function(t){e.$set(e.memberLogModel,"member_id",t)},expression:"memberLogModel.member_id"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:4}},[e._v("会员昵称")]),a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.memberLogModel.nickname,callback:function(t){e.$set(e.memberLogModel,"nickname",t)},expression:"memberLogModel.nickname"}})],1)],1),a("el-form-item",{attrs:{label:"会员账号",prop:"username"}},[a("el-input",{model:{value:e.memberLogModel.username,callback:function(t){e.$set(e.memberLogModel,"username",t)},expression:"memberLogModel.username"}})],1),a("el-form-item",{attrs:{label:"接口ID",prop:"api_id"}},[a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.memberLogModel.api_id,callback:function(t){e.$set(e.memberLogModel,"api_id",t)},expression:"memberLogModel.api_id"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:4}},[e._v("接口名称")]),a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.memberLogModel.api_name,callback:function(t){e.$set(e.memberLogModel,"api_name",t)},expression:"memberLogModel.api_name"}})],1)],1),a("el-form-item",{attrs:{label:"接口链接",prop:"api_url"}},[a("el-input",{model:{value:e.memberLogModel.api_url,callback:function(t){e.$set(e.memberLogModel,"api_url",t)},expression:"memberLogModel.api_url"}})],1),a("el-form-item",{attrs:{label:"请求方式",prop:"request_method"}},[a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.memberLogModel.request_method,callback:function(t){e.$set(e.memberLogModel,"request_method",t)},expression:"memberLogModel.request_method"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:4}},[e._v("请求IP")]),a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.memberLogModel.request_ip,callback:function(t){e.$set(e.memberLogModel,"request_ip",t)},expression:"memberLogModel.request_ip"}})],1)],1),a("el-form-item",{attrs:{label:"请求地区",prop:"request_region"}},[a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.memberLogModel.request_region,callback:function(t){e.$set(e.memberLogModel,"request_region",t)},expression:"memberLogModel.request_region"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:4}},[e._v("请求ISP")]),a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.memberLogModel.request_isp,callback:function(t){e.$set(e.memberLogModel,"request_isp",t)},expression:"memberLogModel.request_isp"}})],1)],1),a("el-form-item",{attrs:{label:"请求时间",prop:"create_time"}},[a("el-input",{model:{value:e.memberLogModel.create_time,callback:function(t){e.$set(e.memberLogModel,"create_time",t)},expression:"memberLogModel.create_time"}})],1),a("el-form-item",{attrs:{label:"请求参数",prop:"request_param"}},[a("pre",[e._v(e._s(e.memberLogModel.request_param))])])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.memberLogCancel}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.memberLogSubmit}},[e._v("确定")])],1)],1)],1)},n=[],r=a("98b1"),o=a("333d"),l=a("4381"),s=a("ee6a"),c={name:"MemberLog",components:{Pagination:o["a"]},directives:{permission:l["a"]},data:function(){return{height:680,loading:!1,memberLogData:[],memberLogCount:0,memberLogQuery:{page:1,limit:13},memberLogDialog:!1,memberLogDialogTitle:"",memberLogModel:{},memberLogRules:{}}},created:function(){this.height=Object(r["a"])(),this.memberLogList()},methods:{memberLogList:function(){var e=this;this.loading=!0,Object(s["c"])(this.memberLogQuery).then((function(t){e.memberLogData=t.data.list,e.memberLogCount=t.data.count,e.loading=!1})).catch((function(){e.loading=!1}))},memberLogSearch:function(){this.memberLogQuery.page=1,this.memberLogList()},memberLogReset:function(){this.memberLogQuery=this.$options.data().memberLogQuery,this.memberLogList()},memberLogSort:function(e){this.memberLogQuery.sort_field=e.prop,this.memberLogQuery.sort_type="","ascending"===e.order&&(this.memberLogQuery.sort_type="asc",this.memberLogList()),"descending"===e.order&&(this.memberLogQuery.sort_type="desc",this.memberLogList())},memberLogSta:function(){this.$router.push("/member/member-logsta")},memberLogDetail:function(e){var t=this;this.loading=!0,this.memberLogDialog=!0,this.memberLogDialogTitle="会员日志详情："+e.member_log_id,Object(s["b"])({member_log_id:e.member_log_id}).then((function(e){t.memberLogModelReset(e.data),t.loading=!1})).catch((function(){t.loading=!1}))},memberLogDelete:function(e){var t=this;this.$confirm('确定要删除会员日志 <span style="color:red">'+e.member_log_id+" </span>吗？","删除："+e.member_log_id,{type:"warning",dangerouslyUseHTMLString:!0}).then((function(){t.loading=!0,Object(s["a"])({member_log_id:e.member_log_id}).then((function(e){t.memberLogList(),t.memberLogModelReset(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))})).catch((function(){}))},memberLogModelReset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.memberLogModel=e},memberLogCancel:function(){this.memberLogDialog=!1,this.memberLogModelReset()},memberLogSubmit:function(){this.memberLogDialog=!1,this.memberLogModelReset()}}},u=c,d=a("c701"),m=Object(d["a"])(u,i,n,!1,null,null,null);t["default"]=m.exports},c089:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"app-container"},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loadNum,expression:"loadNum"}],staticClass:"box-card"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:24,md:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("总计")])]),a("div",{staticClass:"text item"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("i",{staticClass:"el-icon-odometer icon"})]),a("el-col",{attrs:{span:12}},[e._v(" "+e._s(e.number.total)+" ")])],1)],1)])],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("今天")])]),a("div",{staticClass:"text item"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("i",{staticClass:"el-icon-odometer icon"})]),a("el-col",{attrs:{span:12}},[e._v(" "+e._s(e.number.today)+" ")])],1)],1)])],1),a("el-col",{attrs:{sm:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("昨天")])]),a("div",{staticClass:"text item"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("i",{staticClass:"el-icon-odometer icon"})]),a("el-col",{attrs:{span:12}},[e._v(" "+e._s(e.number.yesterday)+" ")])],1)],1)])],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("本周")])]),a("div",{staticClass:"text item"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("i",{staticClass:"el-icon-odometer icon"})]),a("el-col",{attrs:{span:12}},[e._v(" "+e._s(e.number.thisweek)+" ")])],1)],1)])],1),a("el-col",{attrs:{sm:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("上周")])]),a("div",{staticClass:"text item"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("i",{staticClass:"el-icon-odometer icon"})]),a("el-col",{attrs:{span:12}},[e._v(" "+e._s(e.number.lastweek)+" ")])],1)],1)])],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("本月")])]),a("div",{staticClass:"text item"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("i",{staticClass:"el-icon-odometer icon"})]),a("el-col",{attrs:{span:12}},[e._v(" "+e._s(e.number.thismonth)+" ")])],1)],1)])],1),a("el-col",{attrs:{sm:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("上月")])]),a("div",{staticClass:"text item"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("i",{staticClass:"el-icon-odometer icon"})]),a("el-col",{attrs:{span:12}},[e._v(" "+e._s(e.number.lastmonth)+" ")])],1)],1)])],1)],1)],1)],1),a("div",{staticClass:"app-container"},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loadDate,expression:"loadDate"}],staticClass:"box-card"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{sm:24}},[a("el-date-picker",{staticStyle:{"max-width":"280px"},attrs:{type:"daterange","range-separator":"-","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(t){return e.echartDateChange()}},model:{value:e.date.date,callback:function(t){e.$set(e.date,"date",t)},expression:"date.date"}})],1)],1),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{sm:24}},[a("div",{style:{height:e.height+"px"},attrs:{id:"echartDate"}})])],1)],1)],1),a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{sm:24,md:8}},[a("el-date-picker",{staticStyle:{"max-width":"280px"},attrs:{type:"daterange","range-separator":"-","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(t){return e.echartRegionChange()}},model:{value:e.region.date,callback:function(t){e.$set(e.region,"date",t)},expression:"region.date"}})],1),a("el-col",{attrs:{sm:24,md:16}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.echartRegionChange()}},model:{value:e.regionValue,callback:function(t){e.regionValue=t},expression:"regionValue"}},e._l(e.regionType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-divider"),a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loadRegion,expression:"loadRegion"}],attrs:{gutter:0}},[a("el-col",{attrs:{sm:24}},[a("div",{style:{height:e.height+"px"},attrs:{id:"echartRegionLine"}})])],1),a("el-divider"),a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loadRegion,expression:"loadRegion"}],attrs:{gutter:0}},[a("el-col",{attrs:{sm:24}},[a("div",{style:{height:e.height+"px"},attrs:{id:"echartRegionPie"}})])],1)],1)],1),a("back-to-top",{attrs:{"transition-name":"fade"}})],1)},n=[],r=a("0625"),o=a("50fc"),l=a("a953");a("f75f"),a("b042"),a("40d7"),a("fd6a"),a("188e"),a("e3ae");var s={name:"Logsta",components:{BackToTop:r["a"]},data:function(){return{height:680,loadNum:!1,loadDate:!1,loadRegion:!1,number:{total:"--",today:"--",yesterday:"--",thisweek:"--",lastweek:"--",thismonth:"--",lastmonth:"--"},date:{x_data:[],y_data:[],date:[]},region:{x_data:[],y_data:[],date:[]},regionType:[{value:"country",label:"国家"},{value:"province",label:"省份"},{value:"city",label:"城市"},{value:"isp",label:"ISP"}],regionValue:"city",regionLabel:"城市"}},computed:{},created:function(){this.logStatistic()},mounted:function(){},methods:{logStatistic:function(){var e=this;this.loadNum=!0,Object(o["f"])().then((function(t){e.number=t.data.number,e.date=t.data.date,e.region=t.data.region,e.echartDate(t.data.date),e.echartRegionLine(t.data.region),e.echartRegionPie(t.data.region),e.loadNum=!1})).catch((function(){e.loadNum=!1}))},echartDateChange:function(){var e=this;this.loadDate=!0,Object(o["f"])({type:"date",date:this.date.date}).then((function(t){e.echartDate(t.data.date),e.loadDate=!1})).catch((function(){e.loadDate=!1}))},echartRegionChange:function(e){var t=this;this.loadRegion=!0,Object(o["f"])({type:"region",date:this.region.date,region:this.regionValue}).then((function(e){t.echartRegionLine(e.data.region),t.echartRegionPie(e.data.region),t.loadRegion=!1})).catch((function(){t.loadRegion=!1}))},echartDate:function(e){var t=l.init(document.getElementById("echartDate")),a={title:{text:"",left:"center",textStyle:{color:"#666",fontSize:14}},color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e.x_data},yAxis:{type:"value"},series:[{data:e.y_data,type:"line",areaStyle:{}}]};t.setOption(a)},echartRegionLine:function(e){var t=l.init(document.getElementById("echartRegionLine")),a={title:{text:"",left:"center",textStyle:{color:"#666",fontSize:14}},color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:e.x_data,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"",type:"bar",barWidth:"60%",data:e.y_data}]};t.setOption(a)},echartRegionPie:function(e){var t=l.init(document.getElementById("echartRegionPie")),a={title:{text:"",left:"center",textStyle:{color:"#666",fontSize:14}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"3%",top:"20px"},series:[{name:"",type:"pie",radius:"55%",center:["50%","60%"],data:e.p_data,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.setOption(a)}}},c=s,u=(a("20e3"),a("c701")),d=Object(u["a"])(c,i,n,!1,null,"7a863938",null);t["default"]=d.exports},c378:function(e,t,a){},c462:function(e,t,a){},c653:function(e,t,a){var i={"./app.js":"d9cd","./permission.js":"31c2","./settings.js":"0781","./tagsView.js":"7509","./user.js":"0f9a"};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=r,e.exports=n,n.id="c653"},c936:function(e,t,a){"use strict";a("0b2b")},c968:function(e,t,a){"use strict";a("99da")},cf1e:function(e,t,a){e.exports={menuText:"#bfcbd9",menuActiveText:"#409eff",subMenuActiveText:"#f4f4f5",menuBg:"#304156",menuHover:"#263445",subMenuBg:"#1f2d3d",subMenuHover:"#001528",sideBarWidth:"210px"}},cfaa:function(e,t,a){"use strict";a("a3c4")},d09b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-tabs",{model:{value:e.toolTabName,callback:function(t){e.toolTabName=t},expression:"toolTabName"}},[e.checkPermission(["admin/AdminTool/strRand","admin/AdminTool/strTran"])?a("el-tab-pane",{attrs:{label:"字符串",name:"string"}},[a("el-row",{attrs:{gutter:8}},[a("el-col",{directives:[{name:"permission",rawName:"v-permission",value:["admin/AdminTool/strRand"],expression:"['admin/AdminTool/strRand']"}],attrs:{xs:24,sm:12}},[a("div",{staticClass:" filter-container"},[a("mix-str-rand")],1)]),a("el-col",{directives:[{name:"permission",rawName:"v-permission",value:["admin/AdminTool/strTran"],expression:"['admin/AdminTool/strTran']"}],attrs:{xs:24,sm:12}},[a("div",{staticClass:"filter-container"},[a("mix-str-tran")],1)])],1)],1):e._e(),e.checkPermission(["admin/AdminTool/timeTran"])?a("el-tab-pane",{attrs:{label:"时间戳",name:"timestamp"}},[a("el-row",{attrs:{gutter:8}},[a("el-col",{attrs:{xs:24,sm:12}},[a("div",{staticClass:"filter-container"},[a("mix-time-tran")],1)])],1)],1):e._e(),e.checkPermission(["admin/AdminTool/qrcode"])?a("el-tab-pane",{attrs:{label:"二维码",name:"qrcode"}},[a("el-row",{attrs:{gutter:8}},[a("el-col",{attrs:{xs:24,sm:12}},[a("div",{staticClass:"filter-container"},[a("mix-qrcode")],1)])],1)],1):e._e(),e.checkPermission(["admin/AdminTool/byteTran"])?a("el-tab-pane",{attrs:{label:"字节转换",name:"byte"}},[a("el-row",{attrs:{gutter:8}},[a("el-col",{attrs:{xs:24,sm:12}},[a("div",{staticClass:"filter-container"},[a("mix-byte-tran")],1)])],1)],1):e._e(),e.checkPermission(["admin/AdminTool/admin/AdminTool/ipQuery"])?a("el-tab-pane",{attrs:{label:"IP查询",name:"ip"}},[a("el-row",{attrs:{gutter:8}},[a("el-col",{attrs:{xs:24,sm:12}},[a("div",{staticClass:"filter-container"},[a("mix-ip-query")],1)])],1)],1):e._e()],1)],1)},n=[],r=a("e350"),o=a("4381"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("字符串转换")])]),a("div",{staticClass:"text item"},[a("el-form",{ref:"strTranRef",attrs:{model:e.strTranModel,rules:e.strTranRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"字符串",prop:"str"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入字符串",clearable:""},model:{value:e.strTranModel.str,callback:function(t){e.$set(e.strTranModel,"str",t)},expression:"strTranModel.str"}})],1),a("el-form-item",{attrs:{label:"长度",prop:"len"}},[a("el-input",{attrs:{clearable:""},model:{value:e.strTranModel.len,callback:function(t){e.$set(e.strTranModel,"len",t)},expression:"strTranModel.len"}})],1),a("el-form-item",{attrs:{label:"小写",prop:"lower"}},[a("el-input",{attrs:{clearable:""},model:{value:e.strTranModel.lower,callback:function(t){e.$set(e.strTranModel,"lower",t)},expression:"strTranModel.lower"}})],1),a("el-form-item",{attrs:{label:"大写",prop:"upper"}},[a("el-input",{attrs:{clearable:""},model:{value:e.strTranModel.upper,callback:function(t){e.$set(e.strTranModel,"upper",t)},expression:"strTranModel.upper"}})],1),a("el-form-item",{attrs:{label:"反转",prop:"rev"}},[a("el-input",{attrs:{clearable:""},model:{value:e.strTranModel.rev,callback:function(t){e.$set(e.strTranModel,"rev",t)},expression:"strTranModel.rev"}})],1),a("el-form-item",{attrs:{label:"MD5",prop:"md5"}},[a("el-input",{attrs:{clearable:""},model:{value:e.strTranModel.md5,callback:function(t){e.$set(e.strTranModel,"md5",t)},expression:"strTranModel.md5"}})],1),a("el-form-item",[a("el-button",{on:{click:function(t){return e.strTranClear()}}},[e._v("清空")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.strTranSubmit()}}},[e._v("转换")])],1)],1)],1)])},s=[],c=a("50fc"),u={name:"MixStrTran",components:{},data:function(){return{strTranModel:{str:"",len:"",lower:"",upper:"",rev:"",md5:""},strTranRules:{}}},created:function(){},methods:{strTranClear:function(){this.strTranModel=this.$options.data().strTranModel},strTranSubmit:function(){var e=this;this.$refs["strTranRef"].validate((function(t){t&&Object(c["J"])({str:e.strTranModel.str}).then((function(t){e.strTranModel=t.data}))}))}}},d=u,m=(a("3832"),a("c701")),p=Object(m["a"])(d,l,s,!1,null,"7f0e4187",null),f=p.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("随机字符串")])]),a("div",{staticClass:"text item"},[a("el-form",{ref:"strRandRef",attrs:{model:e.strRandModel,rules:e.strRandRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"所用字符",prop:"ids"}},[a("el-checkbox-group",{staticStyle:{width:"100px"},model:{value:e.strRandModel.ids,callback:function(t){e.$set(e.strRandModel,"ids",t)},expression:"strRandModel.ids"}},e._l(e.strRandModel.idss,(function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),a("el-form-item",{attrs:{label:"字符长度",prop:"len"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.strRandModel.len,callback:function(t){e.$set(e.strRandModel,"len",t)},expression:"strRandModel.len"}},e._l(e.strRandModel.lens,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1),a("el-form-item",{attrs:{label:"生成字符",prop:"str"}},[a("el-input",{attrs:{type:"textarea",rows:"4",clearable:""},model:{value:e.strRandModel.str,callback:function(t){e.$set(e.strRandModel,"str",t)},expression:"strRandModel.str"}})],1),a("el-form-item",[a("el-button",{on:{click:function(t){return e.strRandCopy(e.strRandModel.str,t)}}},[e._v("复制")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.strRandSubmit()}}},[e._v("生成")])],1)],1)],1)])},g=[],b=a("a593"),v=a("f348"),_=a.n(v);function y(){b["default"].prototype.$message({message:"复制成功",type:"success",duration:1500})}function w(){b["default"].prototype.$message({message:"复制失败",type:"error"})}function M(e,t){var a=new _.a(t.target,{text:function(){return e}});a.on("success",(function(){y(),a.destroy()})),a.on("error",(function(){w(),a.destroy()})),a.onClick(t)}var x={name:"MixStrRand",components:{},data:function(){return{strRandModel:{idss:[{id:1,name:"数字"},{id:2,name:"小写字母"},{id:3,name:"大写字母"},{id:4,name:"标点符号"}],lens:[8,10,12],ids:[1,2,3],len:12,str:""},strRandRules:{ids:[{required:!0,message:"请选择所用字符",trigger:"blur"}],len:[{required:!0,message:"请选择字符长度",trigger:"blur"}]}}},created:function(){this.strRandLens()},methods:{strRandLens:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128,t=[];this.strRandModel.lens=[];for(var a=0;a<e;a++)t[a]=a+1;this.strRandModel.lens=t},strRandCopy:function(e,t){e?M(e,t):this.$message({message:"请生成随机字符串",type:"error"})},strRandSubmit:function(){var e=this;this.$refs["strRandRef"].validate((function(t){t&&Object(c["I"])({ids:e.strRandModel.ids,len:e.strRandModel.len}).then((function(t){e.strRandModel.str=t.data.str}))}))}}},k=x,S=(a("81e0"),Object(m["a"])(k,h,g,!1,null,"460da1a4",null)),C=S.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("时间戳转换")])]),a("div",{staticClass:"text item"},[a("el-form",{ref:"timeTranRef",attrs:{model:e.timeTranModel,rules:e.timeTranRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"时间戳"}},[a("el-input",{attrs:{type:"number","prefix-icon":"el-icon-stopwatch",placeholder:"请输入时间戳",clearable:""},on:{input:function(t){return e.timeTranValue("timestamp")}},model:{value:e.timeTranModel.timestamp,callback:function(t){e.$set(e.timeTranModel,"timestamp",t)},expression:"timeTranModel.timestamp"}})],1),a("el-form-item",{attrs:{label:"日期时间"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"请选择日期时间",clearable:""},on:{change:function(t){return e.timeTranValue("datetime")}},model:{value:e.timeTranModel.datetime,callback:function(t){e.$set(e.timeTranModel,"datetime",t)},expression:"timeTranModel.datetime"}})],1),a("el-form-item",[a("el-button",{on:{click:function(t){return e.timeTranClear()}}},[e._v("清空")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.timeTranSubmit()}}},[e._v("转换")])],1)],1)],1)])},L=[],T={name:"MixTimeTran",components:{},data:function(){return{timeTranModel:{type:"timestamp",value:"",timestamp:"",datetime:""},timeTranRules:{}}},created:function(){},methods:{timeTranValue:function(e){this.timeTranModel.type=e,this.timeTranModel.value=this.timeTranModel[e]},timeTranClear:function(){this.timeTranModel=this.$options.data().timeTranModel},timeTranSubmit:function(){var e=this;Object(c["K"])(this.timeTranModel).then((function(t){e.timeTranModel=t.data}))}}},O=T,R=(a("63f2"),Object(m["a"])(O,$,L,!1,null,"268b7aaa",null)),j=R.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("生成二维码")])]),a("div",{staticClass:"text item"},[a("el-form",{ref:"qrcodeRef",attrs:{model:e.qrcodeModel,rules:e.qrcodeRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"文本内容",prop:"str"}},[a("el-input",{attrs:{placeholder:"请输入文本内容",clearable:""},model:{value:e.qrcodeModel.str,callback:function(t){e.$set(e.qrcodeModel,"str",t)},expression:"qrcodeModel.str"}})],1),a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"二维码",prop:"url"}},[a("el-image",{staticStyle:{width:"150px",height:"150px"},attrs:{src:e.qrcodeModel.url,fit:"fill",title:"右击图片另存为"}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])],1),a("el-form-item",[a("el-button",{on:{click:function(t){return e.qrcodeDown()}}},[e._v("下载")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.qrcodeSubmit()}}},[e._v("生成")])],1)],1)],1)])},A=[],Q={name:"MixQrcode",components:{},data:function(){return{qrcodeModel:{str:"",url:""},qrcodeRules:{}}},created:function(){},methods:{qrcodeDown:function(){this.qrcodeModel.url?window.open(this.qrcodeModel.url):this.$message.error("请生成二维码")},qrcodeSubmit:function(){var e=this;this.$refs["qrcodeRef"].validate((function(t){t&&Object(c["w"])({str:e.qrcodeModel.str}).then((function(t){e.qrcodeModel=t.data}))}))}}},E=Q,P=(a("b818"),Object(m["a"])(E,D,A,!1,null,"c4f9de56",null)),V=P.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("字节转换")])]),a("div",{staticClass:"text item"},[a("el-form",{ref:"byteTranRef",attrs:{model:e.byteTranModel,rules:e.byteTranRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"比特(b)"}},[a("el-input",{attrs:{type:"number",clearable:""},on:{input:function(t){return e.byteTranValue("b")}},model:{value:e.byteTranModel.b,callback:function(t){e.$set(e.byteTranModel,"b",t)},expression:"byteTranModel.b"}})],1),a("el-form-item",{attrs:{label:"字节(B)"}},[a("el-input",{attrs:{type:"number",clearable:""},on:{input:function(t){return e.byteTranValue("B")}},model:{value:e.byteTranModel.B,callback:function(t){e.$set(e.byteTranModel,"B",t)},expression:"byteTranModel.B"}})],1),a("el-form-item",{attrs:{label:"千字节(KB)"}},[a("el-input",{attrs:{type:"number",clearable:""},on:{input:function(t){return e.byteTranValue("KB")}},model:{value:e.byteTranModel.KB,callback:function(t){e.$set(e.byteTranModel,"KB",t)},expression:"byteTranModel.KB"}})],1),a("el-form-item",{attrs:{label:"兆字节(MB)"}},[a("el-input",{attrs:{type:"number",clearable:""},on:{input:function(t){return e.byteTranValue("MB")}},model:{value:e.byteTranModel.MB,callback:function(t){e.$set(e.byteTranModel,"MB",t)},expression:"byteTranModel.MB"}})],1),a("el-form-item",{attrs:{label:"吉字节(GB)"}},[a("el-input",{attrs:{type:"number",clearable:""},on:{input:function(t){return e.byteTranValue("GB")}},model:{value:e.byteTranModel.GB,callback:function(t){e.$set(e.byteTranModel,"GB",t)},expression:"byteTranModel.GB"}})],1),a("el-form-item",{attrs:{label:"太字节(TB)"}},[a("el-input",{attrs:{type:"number",clearable:""},on:{input:function(t){return e.byteTranValue("TB")}},model:{value:e.byteTranModel.TB,callback:function(t){e.$set(e.byteTranModel,"TB",t)},expression:"byteTranModel.TB"}})],1),a("el-form-item",[a("el-button",{on:{click:function(t){return e.byteTranClear()}}},[e._v("清空")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.byteTranSubmit()}}},[e._v("转换")])],1)],1)],1)])},q=[],N={name:"MixByteTran",components:{},data:function(){return{byteTranModel:{type:"",value:"",b:"",B:"",KB:"",MB:"",GB:"",TB:""},byteTranRules:{}}},created:function(){},methods:{byteTranValue:function(e){this.byteTranModel.type=e,this.byteTranModel.value=this.byteTranModel[e]},byteTranClear:function(){this.byteTranModel=this.$options.data().byteTranModel},byteTranSubmit:function(){var e=this;this.$refs["byteTranRef"].validate((function(t){t&&Object(c["a"])({type:e.byteTranModel.type,value:e.byteTranModel.value}).then((function(t){e.byteTranModel=t.data}))}))}}},B=N,z=(a("2673"),Object(m["a"])(B,I,q,!1,null,"302dc58e",null)),U=z.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("IP查询")])]),a("div",{staticClass:"text item"},[a("el-form",{ref:"ipQueryRef",attrs:{model:e.ipQueryModel,rules:e.ipQueryRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"IP"}},[a("el-input",{attrs:{type:"text",clearable:""},model:{value:e.ipQueryModel.ip,callback:function(t){e.$set(e.ipQueryModel,"ip",t)},expression:"ipQueryModel.ip"}})],1),a("el-form-item",{attrs:{label:"国家"}},[a("el-input",{attrs:{type:"text"},model:{value:e.ipQueryModel.country,callback:function(t){e.$set(e.ipQueryModel,"country",t)},expression:"ipQueryModel.country"}})],1),a("el-form-item",{attrs:{label:"省份"}},[a("el-input",{attrs:{type:"text"},model:{value:e.ipQueryModel.province,callback:function(t){e.$set(e.ipQueryModel,"province",t)},expression:"ipQueryModel.province"}})],1),a("el-form-item",{attrs:{label:"城市"}},[a("el-input",{attrs:{type:"text"},model:{value:e.ipQueryModel.city,callback:function(t){e.$set(e.ipQueryModel,"city",t)},expression:"ipQueryModel.city"}})],1),a("el-form-item",{attrs:{label:"区县"}},[a("el-input",{attrs:{type:"text"},model:{value:e.ipQueryModel.area,callback:function(t){e.$set(e.ipQueryModel,"area",t)},expression:"ipQueryModel.area"}})],1),a("el-form-item",{attrs:{label:"运营商"}},[a("el-input",{attrs:{type:"text"},model:{value:e.ipQueryModel.isp,callback:function(t){e.$set(e.ipQueryModel,"isp",t)},expression:"ipQueryModel.isp"}})],1),a("el-form-item",[a("el-button",{on:{click:function(t){return e.ipQueryClear()}}},[e._v("清空")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.ipQuerySubmit()}}},[e._v("查询")])],1)],1)],1)])},G=[],W={name:"MixIpQuery",components:{},data:function(){return{ipQueryModel:{ip:"",country:"",province:"",city:"",area:"",isp:""},ipQueryRules:{}}},created:function(){},methods:{ipQueryClear:function(){this.ipQueryModel=this.$options.data().ipQueryModel},ipQuerySubmit:function(){var e=this;this.$refs["ipQueryRef"].validate((function(t){t&&Object(c["b"])({ip:e.ipQueryModel.ip}).then((function(t){e.ipQueryModel=t.data}))}))}}},F=W,K=(a("f2fb"),Object(m["a"])(F,H,G,!1,null,"450b7654",null)),J=K.exports,Y={name:"ToolMix",directives:{permission:o["a"]},components:{MixStrTran:f,MixStrRand:C,MixTimeTran:j,MixQrcode:V,MixByteTran:U,MixIpQuery:J},data:function(){return{toolTabName:"string"}},created:function(){},methods:{checkPermission:r["a"]}},X=Y,Z=Object(m["a"])(X,i,n,!1,null,null,null);t["default"]=Z.exports},d2b6:function(e,t,a){},d573:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{staticClass:"yyl-center yyl-top",attrs:{span:12,offset:6}},[a("el-image",{staticStyle:{width:"600px"},attrs:{src:e.error404,fit:"contain"}})],1)],1),a("el-row",[a("el-col",{staticClass:"yyl-center yyl-top",attrs:{span:6,offset:6}},[a("el-button",{attrs:{icon:"el-icon-arrow-left"},on:{click:e.back}},[e._v("返回")])],1),a("el-col",{staticClass:"yyl-center yyl-top",attrs:{span:6}},[a("el-button",{attrs:{icon:"el-icon-s-home"},on:{click:e.dashboard}},[e._v("控制台")])],1)],1),a("el-row",[a("el-col",{staticClass:"yyl-center yyl-top",attrs:{span:12,offset:6}},[a("a",{attrs:{href:"https://gitee.com/skyselang/yylAdmin",target:"_blank",title:""}},[a("img",{attrs:{src:"https://gitee.com/skyselang/yylAdmin/widgets/widget_card.svg?colors=4183c4,ffffff,ffffff,e3e9ed,666666,9b9b9b",alt:"",srcset:""}})])])],1)],1)},n=[],r=a("4f18"),o=a.n(r),l={name:"Error404",data:function(){return{error404:o.a}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/dashboard"}):this.$router.go(-1)},dashboard:function(){this.$router.push({path:"/dashboard"})}}},s=l,c=(a("7577"),a("c701")),u=Object(c["a"])(s,i,n,!1,null,"6e8d8c04",null);t["default"]=u.exports},d88d:function(e,t,a){},d9cd:function(e,t,a){"use strict";a.r(t);var i=a("e04f"),n=a.n(i),r={sidebar:{opened:!n.a.get("sidebarStatus")||!!+n.a.get("sidebarStatus"),withoutAnimation:!1},device:"desktop",size:n.a.get("size")||"medium"},o={TOGGLE_SIDEBAR:function(e){e.sidebar.opened=!e.sidebar.opened,e.sidebar.withoutAnimation=!1,e.sidebar.opened?n.a.set("sidebarStatus",1):n.a.set("sidebarStatus",0)},CLOSE_SIDEBAR:function(e,t){n.a.set("sidebarStatus",0),e.sidebar.opened=!1,e.sidebar.withoutAnimation=t},TOGGLE_DEVICE:function(e,t){e.device=t},SET_SIZE:function(e,t){e.size=t,n.a.set("size",t)}},l={toggleSideBar:function(e){var t=e.commit;t("TOGGLE_SIDEBAR")},closeSideBar:function(e,t){var a=e.commit,i=t.withoutAnimation;a("CLOSE_SIDEBAR",i)},toggleDevice:function(e,t){var a=e.commit;a("TOGGLE_DEVICE",t)},setSize:function(e,t){var a=e.commit;a("SET_SIZE",t)}};t["default"]={namespaced:!0,state:r,mutations:o,actions:l}},d9f7:function(e,t,a){},db96:function(e,t,a){"use strict";a("3a36")},e011:function(e,t,a){},e1c4:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{xs:24,sm:23}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"账号",clearable:""},model:{value:e.userQuery.username,callback:function(t){e.$set(e.userQuery,"username",t)},expression:"userQuery.username"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"昵称",clearable:""},model:{value:e.userQuery.nickname,callback:function(t){e.$set(e.userQuery,"nickname",t)},expression:"userQuery.nickname"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"250px"},attrs:{placeholder:"邮箱",clearable:""},model:{value:e.userQuery.email,callback:function(t){e.$set(e.userQuery,"email",t)},expression:"userQuery.email"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.userSearch()}}},[e._v("查询")]),a("el-button",{staticClass:"filter-item",on:{click:function(t){return e.userRefresh()}}},[e._v("重置")])],1),a("el-col",{staticStyle:{"text-align":"right"},attrs:{xs:24,sm:1}},[a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.userAddition()}}},[e._v("添加")])],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.userData,height:e.height,border:""},on:{"sort-change":e.userSort}},[a("el-table-column",{attrs:{prop:"admin_user_id",label:"用户ID","min-width":"100",sortable:"custom",fixed:"left"}}),a("el-table-column",{attrs:{prop:"username",label:"账号","min-width":"120",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"nickname",label:"昵称","min-width":"120",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱","min-width":"250",sortable:"custom","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"login_ip",label:"登录IP","min-width":"130",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"login_time",label:"登录时间","min-width":"160",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"login_num",label:"登录次数","min-width":"105",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"80",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"is_admin",label:"管理员","min-width":"88",sortable:"custom",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.userIsAdmin(t.row)}},model:{value:t.row.is_admin,callback:function(a){e.$set(t.row,"is_admin",a)},expression:"scope.row.is_admin"}})]}}])}),a("el-table-column",{attrs:{prop:"is_disable",label:"禁用","min-width":"80",sortable:"custom",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.userIsProhibit(t.row)}},model:{value:t.row.is_disable,callback:function(a){e.$set(t.row,"is_disable",a)},expression:"scope.row.is_disable"}})]}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"285",align:"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.userEditRule(i)}}},[e._v("权限")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.userPassword(i)}}},[e._v("密码")]),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.userModify(i)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.userDelete(i)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.userCount>0,expression:"userCount > 0"}],attrs:{total:e.userCount,page:e.userQuery.page,limit:e.userQuery.limit},on:{"update:page":function(t){return e.$set(e.userQuery,"page",t)},"update:limit":function(t){return e.$set(e.userQuery,"limit",t)},pagination:e.userList}}),a("el-dialog",{attrs:{title:e.userDialogTitle,visible:e.userDialog,top:"1vh","before-close":e.userCancel},on:{"update:visible":function(t){e.userDialog=t}}},[a("el-form",{ref:"userRef",staticClass:"dialog-body",style:{height:e.height+30+"px"},attrs:{model:e.userModel,rules:e.userRoles,"label-width":"100px"}},[e.userModel.admin_user_id&&e.userModel.avatar?a("el-form-item",{attrs:{label:"头像",prop:"avatar"}},[a("el-col",{attrs:{span:10}},[a("el-avatar",{attrs:{shape:"circle",fit:"contain",size:100,src:e.userModel.avatar}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:4}}),a("el-col",{attrs:{span:10}},[a("el-upload",{attrs:{name:"avatar_file","show-file-list":!1,"before-upload":e.uploadBefore,action:e.uploadAction,headers:e.uploadHeaders,data:e.uploadData,"on-success":e.uploadSuccess}},[a("el-button",[e._v("更换头像")])],1),a("span",[e._v("jpg、png图片，小于50kb，宽高1:1")])],1)],1):e._e(),a("el-form-item",{attrs:{label:"账号",prop:"username"}},[a("el-input",{key:"username",attrs:{placeholder:"请输入账号",clearable:""},model:{value:e.userModel.username,callback:function(t){e.$set(e.userModel,"username",t)},expression:"userModel.username"}})],1),a("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[a("el-input",{key:"nickname",attrs:{placeholder:"请输入昵称",clearable:""},model:{value:e.userModel.nickname,callback:function(t){e.$set(e.userModel,"nickname",t)},expression:"userModel.nickname"}})],1),""==e.userModel.admin_user_id?a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{key:"password",attrs:{placeholder:"请输入密码",clearable:"","show-password":""},model:{value:e.userModel.password,callback:function(t){e.$set(e.userModel,"password",t)},expression:"userModel.password"}})],1):e._e(),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{clearable:""},model:{value:e.userModel.email,callback:function(t){e.$set(e.userModel,"email",t)},expression:"userModel.email"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{clearable:""},model:{value:e.userModel.remark,callback:function(t){e.$set(e.userModel,"remark",t)},expression:"userModel.remark"}})],1),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{attrs:{type:"number"},model:{value:e.userModel.sort,callback:function(t){e.$set(e.userModel,"sort",t)},expression:"userModel.sort"}})],1),e.userModel.admin_user_id?a("el-form-item",{attrs:{label:"登录IP",prop:"login_ip"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{disabled:""},model:{value:e.userModel.login_ip,callback:function(t){e.$set(e.userModel,"login_ip",t)},expression:"userModel.login_ip"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:4}},[e._v("登录地区")]),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{disabled:""},model:{value:e.userModel.login_region,callback:function(t){e.$set(e.userModel,"login_region",t)},expression:"userModel.login_region"}})],1)],1):e._e(),e.userModel.admin_user_id?a("el-form-item",{attrs:{label:"登录时间",prop:"login_time"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{disabled:""},model:{value:e.userModel.login_time,callback:function(t){e.$set(e.userModel,"login_time",t)},expression:"userModel.login_time"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:4}},[e._v("退出时间")]),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{disabled:""},model:{value:e.userModel.logout_time,callback:function(t){e.$set(e.userModel,"logout_time",t)},expression:"userModel.logout_time"}})],1)],1):e._e(),e.userModel.admin_user_id?a("el-form-item",{attrs:{label:"添加时间",prop:"create_time"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{disabled:""},model:{value:e.userModel.create_time,callback:function(t){e.$set(e.userModel,"create_time",t)},expression:"userModel.create_time"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:4}},[e._v("更新时间")]),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{disabled:""},model:{value:e.userModel.update_time,callback:function(t){e.$set(e.userModel,"update_time",t)},expression:"userModel.update_time"}})],1)],1):e._e()],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.userCancel}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.userSubmit}},[e._v("提交")])],1)],1),a("el-dialog",{attrs:{title:"权限分配："+e.userModel.username,visible:e.userDialogRole,top:"1vh"},on:{"update:visible":function(t){e.userDialogRole=t}}},[a("el-form",{ref:"roleRef",staticClass:"dialog-body",style:{height:e.height+30+"px"},attrs:{model:e.userModel,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"账号"}},[a("el-input",{attrs:{clearable:"",disabled:""},model:{value:e.userModel.username,callback:function(t){e.$set(e.userModel,"username",t)},expression:"userModel.username"}})],1),a("el-form-item",{attrs:{label:"昵称"}},[a("el-input",{attrs:{clearable:"",disabled:""},model:{value:e.userModel.nickname,callback:function(t){e.$set(e.userModel,"nickname",t)},expression:"userModel.nickname"}})],1),a("el-form-item",{attrs:{label:"按角色"}},[a("el-checkbox-group",{model:{value:e.userModel.admin_role_ids,callback:function(t){e.$set(e.userModel,"admin_role_ids",t)},expression:"userModel.admin_role_ids"}},e._l(e.roleData,(function(t){return a("el-checkbox",{key:t.admin_role_id,attrs:{label:t.admin_role_id}},[e._v(e._s(t.role_name))])})),1)],1),a("el-form-item",{attrs:{label:"按菜单"}},[a("el-tree",{ref:"menuRef",attrs:{data:e.menuTree,"default-checked-keys":e.userModel.admin_menu_ids,props:e.menuProps,"expand-on-click-node":!1,"node-key":"admin_menu_id","default-expand-all":"","show-checkbox":"","check-strictly":"","highlight-current":""},on:{check:e.menuCheck},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,n=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(i.label)),n.is_check?a("i",{staticClass:"el-icon-check",attrs:{title:"已分配"}}):e._e()]),a("span",[n.is_role?a("i",{staticClass:"el-icon-s-custom",staticStyle:{"margin-left":"10px"},attrs:{title:"按角色"}}):e._e(),n.is_menu?a("i",{staticClass:"el-icon-menu",staticStyle:{"margin-left":"10px"},attrs:{title:"按菜单"}}):e._e(),n.menu_url?a("i",{staticClass:"el-icon-link",staticStyle:{"margin-left":"10px"},attrs:{title:n.menu_url}}):a("i",{staticClass:"el-icon-link",staticStyle:{"margin-left":"10px",color:"#fff"}})])])}}])})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.userCancelRule}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.userSubmitRule}},[e._v("提交")])],1)],1),a("el-dialog",{attrs:{title:"密码重置："+e.userModel.username,visible:e.userDialogPwd,top:"1vh"},on:{"update:visible":function(t){e.userDialogPwd=t}}},[a("el-form",{ref:"pwdRef",staticClass:"dialog-body",style:{height:e.height+30+"px"},attrs:{rules:e.pwdRoles,model:e.userModel,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"账号"}},[a("el-input",{attrs:{clearable:"",disabled:""},model:{value:e.userModel.username,callback:function(t){e.$set(e.userModel,"username",t)},expression:"userModel.username"}})],1),a("el-form-item",{attrs:{label:"昵称"}},[a("el-input",{attrs:{clearable:"",disabled:""},model:{value:e.userModel.nickname,callback:function(t){e.$set(e.userModel,"nickname",t)},expression:"userModel.nickname"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入新密码",clearable:"","show-password":""},model:{value:e.userModel.password,callback:function(t){e.$set(e.userModel,"password",t)},expression:"userModel.password"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.userCancelPwd}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.userSubmitPwd}},[e._v("提交")])],1)],1)],1)},n=[],r=a("98b1"),o=a("333d"),l=a("5f87"),s=a("50fc"),c={name:"User",components:{Pagination:o["a"]},data:function(){return{height:680,loading:!1,userData:[],userCount:0,userQuery:{page:1,limit:13},userDialog:!1,userDialogTitle:"",userDialogRole:!1,userDialogPwd:!1,userModel:{admin_user_id:"",admin_role_ids:[],admin_menu_ids:[],menu_ids:[],username:"",nickname:"",password:"",email:"",remark:"",sort:200,login_region:""},uploadAction:"http://localhost:9526/index.php/admin/AdminUser/userAvatar",uploadHeaders:{AdminToken:Object(l["f"])(),AdminUserId:Object(l["g"])()},uploadData:{admin_user_id:""},roleData:[],menuProps:{children:"children",label:"menu_name"},menuTree:[],userRoles:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},pwdRoles:{password:[{required:!0,message:"请输入新密码",trigger:"blur"}]}}},created:function(){this.height=Object(r["a"])(),this.userList()},methods:{userList:function(){var e=this;this.loading=!0,Object(s["Q"])(this.userQuery).then((function(t){e.userData=t.data.list,e.userCount=t.data.count,e.loading=!1})).catch((function(){e.loading=!1}))},userSearch:function(){this.userQuery.page=1,this.userList()},userRefresh:function(){this.userQuery=this.$options.data().userQuery,this.userList()},userSort:function(e){this.userQuery.sort_field=e.prop,this.userQuery.sort_type="","ascending"===e.order&&(this.userQuery.sort_type="asc",this.userList()),"descending"===e.order&&(this.userQuery.sort_type="desc",this.userList())},userReset:function(){this.userModel=this.$options.data().userModel,void 0!==this.$refs["userRef"]&&this.$refs["userRef"].resetFields()},userAddition:function(){this.userDialog=!0,this.userDialogTitle="用户添加",this.userReset()},userModify:function(e){var t=this;this.userDialog=!0,this.userDialogTitle="用户修改："+e.username,this.userReset(),Object(s["P"])({admin_user_id:e.admin_user_id}).then((function(e){t.userModel=e.data.admin_user}))},uploadBefore:function(e){this.uploadData.admin_user_id=this.userModel.admin_user_id},uploadSuccess:function(e,t){200===e.code?(this.userModel.avatar=e.data.avatar,this.$message.success(e.msg)):this.$message.error(e.msg)},userDelete:function(e){var t=this;this.$confirm('确定要删除用户 <span style="color:red">'+e.username+" </span>吗？","删除："+e.admin_user_id,{type:"warning",dangerouslyUseHTMLString:!0}).then((function(){t.loading=!0,Object(s["N"])({admin_user_id:e.admin_user_id}).then((function(e){t.userList(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))})).catch((function(){}))},userIsAdmin:function(e){var t=this;this.loading=!0,Object(s["M"])({admin_user_id:e.admin_user_id,is_admin:e.is_admin}).then((function(e){t.userList(),t.$message.success(e.msg)})).catch((function(){t.userList()}))},userIsProhibit:function(e){var t=this;this.loading=!0,Object(s["O"])({admin_user_id:e.admin_user_id,is_disable:e.is_disable}).then((function(e){t.userList(),t.$message.success(e.msg)})).catch((function(){t.userList()}))},userEditRule:function(e){var t=this;this.userDialogRole=!0,Object(s["S"])({admin_user_id:e.admin_user_id}).then((function(a){t.roleData=a.data.admin_role,t.menuTree=a.data.admin_menu,t.userModel.username=a.data.username,t.userModel.nickname=a.data.nickname,t.userModel.admin_user_id=e.admin_user_id,t.userModel.admin_role_ids=a.data.admin_role_ids,t.userModel.admin_menu_ids=a.data.admin_menu_ids,t.userModel.menu_ids=a.data.menu_ids}))},userCancelRule:function(){this.userDialogRole=!1,this.userReset()},menuCheck:function(e,t){this.userModel.admin_menu_ids=t.checkedKeys},userSubmitRule:function(){var e=this;this.$refs["roleRef"].validate((function(t){t&&(e.loading=!0,Object(s["S"])({admin_user_id:e.userModel.admin_user_id,admin_role_ids:e.userModel.admin_role_ids,admin_menu_ids:e.userModel.admin_menu_ids},"post").then((function(t){e.userList(),e.userDialogRole=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},userPassword:function(e){this.userDialogPwd=!0,this.userModel.admin_user_id=e.admin_user_id,this.userModel.username=e.username,this.userModel.nickname=e.nickname,this.userModel.password=""},userCancelPwd:function(){this.userDialogPwd=!1,this.userReset()},userSubmitPwd:function(){var e=this;this.$refs["pwdRef"].validate((function(t){t&&(e.loading=!0,Object(s["R"])({admin_user_id:e.userModel.admin_user_id,password:e.userModel.password}).then((function(t){e.userList(),e.userDialogPwd=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},userCancel:function(){this.userReset(),this.userDialog=!1},userSubmit:function(){var e=this;this.$refs["userRef"].validate((function(t){t&&(e.loading=!0,e.userModel.admin_user_id?Object(s["P"])(e.userModel,"post").then((function(t){e.userList(),e.userDialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})):Object(s["L"])(e.userModel).then((function(t){e.userList(),e.userDialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},u=c,d=(a("4916"),a("c701")),m=Object(d["a"])(u,i,n,!1,null,"2367f8c2",null);t["default"]=m.exports},e210:function(e,t,a){},e2a5:function(e,t,a){},e350:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("c726"),a("d884"),a("b784");var i=a("4360");function n(e){if(e&&e instanceof Array&&e.length>0){var t=i["a"].getters&&i["a"].getters.roles,a=e,n=t.some((function(e){return a.includes(e)}));return n}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1}},ee6a:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return l}));var i=a("b775");function n(e){return Object(i["a"])({url:"/admin/MemberLog/memberLogList",method:"get",params:e})}function r(e){return Object(i["a"])({url:"/admin/MemberLog/memberLogInfo",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/admin/MemberLog/memberLogDele",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/admin/MemberLog/memberLogSta",method:"post",data:e})}},eee0:function(e,t,a){"use strict";a.r(t);a("0bd5"),a("9b42");var i,n,r={data:function(){return{}},created:function(){var e=this.$route,t=e.params,a=e.query,i=t.path;this.$router.replace({path:"/"+i,query:a}).catch((function(){}))},render:function(e){return e()}},o=r,l=a("c701"),s=Object(l["a"])(o,i,n,!1,null,null,null);t["default"]=s.exports},eef5:function(e,t,a){"use strict";a("67ac")},efcb:function(e,t,a){},f2fb:function(e,t,a){"use strict";a("af2f")},f755:function(e,t,a){}},[[0,"runtime","chunk-elementUI","chunk-libs"]]]);