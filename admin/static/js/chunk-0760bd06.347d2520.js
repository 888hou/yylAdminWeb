(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0760bd06","chunk-af072ab4","chunk-0334a0ef","chunk-23c1acdf","chunk-2d0f047c"],{"00ff":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"120px"}},[l("el-form-item",{attrs:{label:"系统简称",prop:"system_name"}},[l("el-col",{attrs:{span:8}},[l("el-input",{attrs:{type:"text",clearable:""},model:{value:e.model.system_name,callback:function(t){e.$set(e.model,"system_name",t)},expression:"model.system_name"}})],1),l("el-col",{attrs:{span:16}},[e._v(" 侧边栏、登录页显示，12字以内。 ")])],1),l("el-form-item",{attrs:{label:"页面标题",prop:"page_title"}},[l("el-col",{attrs:{span:8}},[l("el-input",{attrs:{type:"text",clearable:""},model:{value:e.model.page_title,callback:function(t){e.$set(e.model,"page_title",t)},expression:"model.page_title"}})],1),l("el-col",{attrs:{span:16}},[e._v(" 浏览器页面标题后缀，128字以内。 ")])],1),l("el-form-item",{attrs:{label:"logo",prop:"logo_id"}},[l("el-col",{attrs:{span:18}},[l("el-col",{attrs:{span:8}},[l("el-image",{staticClass:"image-logo",attrs:{src:e.model.logo_url,"preview-src-list":[e.model.logo_url],title:"点击查看大图"}},[l("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[l("i",{staticClass:"el-icon-picture-outline"})])])],1),l("el-col",{attrs:{span:16}},[l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileUpload("logo","上传logo")}}},[e._v("上传logo")]),l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileDelete("logo")}}},[e._v("删除")]),l("p",[e._v("jpg、png图片，200 x 200，小于 100 KB。")])],1)],1)],1),l("el-form-item",{attrs:{label:"favicon",prop:"favicon_id"}},[l("el-col",{attrs:{span:18}},[l("el-col",{attrs:{span:8}},[l("el-image",{staticClass:"image-favicon",attrs:{src:e.model.favicon_url,"preview-src-list":[e.model.favicon_url],title:"点击查看大图"}},[l("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[l("i",{staticClass:"el-icon-picture-outline"})])])],1),l("el-col",{attrs:{span:16}},[l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileUpload("favicon","上传favicon")}}},[e._v("上传favicon")]),l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileDelete("favicon")}}},[e._v("删除")]),l("p",[e._v("jpg、png、ico图片，128 x 128，小于 50 KB。")])],1)],1)],1),l("el-form-item",{attrs:{label:"登录背景图",prop:"login_bg_id"}},[l("el-col",{attrs:{span:18}},[l("el-col",{attrs:{span:8}},[l("el-image",{staticClass:"image-login-bg",attrs:{src:e.model.login_bg_url,"preview-src-list":[e.model.login_bg_url],title:"点击查看大图"}},[l("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[l("i",{staticClass:"el-icon-picture-outline"})])])],1),l("el-col",{attrs:{span:16}},[l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileUpload("login_bg","上传登录背景")}}},[e._v("上传背景图")]),l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileDelete("login_bg")}}},[e._v("删除")]),l("p",[e._v("jpg、png图片，1920 x 1080，小于 300 KB。")])],1)],1)],1),l("el-form-item",[l("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1),l("el-dialog",{attrs:{title:e.fileTitle,visible:e.fileDialog,width:"80%",top:"1vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.fileDialog=t}}},[l("file-manage",{attrs:{"file-type":"image"},on:{fileCancel:e.fileCancel,fileSubmit:e.fileSubmit}})],1)],1)},a=[],o=l("98b1"),s=l("3659"),n=l("5a2e"),r={name:"AdminSettingSystem",components:{FileManage:s["a"]},data:function(){return{name:"系统设置",loading:!1,model:{system_name:"",page_title:"",logo_id:0,logo_url:"",favicon_id:0,favicon_url:"",login_bg_id:0,login_bg_url:""},fileDialog:!1,fileField:"logo",fileTitle:"文件管理",rules:{}}},created:function(){this.height=Object(o["a"])(180),this.info()},methods:{info:function(){var e=this;Object(n["m"])().then((function(t){e.model=t.data,e.$store.dispatch("settings/changeSetting",{key:"systemName",value:t.data.system_name}),e.$store.dispatch("settings/changeSetting",{key:"pageTitle",value:t.data.page_title}),e.$store.dispatch("settings/changeSetting",{key:"logoUrl",value:t.data.logo_url}),e.$store.dispatch("settings/changeSetting",{key:"faviconUrl",value:t.data.favicon_url})}))},refresh:function(){var e=this;this.loading=!0,Object(n["m"])().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(n["l"])(e.model).then((function(t){e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},fileUpload:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.fileField=e,this.fileTitle=t,this.fileDialog=!0},fileCancel:function(){this.fileDialog=!1},fileSubmit:function(e){this.fileDialog=!1,this.fileTitle="","logo"===this.fileField?(this.model.logo_id=e[0]["file_id"],this.model.logo_url=e[0]["file_url"]):"favicon"===this.fileField?(this.model.favicon_id=e[0]["file_id"],this.model.favicon_url=e[0]["file_url"]):"login_bg"===this.fileField&&(this.model.login_bg_id=e[0]["file_id"],this.model.login_bg_url=e[0]["file_url"])},fileDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";"logo"===e?(this.model.logo_id=0,this.model.logo_url=""):"favicon"===e?(this.model.favicon_id=0,this.model.favicon_url=""):"login_bg"===e&&(this.model.login_bg_id=0,this.model.login_bg_url="")}}},c=r,d=(l("80c2"),l("cba8")),u=Object(d["a"])(c,i,a,!1,null,"6227c102",null);t["default"]=u.exports},"016c":function(e,t,l){"use strict";l("855d")},"0218":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dialog-body",style:{height:e.height+"px"}},[l("el-row",[l("el-col",{attrs:{xs:24,sm:22,md:20,lg:16,xl:12}},[l("el-form",{ref:"ref",attrs:{rules:e.rules,model:e.model,"label-width":"120px"}},[l("el-form-item",{attrs:{label:"头像",prop:"avatar_url"}},[l("el-col",{attrs:{span:10}},[e.model.avatar_url?l("el-avatar",{attrs:{src:e.model.avatar_url,size:100,fit:"contain",shape:"circle"}}):l("el-avatar",{attrs:{icon:"el-icon-user-solid",size:100}})],1),l("el-col",{attrs:{span:14}},[l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileUpload()}}},[e._v("上传头像")]),l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileDelete("avatar")}}},[e._v("删除")]),l("p",[e._v("jpg、png图片，小于100kb，宽高1:1")])],1)],1),l("el-form-item",{attrs:{label:"账号",prop:"username"}},[l("el-input",{attrs:{placeholder:"请输入账号",clearable:""},model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1),l("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[l("el-input",{attrs:{placeholder:"请输入昵称",clearable:""},model:{value:e.model.nickname,callback:function(t){e.$set(e.model,"nickname",t)},expression:"model.nickname"}})],1),l("el-form-item",{attrs:{label:"手机",prop:"phone"}},[l("el-input",{attrs:{placeholder:"请输入手机",clearable:""},model:{value:e.model.phone,callback:function(t){e.$set(e.model,"phone",t)},expression:"model.phone"}})],1),l("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[l("el-input",{attrs:{placeholder:"请输入邮箱",clearable:""},model:{value:e.model.email,callback:function(t){e.$set(e.model,"email",t)},expression:"model.email"}})],1),l("el-form-item",[l("el-button",{attrs:{loading:e.loading},on:{click:e.refresh}},[e._v("刷新")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1)],1)],1)],1),l("el-dialog",{attrs:{title:"上传头像",visible:e.fileDialog,width:"80%",top:"1vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.fileDialog=t}}},[l("file-manage",{attrs:{"file-type":"image"},on:{fileCancel:e.fileCancel,fileSubmit:e.fileSubmit}})],1)],1)},a=[],o=l("98b1"),s=l("4360"),n=l("3659"),r=l("ef84"),c={name:"AdminUserCenterEdit",components:{FileManage:n["a"]},data:function(){return{name:"修改信息",height:680,loading:!1,model:{avatar_id:0,avatar_url:"",username:"",nickname:"",phone:"",email:""},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"}]},fileDialog:!1}},created:function(){this.height=Object(o["a"])(180),this.info()},methods:{info:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(r["b"])().then((function(l){e.$refs["ref"].resetFields(),e.model=l.data,s["a"].commit("user/SET_AVATAR",l.data.avatar_url),s["a"].commit("user/SET_NICKNAME",l.data.nickname),t&&e.$message.success(l.msg)})).catch((function(){}))},refresh:function(){this.loading=!0,this.info(!0),this.loading=!1},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(r["a"])(e.model).then((function(t){e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},fileUpload:function(){this.fileDialog=!0},fileCancel:function(){this.fileDialog=!1},fileSubmit:function(e){this.fileDialog=!1,this.model.avatar_id=e[0]["file_id"],this.model.avatar_url=e[0]["file_url"]},fileDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";"avatar"===e&&(this.model.avatar_id=0,this.model.avatar_url="")}}},d=c,u=l("cba8"),m=Object(u["a"])(d,i,a,!1,null,null,null);t["default"]=m.exports},"0532":function(e,t,l){"use strict";l.d(t,"f",(function(){return o})),l.d(t,"e",(function(){return s})),l.d(t,"a",(function(){return n})),l.d(t,"d",(function(){return r})),l.d(t,"b",(function(){return c})),l.d(t,"c",(function(){return d})),l.d(t,"g",(function(){return u})),l.d(t,"i",(function(){return m})),l.d(t,"h",(function(){return p}));var i=l("b775"),a="/admin/file.Group/";function o(e){return Object(i["a"])({url:a+"list",method:"get",params:e})}function s(e){return Object(i["a"])({url:a+"info",method:"get",params:e})}function n(e){return Object(i["a"])({url:a+"add",method:"post",data:e})}function r(e){return Object(i["a"])({url:a+"edit",method:"post",data:e})}function c(e){return Object(i["a"])({url:a+"dele",method:"post",data:e})}function d(e){return Object(i["a"])({url:a+"disable",method:"post",data:e})}function u(e){return Object(i["a"])({url:a+"recover",method:"get",params:e})}function m(e){return Object(i["a"])({url:a+"recoverReco",method:"post",data:e})}function p(e){return Object(i["a"])({url:a+"recoverDele",method:"post",data:e})}},"06c2":function(e,t,l){"use strict";l("85be")},"11a6":function(e,t,l){"use strict";l("7e08")},"11fa":function(e,t,l){"use strict";l("fe71")},1409:function(e,t,l){},2064:function(e,t,l){},2220:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("el-card",[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"120px"}},[l("el-tabs",[l("el-tab-pane",{staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{label:"基本信息",name:""}},[l("el-form-item",{attrs:{label:"logo",prop:"logo_id"}},[l("el-col",{attrs:{span:11}},[l("el-col",{attrs:{span:11}},[l("el-image",{staticClass:"ya-height-100",attrs:{fit:"scale-down",src:e.model.logo_url,"preview-src-list":[e.model.logo_url],title:"点击查看大图"}},[l("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[l("i",{staticClass:"el-icon-picture-outline"})])])],1),l("el-col",{attrs:{span:13}},[l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileUpload("logo","上传logo")}}},[e._v("上传logo")]),l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileDelete("logo")}}},[e._v("删除")]),l("p",[e._v("jpg、png图片，小于200KB。")])],1)],1)],1),l("el-form-item",{attrs:{label:"名称",prop:"name"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{placeholder:"name",clearable:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),l("el-col",{attrs:{span:13}})],1),l("el-form-item",{attrs:{label:"标题",prop:"title"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{placeholder:"title",clearable:""},model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),l("el-col",{attrs:{span:13}})],1),l("el-form-item",{attrs:{label:"关键词",prop:"keywords"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{placeholder:"keywords",clearable:""},model:{value:e.model.keywords,callback:function(t){e.$set(e.model,"keywords",t)},expression:"model.keywords"}})],1),l("el-col",{attrs:{span:13}})],1),l("el-form-item",{attrs:{label:"描述",prop:"description"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{type:"textarea",placeholder:"description",clearable:"",autosize:{minRows:1,maxRows:20}},model:{value:e.model.description,callback:function(t){e.$set(e.model,"description",t)},expression:"model.description"}})],1),l("el-col",{attrs:{span:13}})],1),l("el-form-item",{attrs:{label:"备案号",prop:"icp"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{placeholder:"icp",clearable:""},model:{value:e.model.icp,callback:function(t){e.$set(e.model,"icp",t)},expression:"model.icp"}})],1),l("el-col",{attrs:{span:13}})],1),l("el-form-item",{attrs:{label:"版权",prop:"copyright"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{placeholder:"copyright",clearable:""},model:{value:e.model.copyright,callback:function(t){e.$set(e.model,"copyright",t)},expression:"model.copyright"}})],1),l("el-col",{attrs:{span:13}})],1)],1),l("el-tab-pane",{staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{label:"联系信息",name:""}},[l("el-form-item",{attrs:{label:"公众号",prop:"off_acc_id"}},[l("el-col",{attrs:{span:11}},[l("el-col",{attrs:{span:11}},[l("el-image",{staticClass:"ya-height-100",attrs:{fit:"scale-down",src:e.model.off_acc_url,"preview-src-list":[e.model.off_acc_url],title:"点击查看大图"}},[l("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[l("i",{staticClass:"el-icon-picture-outline"})])])],1),l("el-col",{attrs:{span:13}},[l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileUpload("off_acc","上传二维码")}}},[e._v("上传二维码")]),l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileDelete("off_acc")}}},[e._v("删除")]),l("p",[e._v("jpg、png图片，小于200KB。")])],1)],1)],1),l("el-form-item",{attrs:{label:"地址",prop:"address"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{placeholder:"address",clearable:""},model:{value:e.model.address,callback:function(t){e.$set(e.model,"address",t)},expression:"model.address"}})],1),l("el-col",{attrs:{span:13}})],1),l("el-form-item",{attrs:{label:"电话",prop:"tel"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{placeholder:"tel",clearable:""},model:{value:e.model.tel,callback:function(t){e.$set(e.model,"tel",t)},expression:"model.tel"}})],1),l("el-col",{attrs:{span:13}})],1),l("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{placeholder:"mobile",clearable:""},model:{value:e.model.mobile,callback:function(t){e.$set(e.model,"mobile",t)},expression:"model.mobile"}})],1),l("el-col",{attrs:{span:13}})],1),l("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{placeholder:"email",clearable:""},model:{value:e.model.email,callback:function(t){e.$set(e.model,"email",t)},expression:"model.email"}})],1),l("el-col",{attrs:{span:13}})],1),l("el-form-item",{attrs:{label:"QQ",prop:"qq"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{placeholder:"qq",clearable:""},model:{value:e.model.qq,callback:function(t){e.$set(e.model,"qq",t)},expression:"model.qq"}})],1),l("el-col",{attrs:{span:13}})],1),l("el-form-item",{attrs:{label:"微信",prop:"wechat"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{placeholder:"wechat",clearable:""},model:{value:e.model.wechat,callback:function(t){e.$set(e.model,"wechat",t)},expression:"model.wechat"}})],1),l("el-col",{attrs:{span:13}})],1)],1),l("el-tab-pane",{staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{label:"内容设置",name:""}},[l("el-form-item",{attrs:{label:"留言",prop:"is_comment"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.model.is_comment,callback:function(t){e.$set(e.model,"is_comment",t)},expression:"model.is_comment"}}),l("span",[e._v(" 关闭后无法提交留言。")])],1)],1),l("el-tab-pane",{staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{label:"自定义信息",name:""}},[l("el-form-item",{attrs:{label:"自定义设置"}},[l("el-col",{attrs:{span:3}},[e._v(" 键名 ")]),l("el-col",{attrs:{span:5}},[e._v(" 键值 ")]),l("el-col",{attrs:{span:6}},[e._v(" 说明 ")]),l("el-col",{attrs:{span:2}},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("增加")])],1)],1),e._l(e.model.diy_config,(function(t,i){return l("el-form-item",{key:i,attrs:{label:""}},[l("el-col",{attrs:{span:3}},[l("el-input",{attrs:{clearable:"",placeholder:"请输入键名"},model:{value:t.config_key,callback:function(l){e.$set(t,"config_key",l)},expression:"item.config_key"}})],1),l("el-col",{attrs:{span:5}},[l("el-input",{attrs:{clearable:"",placeholder:"请输入键值"},model:{value:t.config_val,callback:function(l){e.$set(t,"config_val",l)},expression:"item.config_val"}})],1),l("el-col",{attrs:{span:6}},[l("el-input",{attrs:{clearable:"",placeholder:"请输入说明"},model:{value:t.config_desc,callback:function(l){e.$set(t,"config_desc",l)},expression:"item.config_desc"}})],1),l("el-col",{attrs:{span:2}},[l("el-button",{attrs:{type:"text"},on:{click:function(t){return e.dele(i)}}},[e._v("删除")])],1)],1)}))],2)],1),l("el-form-item",[l("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1)],1),l("el-dialog",{attrs:{title:e.fileTitle,visible:e.fileDialog,width:"80%",top:"1vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.fileDialog=t}}},[l("file-manage",{attrs:{"file-type":"image"},on:{fileCancel:e.fileCancel,fileSubmit:e.fileSubmit}})],1)],1)},a=[],o=(l("4f69"),l("98b1")),s=l("3659"),n=l("b775"),r="/admin/cms.Setting/";function c(e){return Object(n["a"])({url:r+"info",method:"get",params:e})}function d(e){return Object(n["a"])({url:r+"edit",method:"post",data:e})}var u={name:"CmsSetting",components:{FileManage:s["a"]},data:function(){return{name:"内容设置",height:680,loading:!1,model:{logo_id:"",logo_url:"",name:"",title:"",keywords:"",description:"",icp:"",copyright:"",off_acc_id:"",off_acc_url:"",address:"",tel:"",mobile:"",email:"",qq:"",wechat:"",diy_config:[],is_comment:1},rules:{},fileDialog:!1,fileTitle:"文件管理",fileField:"logo"}},created:function(){this.height=Object(o["a"])(270),this.info()},methods:{info:function(){var e=this;c().then((function(t){e.model=t.data}))},add:function(){this.model.diy_config.push({config_key:"",config_val:"",config_desc:""})},dele:function(e){var t=this;this.$confirm("确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.model.diy_config.splice(e,1)})).catch((function(){}))},refresh:function(){var e=this;this.loading=!0,c().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t?(e.loading=!0,d(e.model).then((function(t){e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))):e.$message.error("请完善必填项*")}))},fileUpload:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.fileDialog=!0,this.fileField=e,this.fileTitle=t},fileCancel:function(){this.fileDialog=!1},fileSubmit:function(e){this.fileDialog=!1,this.fileTitle="",e&&("logo"===this.fileField?(this.model.logo_id=e[0]["file_id"],this.model.logo_url=e[0]["file_url"]):"off_acc"===this.fileField&&(this.model.off_acc_id=e[0]["file_id"],this.model.off_acc_url=e[0]["file_url"]))},fileDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";"logo"===e?(this.model.logo_id=0,this.model.logo_url=""):"off_acc"===e&&(this.model.off_acc_id=0,this.model.off_acc_url="")}}},m=u,p=l("cba8"),f=Object(p["a"])(m,i,a,!1,null,"6ddc0087",null);t["default"]=f.exports},2241:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box-card"},[l("el-row",{attrs:{gutter:6}},e._l(e.count,(function(t,i){return l("el-col",{key:i,attrs:{span:3}},[l("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:"10px 0px 0px 0px"}}},[l("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[l("span",[e._v(e._s(t.name))])]),l("div",{staticClass:"text"},[l("el-row",{staticStyle:{"padding-bottom":"10px"}},[l("el-col",{attrs:{title:t.title}},[e._v(" "+e._s(t.count)+" ")])],1)],1)])],1)})),1)],1),e._l(e.echart_num,(function(t,i){return l("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],key:i,staticClass:"box-card ya-margin-top"},[l("el-row",{staticStyle:{"text-align":"center"}},[l("el-col",[l("el-select",{staticClass:"filter-item",on:{change:e.typeChange},model:{value:e.date_type,callback:function(t){e.date_type=t},expression:"date_type"}},[l("el-option",{attrs:{label:"日",value:"day"}}),l("el-option",{attrs:{label:"月",value:"month"}})],1),l("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"350px"},attrs:{type:e.date_ptype,"value-format":e.date_format,"picker-options":e.date_options,"start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.dateChange},model:{value:e.date_range,callback:function(t){e.date_range=t},expression:"date_range"}})],1),l("el-col",[l("div",{style:{height:e.height-300+"px"},attrs:{id:e.echart_id+i}})])],1)],1)}))],2)])},a=[],o=(l("209b"),l("98b1")),s=l("69f9"),n=l("7b1d"),r=l("4b4e"),c=l("6f658"),d=l("ac1e"),u=l("0fd9"),m=l("206a"),p=l("6964"),f=l("63f7"),h=l("b4af"),b=l("d7b2");n["a"]([c["a"],d["a"],u["a"],m["a"],p["a"],f["a"],h["a"],b["a"]]);var g={name:"MemberStat",components:{},directives:{},data:function(){return{name:"会员统计",height:680,loading:!1,count:[],echart_id:"echartid",echart_num:0,echart_data:[],date_type:"day",date_range:[],date_options:{},date_ptype:"monthrange",date_format:"yyyy-MM",picker_options_day:{shortcuts:[{text:"最近7天",onClick:function(e){var t=new Date,l=new Date;l.setTime(l.getTime()-5184e5),e.$emit("pick",[l,t])}},{text:"最近30天",onClick:function(e){var t=new Date,l=new Date;l.setTime(l.getTime()-25056e5),e.$emit("pick",[l,t])}},{text:"最近90天",onClick:function(e){var t=new Date,l=new Date;l.setTime(l.getTime()-76896e5),e.$emit("pick",[l,t])}},{text:"最近120天",onClick:function(e){var t=new Date,l=new Date;l.setTime(l.getTime()-102816e5),e.$emit("pick",[l,t])}}]},picker_options_month:{shortcuts:[{text:"最近3个月",onClick:function(e){var t=new Date,l=new Date;l.setMonth(l.getMonth()-2),e.$emit("pick",[l,t])}},{text:"最近6个月",onClick:function(e){var t=new Date,l=new Date;l.setMonth(l.getMonth()-5),e.$emit("pick",[l,t])}},{text:"最近9个月",onClick:function(e){var t=new Date,l=new Date;l.setMonth(l.getMonth()-8),e.$emit("pick",[l,t])}},{text:"最近12个月",onClick:function(e){var t=new Date,l=new Date;l.setMonth(l.getMonth()-11),e.$emit("pick",[l,t])}}]}}},computed:{},watch:{echart_data:function(){var e=this;this.$nextTick((function(){e.setEchart()}))}},created:function(){this.height=Object(o["a"])(120),this.stat()},mounted:function(){},methods:{stat:function(){var e=this;this.loading=!0,Object(s["l"])({type:this.date_type,date:this.date_range}).then((function(t){e.count=t.data.count,e.echart_data=t.data.echart,e.echart_num=t.data.echart.length,e.dateOptions(),e.loading=!1})).catch((function(){e.loading=!1}))},typeChange:function(){this.dateOptions(),this.date_range=[]},dateOptions:function(){var e=this.date_type;"day"===e?(this.date_ptype="daterange",this.date_format="yyyy-MM-dd",this.date_options=this.picker_options_day):"month"===e&&(this.date_ptype="monthrange",this.date_format="yyyy-MM",this.date_options=this.picker_options_month)},dateChange:function(){this.stat()},setEchart:function(){for(var e=this.echart_data,t=this.echart_num,l=this.echart_id,i=0;i<t;i++)this.initEchart(e[i],l+i),this.date_type=e[i].type,this.date_range=e[i].date},initEchart:function(e,t){var l=r["b"](document.getElementById(t)),i={title:{text:e.title,textStyle:{fontSize:12}},legend:{top:"20px",data:e.legend},grid:{top:"80px",left:"1%",right:"3%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e.xAxis},yAxis:{type:"value"},tooltip:{trigger:"axis",textStyle:{align:"left"}},toolbox:{feature:{magicType:{show:!0,type:["line","bar"]},dataView:{show:!0,readOnly:!0},saveAsImage:{show:!0,name:this.name+e.date[0]+"-"+e.date[1]}}},series:e.series};l.setOption(i)}}},_=g,v=(l("4b1c"),l("cba8")),y=Object(v["a"])(_,i,a,!1,null,"e52a0838",null);t["default"]=y.exports},"2ab6":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dialog-body",style:{height:e.height+"px"}},[l("el-row",[l("el-col",{attrs:{xs:24,sm:22,md:20,lg:16,xl:12}},[l("el-form",{ref:"ref",attrs:{rules:e.rules,model:e.model,"label-width":"120px"}},[l("el-form-item",{attrs:{label:"旧密码",prop:"password_old"}},[l("el-input",{attrs:{type:"password",placeholder:"请输入旧密码",autocomplete:"off",clearable:"","show-password":""},model:{value:e.model.password_old,callback:function(t){e.$set(e.model,"password_old",t)},expression:"model.password_old"}})],1),l("el-form-item",{attrs:{label:"新密码",prop:"password_new"}},[l("el-input",{attrs:{type:"password",placeholder:"请输入新密码",autocomplete:"off",clearable:"","show-password":""},model:{value:e.model.password_new,callback:function(t){e.$set(e.model,"password_new",t)},expression:"model.password_new"}})],1),l("el-form-item",{attrs:{label:"确认新密码",prop:"password_confirm"}},[l("el-input",{attrs:{type:"password",placeholder:"请再次输入新密码",autocomplete:"off",clearable:"","show-password":""},model:{value:e.model.password_confirm,callback:function(t){e.$set(e.model,"password_confirm",t)},expression:"model.password_confirm"}})],1),l("el-form-item",[l("el-button",{attrs:{loading:e.loading},on:{click:e.reset}},[e._v("重置")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1)],1)],1)],1)],1)},a=[],o=(l("f4cf"),l("98b1")),s=l("ef84"),n={name:"AdminUserCenterPwd",components:{},data:function(){var e=this,t=function(t,l,i){l!==e.model.password_new?i(new Error("两次输入的新密码不一致")):i()};return{name:"修改密码",height:680,loading:!1,model:{password_old:"",password_new:"",password_confirm:""},rules:{password_old:[{required:!0,message:"请输入旧密码",trigger:"blur"}],password_new:[{required:!0,message:"请输入新密码",trigger:"blur"}],password_confirm:[{required:!0,message:"请再次输入新密码",trigger:"blur"},{validator:t,trigger:"blur"}]}}},created:function(){this.height=Object(o["a"])(180)},methods:{reset:function(){this.$refs["ref"].resetFields()},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(s["d"])(e.model).then((function(t){e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},r=n,c=l("cba8"),d=Object(c["a"])(r,i,a,!1,null,null,null);t["default"]=d.exports},"2cd6":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",[l("el-row",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("el-col",{attrs:{xs:24,sm:22,md:20,lg:16,xl:12}},[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"120px"}},[l("el-form-item",{attrs:{label:"Token密钥",prop:"token_key"}},[l("el-input",{attrs:{type:"password",clearable:"","show-password":""},model:{value:e.model.token_key,callback:function(t){e.$set(e.model,"token_key",t)},expression:"model.token_key"}},[l("template",{slot:"append"},[e._v("修改后会员登录状态失效，需重新登录。")])],2)],1),l("el-form-item",{attrs:{label:"Token有效时间",prop:"token_exp"}},[l("el-input",{attrs:{type:"number"},model:{value:e.model.token_exp,callback:function(t){e.$set(e.model,"token_exp",t)},expression:"model.token_exp"}},[l("template",{slot:"append"},[e._v("小时，登录后超过此时间，需重新登录。")])],2)],1),l("el-form-item",[l("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1)],1)],1)],1)},a=[],o=l("98b1"),s=l("604d"),n={name:"SettingSettingToken",components:{},data:function(){return{name:"Token设置",height:680,loading:!1,model:{token_key:"",token_exp:720},rules:{}}},created:function(){this.height=Object(o["a"])(210),this.info()},methods:{info:function(){var e=this;Object(s["l"])().then((function(t){e.model=t.data}))},refresh:function(){var e=this;this.loading=!0,Object(s["l"])().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(s["k"])(e.model).then((function(t){e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},r=n,c=l("cba8"),d=Object(c["a"])(r,i,a,!1,null,null,null);t["default"]=d.exports},"2d3a":function(e,t,l){"use strict";l("fdc2")},"2d67":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"filter-container"},[l("el-row",[l("el-col",[l("el-select",{staticClass:"filter-item ya-search-field",attrs:{placeholder:"搜索字段"},model:{value:e.query.search_field,callback:function(t){e.$set(e.query,"search_field",t)},expression:"query.search_field"}},[l("el-option",{attrs:{value:"name",label:"名称"}}),l("el-option",{attrs:{value:"category_id",label:"分类"}}),l("el-option",{attrs:{value:"sort",label:"排序"}}),l("el-option",{attrs:{value:"is_top",label:"是否置顶"}}),l("el-option",{attrs:{value:"is_hot",label:"是否热门"}}),l("el-option",{attrs:{value:"is_rec",label:"是否推荐"}}),l("el-option",{attrs:{value:"is_hide",label:"是否隐藏"}}),l("el-option",{attrs:{value:e.idkey,label:"ID"}})],1),"category_id"===e.query.search_field?l("el-cascader",{staticClass:"filter-item ya-search-value",attrs:{options:e.categoryData,props:e.categoryProps,placeholder:"请选择分类",clearable:"",filterable:""},on:{change:e.categoryQuery},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}}):"is_top"===e.query.search_field||"is_hot"===e.query.search_field||"is_rec"===e.query.search_field||"is_hide"===e.query.search_field?l("el-select",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"请选择"},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}},[l("el-option",{attrs:{value:1,label:"是"}}),l("el-option",{attrs:{value:0,label:"否"}})],1):l("el-input",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"搜索内容",clearable:""},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}}),l("el-select",{staticClass:"filter-item ya-date-field",attrs:{placeholder:"时间类型"},model:{value:e.query.date_field,callback:function(t){e.$set(e.query,"date_field",t)},expression:"query.date_field"}},[l("el-option",{attrs:{value:"create_time",label:"添加时间"}}),l("el-option",{attrs:{value:"update_time",label:"修改时间"}}),e.recycle?l("el-option",{attrs:{value:"delete_time",label:"删除时间"}}):e._e()],1),l("el-date-picker",{staticClass:"filter-item ya-date-value",attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.query.date_value,callback:function(t){e.$set(e.query,"date_value",t)},expression:"query.date_value"}}),l("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")]),l("el-button",{staticClass:"filter-item",on:{click:function(t){return e.refresh()}}},[e._v("刷新")])],1)],1),l("el-row",[l("el-col",[l("el-button",{attrs:{title:"修改分类"},on:{click:function(t){return e.selectOpen("cate")}}},[e._v("分类")]),l("el-button",{attrs:{title:"是否置顶"},on:{click:function(t){return e.selectOpen("top")}}},[e._v("置顶")]),l("el-button",{attrs:{title:"是否热门"},on:{click:function(t){return e.selectOpen("hot")}}},[e._v("热门")]),l("el-button",{attrs:{title:"是否推荐"},on:{click:function(t){return e.selectOpen("rec")}}},[e._v("推荐")]),l("el-button",{attrs:{title:"是否隐藏"},on:{click:function(t){return e.selectOpen("hide")}}},[e._v("隐藏")]),l("el-button",{attrs:{title:"删除"},on:{click:function(t){return e.selectOpen("dele")}}},[e._v("删除")]),e.recycle?l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.selectOpen("reco")}}},[e._v("恢复")]):l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("添加")])],1)],1),l("el-dialog",{attrs:{title:e.selectTitle,visible:e.selectDialog,top:"20vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.selectDialog=t}}},[l("el-form",{ref:"selectRef",attrs:{"label-width":"120px"}},[l("el-form-item",{attrs:{label:e.name+"ID",prop:""}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:12},disabled:""},model:{value:e.selectIds,callback:function(t){e.selectIds=t},expression:"selectIds"}})],1),"cate"===e.selectType?l("el-form-item",{attrs:{label:"分类",prop:""}},[l("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.categoryData,props:e.categoryProps,clearable:"",filterable:""},on:{change:e.categorySelect},model:{value:e.category_id,callback:function(t){e.category_id=t},expression:"category_id"}})],1):"top"===e.selectType?l("el-form-item",{attrs:{label:"是否置顶",prop:""}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.is_top,callback:function(t){e.is_top=t},expression:"is_top"}})],1):"hot"===e.selectType?l("el-form-item",{attrs:{label:"是否热门",prop:""}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.is_hot,callback:function(t){e.is_hot=t},expression:"is_hot"}})],1):"rec"===e.selectType?l("el-form-item",{attrs:{label:"是否推荐",prop:""}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.is_rec,callback:function(t){e.is_rec=t},expression:"is_rec"}})],1):"hide"===e.selectType?l("el-form-item",{attrs:{label:"是否隐藏",prop:""}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.is_hide,callback:function(t){e.is_hide=t},expression:"is_hide"}})],1):"dele"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[e.recycle?l("span",{staticStyle:{color:"red"}},[e._v("确定要彻底删除选中的"+e._s(e.name)+"吗？删除后不可恢复！")]):l("span",{staticStyle:{color:"red"}},[e._v("确定要删除选中的"+e._s(e.name)+"吗？")])]):"reco"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[l("span",{staticStyle:{color:"red"}},[e._v("确定要恢复选中的"+e._s(e.name)+"吗？")])]):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.selectCancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.selectSubmit}},[e._v("提交")])],1)],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.data,height:e.height},on:{"sort-change":e.sort,"selection-change":e.select}},[l("el-table-column",{attrs:{type:"selection",width:"42",title:"全选/反选"}}),l("el-table-column",{attrs:{prop:e.idkey,label:"ID","min-width":"100",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"img_url",label:"图片","min-width":"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.img_url?l("el-image",{staticClass:"ya-img-table",attrs:{src:t.row.img_url,"preview-src-list":[t.row.img_url],title:"点击查看大图"}}):e._e()]}}])}),l("el-table-column",{attrs:{prop:"name",label:"名称","min-width":"230","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"category_name",label:"分类","min-width":"100","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"hits",label:"点击","min-width":"80",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"sort",label:"排序","min-width":"80",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"is_top",label:"置顶","min-width":"80",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(l){return e.istop([t.row])}},model:{value:t.row.is_top,callback:function(l){e.$set(t.row,"is_top",l)},expression:"scope.row.is_top"}})]}}])}),l("el-table-column",{attrs:{prop:"is_hot",label:"热门","min-width":"80",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(l){return e.ishot([t.row])}},model:{value:t.row.is_hot,callback:function(l){e.$set(t.row,"is_hot",l)},expression:"scope.row.is_hot"}})]}}])}),l("el-table-column",{attrs:{prop:"is_rec",label:"推荐","min-width":"80",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(l){return e.isrec([t.row])}},model:{value:t.row.is_rec,callback:function(l){e.$set(t.row,"is_rec",l)},expression:"scope.row.is_rec"}})]}}])}),l("el-table-column",{attrs:{prop:"is_hide",label:"隐藏","min-width":"80",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(l){return e.ishide([t.row])}},model:{value:t.row.is_hide,callback:function(l){e.$set(t.row,"is_hide",l)},expression:"scope.row.is_hide"}})]}}])}),l("el-table-column",{attrs:{prop:"create_time",label:"添加时间","min-width":"155",sortable:"custom"}}),e.recycle?l("el-table-column",{attrs:{prop:"delete_time",label:"删除时间","min-width":"155",sortable:"custom"}}):l("el-table-column",{attrs:{prop:"update_time",label:"修改时间","min-width":"155",sortable:"custom"}}),l("el-table-column",{attrs:{label:"操作","min-width":e.recycle?120:85,align:"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[e.recycle?l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.selectOpen("reco",i)}}},[e._v("恢复")]):e._e(),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.edit(i)}}},[e._v("修改")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.selectOpen("dele",i)}}},[e._v("删除")])]}}])})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.count>0,expression:"count > 0"}],attrs:{total:e.count,page:e.query.page,limit:e.query.limit},on:{"update:page":function(t){return e.$set(e.query,"page",t)},"update:limit":function(t){return e.$set(e.query,"limit",t)},pagination:e.list}}),l("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialog,top:"5vh","before-close":e.cancel,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialog=t}}},[l("el-form",{ref:"ref",staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{rules:e.rules,model:e.model,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"分类",prop:"category_id"}},[l("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.categoryData,props:e.categoryProps,clearable:"",filterable:""},on:{change:e.categoryEdit},model:{value:e.model.category_id,callback:function(t){e.$set(e.model,"category_id",t)},expression:"model.category_id"}})],1),l("el-form-item",{attrs:{label:"名称",prop:"name"}},[l("el-input",{attrs:{placeholder:"请输入名称",clearable:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),l("el-form-item",{attrs:{label:"封面",prop:"img_id"}},[l("el-col",{attrs:{span:11}},[l("el-image",{staticClass:"ya-height-100",attrs:{fit:"scale-down",src:e.model.img_url,"preview-src-list":[e.model.img_url],title:"点击查看大图"}},[l("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[l("i",{staticClass:"el-icon-picture-outline"})])])],1),l("el-col",{attrs:{span:13}},[l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileUpload("image","img_id","上传封面")}}},[e._v("上传封面")]),l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileDelete(0,"img_id")}}},[e._v("删除")]),l("p",[e._v("jpg、png图片，小于200KB。")])],1)],1),l("el-form-item",{attrs:{label:"标题",prop:"title"}},[l("el-input",{attrs:{placeholder:"title",clearable:""},model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),l("el-form-item",{attrs:{label:"关键词",prop:"keywords"}},[l("el-input",{attrs:{placeholder:"keywords",clearable:""},model:{value:e.model.keywords,callback:function(t){e.$set(e.model,"keywords",t)},expression:"model.keywords"}})],1),l("el-form-item",{attrs:{label:"描述",prop:"description"}},[l("el-input",{attrs:{type:"textarea",placeholder:"description",clearable:""},model:{value:e.model.description,callback:function(t){e.$set(e.model,"description",t)},expression:"model.description"}})],1),l("el-form-item",{attrs:{label:"作者",prop:"author"}},[l("el-input",{attrs:{placeholder:"author",clearable:""},model:{value:e.model.author,callback:function(t){e.$set(e.model,"author",t)},expression:"model.author"}})],1),l("el-form-item",{attrs:{label:"链接",prop:"url"}},[l("el-input",{attrs:{placeholder:"url",clearable:""},model:{value:e.model.url,callback:function(t){e.$set(e.model,"url",t)},expression:"model.url"}})],1),l("el-form-item",{attrs:{label:"图片",prop:"imgs"}},[l("el-row",[l("el-col",{attrs:{span:8}},[l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileUpload("image","imgs","上传图片")}}},[e._v("上传图片")])],1),l("el-col",{attrs:{span:16}},[l("div",[e._v("每张图片大小不超过 1 MB。")])])],1),l("el-row",e._l(e.model.imgs,(function(t,i){return l("el-col",{key:i,staticClass:"ya-file",attrs:{span:6}},[l("el-image",{staticClass:"ya-img-form",attrs:{src:t.file_url,"preview-src-list":[t.file_url],fit:"contain",title:"点击查看大图"}}),l("div",[l("span",{staticClass:"ya-file-name",attrs:{title:t.file_name+"."+t.file_ext}},[e._v(" "+e._s(t.file_name)+"."+e._s(t.file_ext)+" ")]),l("el-link",{staticClass:"ya-file-link",attrs:{href:t.file_url,underline:!1,download:t.file_url,target:"_blank"}},[e._v(" 下载 ")]),l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileDelete(i,"imgs")}}},[e._v("删除")])],1)],1)})),1)],1),l("el-form-item",{attrs:{label:"视频",prop:"videos"}},[l("el-row",[l("el-col",{attrs:{span:8}},[l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileUpload("video","videos","上传视频")}}},[e._v("上传视频")])],1),l("el-col",{attrs:{span:16}},[l("div",[e._v("每个视频大小不超过 50 MB。")])])],1),l("el-row",e._l(e.model.videos,(function(t,i){return l("el-col",{key:i,staticClass:"ya-file",attrs:{span:6}},[l("div",{style:{width:"100%",height:(e.height-.1*e.height)/3-(e.height-.1*e.height)/3*.5+"px"}},[l("video",{attrs:{width:"100%",height:"100%",controls:""}},[l("source",{attrs:{src:t.file_url,type:"video/mp4"}}),l("object",{attrs:{data:t.file_url,width:"100%",height:"100%"}},[l("embed",{attrs:{src:t.file_url,width:"100%",height:"100%"}})])])]),l("div",[l("span",{staticClass:"ya-file-name",attrs:{title:t.file_name+"."+t.file_ext}},[e._v(" "+e._s(t.file_name)+"."+e._s(t.file_ext)+" ")]),l("el-link",{staticClass:"ya-file-link",attrs:{href:t.file_url,underline:!1,download:t.file_url,target:"_blank"}},[e._v(" 下载 ")]),l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileDelete(i,"videos")}}},[e._v("删除")])],1)])})),1)],1),l("el-form-item",{attrs:{label:"附件",prop:"files"}},[l("el-row",[l("el-col",{attrs:{span:8}},[l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileUpload("word","files","上传附件")}}},[e._v("上传附件")])],1),l("el-col",{attrs:{span:16}},[l("div",[e._v("每个附件大小不超过 10 MB。")])])],1),e._l(e.model.files,(function(t,i){return l("el-row",{key:i},[l("el-col",{staticClass:"ya-file-name",attrs:{span:18}},["image"===t.file_type?l("i",{staticClass:"el-icon-picture"}):"audio"===t.file_type?l("i",{staticClass:"el-icon-headset"}):"video"===t.file_type?l("i",{staticClass:"el-icon-video-play"}):"word"===t.file_type?l("i",{staticClass:"el-icon-document"}):l("i",{staticClass:"el-icon-folder"}),l("span",{attrs:{title:t.file_name+"."+t.file_ext}},[e._v(" "+e._s(t.file_name)+"."+e._s(t.file_ext)+" ")])]),l("el-col",{attrs:{span:6}},[l("el-link",{staticClass:"ya-file-link",attrs:{href:t.file_url,underline:!1,download:t.file_url,target:"_blank"}},[e._v(" 下载 ")]),l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileDelete(i,"files")}}},[e._v("删除")])],1)],1)}))],2),l("el-form-item",{attrs:{label:"排序",prop:"sort"}},[l("el-input",{attrs:{type:"number",placeholder:"sort",clearable:""},model:{value:e.model.sort,callback:function(t){e.$set(e.model,"sort",t)},expression:"model.sort"}})],1),l("el-form-item",{attrs:{label:"内容",prop:"content"}},[l("rich-editor",{model:{value:e.model.content,callback:function(t){e.$set(e.model,"content",t)},expression:"model.content"}})],1),e.model[e.idkey]?l("el-form-item",{attrs:{label:"添加时间",prop:"create_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.create_time,callback:function(t){e.$set(e.model,"create_time",t)},expression:"model.create_time"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"修改时间",prop:"update_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.update_time,callback:function(t){e.$set(e.model,"update_time",t)},expression:"model.update_time"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"删除时间",prop:"delete_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.delete_time,callback:function(t){e.$set(e.model,"delete_time",t)},expression:"model.delete_time"}})],1):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.cancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1),l("el-dialog",{attrs:{title:e.fileTitle,visible:e.fileDialog,width:"80%",top:"1vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.fileDialog=t}}},[l("file-manage",{attrs:{"file-type":e.fileType},on:{fileCancel:e.fileCancel,fileSubmit:e.fileSubmit}})],1)],1)},a=[],o=(l("209b"),l("a256"),l("3b45"),l("4f69"),l("98b1")),s=l("333d"),n=l("3659"),r=l("6a13"),c=l("ed08"),d=l("b775"),u="/admin/cms.Content/";function m(e){return Object(d["a"])({url:u+"list",method:"get",params:e})}function p(e){return Object(d["a"])({url:u+"info",method:"get",params:e})}function f(e){return Object(d["a"])({url:u+"add",method:"post",data:e})}function h(e){return Object(d["a"])({url:u+"edit",method:"post",data:e})}function b(e){return Object(d["a"])({url:u+"dele",method:"post",data:e})}function g(e){return Object(d["a"])({url:u+"cate",method:"post",data:e})}function _(e){return Object(d["a"])({url:u+"istop",method:"post",data:e})}function v(e){return Object(d["a"])({url:u+"ishot",method:"post",data:e})}function y(e){return Object(d["a"])({url:u+"isrec",method:"post",data:e})}function k(e){return Object(d["a"])({url:u+"ishide",method:"post",data:e})}function x(e){return Object(d["a"])({url:u+"recover",method:"get",params:e})}function w(e){return Object(d["a"])({url:u+"recoverReco",method:"post",data:e})}function $(e){return Object(d["a"])({url:u+"recoverDele",method:"post",data:e})}var C={name:"CmsContent",components:{Pagination:s["a"],FileManage:n["a"],RichEditor:r["a"]},directives:{},data:function(){return{name:"内容",recycle:0,height:680,loading:!1,idkey:"content_id",query:{page:1,limit:12,search_field:"name",date_field:"create_time"},data:[],count:0,dialog:!1,dialogTitle:"",model:{content_id:"",category_id:"",name:"",img_id:0,img_url:"",title:"",keywords:"",description:"",author:"",url:"",imgs:[],files:[],videos:[],sort:250,content:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}]},categoryData:[],categoryProps:{checkStrictly:!0,value:"category_id",label:"category_name"},selection:[],selectIds:"",selectTitle:"选中操作",selectDialog:!1,selectType:"",category_id:0,is_top:0,is_hot:0,is_rec:0,is_hide:0,fileDialog:!1,fileTitle:"文件管理",fileType:"image",fileField:""}},created:function(){this.recycle=this.$route.meta.query.recycle,this.height=Object(o["a"])(),this.list()},methods:{list:function(){var e=this;this.loading=!0,this.recycle?x(this.query).then((function(t){e.data=t.data.list,e.count=t.data.count,e.category(t.data.category),e.loading=!1})).catch((function(){e.loading=!1})):m(this.query).then((function(t){e.data=t.data.list,e.count=t.data.count,e.category(t.data.category),e.loading=!1})).catch((function(){e.loading=!1}))},add:function(){this.dialog=!0,this.dialogTitle=this.name+"添加",this.reset()},edit:function(e){var t=this;this.dialog=!0,this.dialogTitle=this.name+"修改："+e[this.idkey];var l={};l[this.idkey]=e[this.idkey],p(l).then((function(e){t.reset(e.data)})).catch((function(){}))},cancel:function(){this.dialog=!1,this.reset()},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.model[e.idkey]?h(e.model).then((function(t){e.list(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){})):f(e.model).then((function(t){e.list(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){})))}))},reset:function(e){e?(this.model=e,0===this.model.category_id&&(this.model.category_id="")):this.model=this.$options.data().model,void 0!==this.$refs["ref"]&&(this.$refs["ref"].resetFields(),this.$refs["ref"].clearValidate())},search:function(){this.query.page=1,this.list()},refresh:function(){this.query=this.$options.data().query,this.list()},sort:function(e){this.query.sort_field=e.prop,this.query.sort_value="","ascending"===e.order&&(this.query.sort_value="asc",this.list()),"descending"===e.order&&(this.query.sort_value="desc",this.list())},select:function(e){this.selection=e,this.selectIds=this.selectGetIds(e).toString()},selectGetIds:function(e){return Object(c["a"])(e,this.idkey)},selectAlert:function(){this.$alert("请选择需要操作的"+this.name,"提示",{type:"warning",callback:function(e){}})},selectOpen:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&(this.$refs["table"].clearSelection(),this.$refs["table"].toggleRowSelection(t)),this.selection.length?(this.selectTitle="选中操作","cate"===e?this.selectTitle="修改分类":"top"===e?this.selectTitle="是否置顶":"hot"===e?this.selectTitle="是否热门":"rec"===e?this.selectTitle="是否推荐":"hide"===e?this.selectTitle="是否隐藏":"dele"===e?this.selectTitle="删除"+this.name:"reco"===e&&(this.selectTitle="恢复"+this.name),this.selectDialog=!0,this.selectType=e):this.selectAlert()},selectCancel:function(){this.selectDialog=!1},selectSubmit:function(){if(this.selection.length){var e=this.selectType;"cate"===e?this.editcate(this.selection):"top"===e?this.istop(this.selection,!0):"hot"===e?this.ishot(this.selection,!0):"rec"===e?this.isrec(this.selection,!0):"hide"===e?this.ishide(this.selection,!0):"dele"===e?this.dele(this.selection):"reco"===e&&this.reco(this.selection),this.selectDialog=!1}else this.selectAlert()},editcate:function(e){var t=this;g({ids:this.selectGetIds(e),category_id:this.category_id}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))},istop:function(e){var t=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.length){this.loading=!0;var i=e[0].is_top;l&&(i=this.is_top),_({ids:this.selectGetIds(e),is_top:i}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.list()}))}else this.selectAlert()},ishot:function(e){var t=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.length){this.loading=!0;var i=e[0].is_hot;l&&(i=this.is_hot),v({ids:this.selectGetIds(e),is_hot:i}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.list()}))}else this.selectAlert()},isrec:function(e){var t=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.length){this.loading=!0;var i=e[0].is_rec;l&&(i=this.is_rec),y({ids:this.selectGetIds(e),is_rec:i}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.list()}))}else this.selectAlert()},ishide:function(e){var t=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.length){this.loading=!0;var i=e[0].is_hide;l&&(i=this.is_hide),k({ids:this.selectGetIds(e),is_hide:i}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.list()}))}else this.selectAlert()},reco:function(e){var t=this;e.length?w({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1})):this.selectAlert()},dele:function(e){var t=this;e.length?(this.loading=!0,this.recycle?$({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1})):b({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))):this.selectAlert()},category:function(e){e?this.categoryData=e:this.list(),this.categoryData.unshift({category_id:0,category_name:"(未分类)"})},categoryQuery:function(e){e&&(this.query.search_value=e[e.length-1])},categoryEdit:function(e){e&&(this.model.category_id=e[e.length-1])},categorySelect:function(e){e&&(this.category_id=e[e.length-1])},fileUpload:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"文件管理";this.fileType=e,this.fileField=t,this.fileTitle=l,this.fileDialog=!0},fileCancel:function(){this.fileType="image",this.fileField="",this.fileTitle="文件管理",this.fileDialog=!1},fileSubmit:function(e,t){var l=this.fileField,i=e.length;if(i)for(var a=0;a<i;a++)"img_id"===l?(this.model.img_id=e[a]["file_id"],this.model.img_url=e[a]["file_url"]):"imgs"===l?this.model.imgs.push(e[a]):"videos"===l?this.model.videos.push(e[a]):"files"===l&&this.model.files.push(e[a]);this.fileDialog=!1},fileDelete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";"img_id"===t?(this.model.img_id=0,this.model.img_url=""):"imgs"===t?this.model.imgs.splice(e,1):"videos"===t?this.model.videos.splice(e,1):"files"===t&&this.model.files.splice(e,1)}}},q=C,S=(l("016c"),l("cba8")),O=Object(S["a"])(q,i,a,!1,null,"02baf99e",null);t["default"]=O.exports},"31c5":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("div",{attrs:{slot:"header"},slot:"header"},[l("span",[e._v("字节转换")])]),l("div",[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"比特(b)"}},[l("el-input",{attrs:{type:"number",clearable:""},on:{input:function(t){return e.value("b")}},model:{value:e.model.b,callback:function(t){e.$set(e.model,"b",t)},expression:"model.b"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.b,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"字节(B)"}},[l("el-input",{attrs:{type:"number",clearable:""},on:{input:function(t){return e.value("B")}},model:{value:e.model.B,callback:function(t){e.$set(e.model,"B",t)},expression:"model.B"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.B,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"千字节(KB)"}},[l("el-input",{attrs:{type:"number",clearable:""},on:{input:function(t){return e.value("KB")}},model:{value:e.model.KB,callback:function(t){e.$set(e.model,"KB",t)},expression:"model.KB"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.KB,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"兆字节(MB)"}},[l("el-input",{attrs:{type:"number",clearable:""},on:{input:function(t){return e.value("MB")}},model:{value:e.model.MB,callback:function(t){e.$set(e.model,"MB",t)},expression:"model.MB"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.MB,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"吉字节(GB)"}},[l("el-input",{attrs:{type:"number",clearable:""},on:{input:function(t){return e.value("GB")}},model:{value:e.model.GB,callback:function(t){e.$set(e.model,"GB",t)},expression:"model.GB"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.GB,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"太字节(TB)"}},[l("el-input",{attrs:{type:"number",clearable:""},on:{input:function(t){return e.value("TB")}},model:{value:e.model.TB,callback:function(t){e.$set(e.model,"TB",t)},expression:"model.TB"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.TB,t)}},slot:"append"})],1)],1),l("el-form-item",[l("el-button",{on:{click:function(t){return e.clear()}}},[e._v("清空")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("转换")])],1)],1)],1)])},a=[],o=l("98b1"),s=l("f71e"),n=l("8cc9"),r={name:"AdminUtilsBytetran",components:{},data:function(){return{name:"字节转换",height:680,model:{type:"",value:"",b:"",B:"",KB:"",MB:"",GB:"",TB:""},rules:{}}},created:function(){this.height=Object(o["a"])(180)},methods:{value:function(e){this.model.type=e,this.model.value=this.model[e]},clear:function(){this.model=this.$options.data().model},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&Object(n["a"])({type:e.model.type,value:e.model.value}).then((function(t){e.model=t.data}))}))},copy:function(e,t){e?Object(s["a"])(e,t):this.$message.error("请转换字节")}}},c=r,d=l("cba8"),u=Object(d["a"])(c,i,a,!1,null,"adbe1b34",null);t["default"]=u.exports},"339c":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("el-tabs",[e.checkPermission(["admin/admin.Utils/strrand","admin/admin.Utils/strtran"])?l("el-tab-pane",{attrs:{label:"字符串",lazy:""}},[l("el-row",{attrs:{gutter:8}},[l("el-col",{directives:[{name:"permission",rawName:"v-permission",value:["admin/admin.Utils/strrand"],expression:"['admin/admin.Utils/strrand']"}],attrs:{xs:24,sm:12}},[l("div",{staticClass:"filter-container"},[l("utils-strrand")],1)]),l("el-col",{directives:[{name:"permission",rawName:"v-permission",value:["admin/admin.Utils/strtran"],expression:"['admin/admin.Utils/strtran']"}],attrs:{xs:24,sm:12}},[l("div",{staticClass:"filter-container"},[l("utils-strtran")],1)])],1)],1):e._e(),e.checkPermission(["admin/admin.Utils/timestamp"])?l("el-tab-pane",{attrs:{label:"时间戳",lazy:""}},[l("el-row",{attrs:{gutter:8}},[l("el-col",{attrs:{xs:24,sm:12}},[l("div",{staticClass:"filter-container"},[l("utils-timestamp")],1)])],1)],1):e._e(),e.checkPermission(["admin/admin.Utils/qrcode"])?l("el-tab-pane",{attrs:{label:"二维码",lazy:""}},[l("el-row",{attrs:{gutter:8}},[l("el-col",{attrs:{xs:24,sm:12}},[l("div",{staticClass:"filter-container"},[l("utils-qrcode")],1)])],1)],1):e._e(),e.checkPermission(["admin/admin.Utils/bytetran"])?l("el-tab-pane",{attrs:{label:"字节",lazy:""}},[l("el-row",{attrs:{gutter:8}},[l("el-col",{attrs:{xs:24,sm:12}},[l("div",{staticClass:"filter-container"},[l("utils-bytetran")],1)])],1)],1):e._e(),e.checkPermission(["admin/admin.Utils/ipinfo"])?l("el-tab-pane",{attrs:{label:"IP",lazy:""}},[l("el-row",{attrs:{gutter:8}},[l("el-col",{attrs:{xs:24,sm:12}},[l("div",{staticClass:"filter-container"},[l("utils-ipinfo")],1)])],1)],1):e._e(),e.checkPermission(["admin/admin.Utils/server"])?l("el-tab-pane",{attrs:{label:"服务器",lazy:""}},[l("el-row",{attrs:{gutter:8}},[l("el-col",[l("div",{staticClass:"filter-container"},[l("utils-server")],1)])],1)],1):e._e()],1)],1)},a=[],o=l("e350"),s=l("4381"),n=l("3433"),r=l("55b1"),c=l("68bd"),d=l("8d83"),u=l("31c5"),m=l("405a"),p=l("4688"),f={name:"AdminUtils",components:{UtilsStrtran:n["default"],UtilsStrrand:r["default"],UtilsTimestamp:c["default"],UtilsQrcode:d["default"],UtilsBytetran:u["default"],UtilsIpinfo:m["default"],UtilsServer:p["default"]},directives:{permission:s["a"]},data:function(){return{name:"实用工具"}},created:function(){},methods:{checkPermission:o["a"]}},h=f,b=l("cba8"),g=Object(b["a"])(h,i,a,!1,null,null,null);t["default"]=g.exports},3433:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("div",{attrs:{slot:"header"},slot:"header"},[l("span",[e._v("字符串转换")])]),l("div",[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"字符串",prop:"str"}},[l("el-input",{attrs:{type:"textarea",placeholder:"请输入字符串",clearable:""},model:{value:e.model.str,callback:function(t){e.$set(e.model,"str",t)},expression:"model.str"}})],1),l("el-form-item",{attrs:{label:"长度",prop:"len"}},[l("el-input",{model:{value:e.model.len,callback:function(t){e.$set(e.model,"len",t)},expression:"model.len"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.len,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"小写",prop:"lower"}},[l("el-input",{model:{value:e.model.lower,callback:function(t){e.$set(e.model,"lower",t)},expression:"model.lower"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.lower,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"大写",prop:"upper"}},[l("el-input",{model:{value:e.model.upper,callback:function(t){e.$set(e.model,"upper",t)},expression:"model.upper"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.upper,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"反转",prop:"rev"}},[l("el-input",{model:{value:e.model.rev,callback:function(t){e.$set(e.model,"rev",t)},expression:"model.rev"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.rev,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"MD5",prop:"md5"}},[l("el-input",{model:{value:e.model.md5,callback:function(t){e.$set(e.model,"md5",t)},expression:"model.md5"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.md5,t)}},slot:"append"})],1)],1),l("el-form-item",[l("el-button",{on:{click:function(t){return e.clear()}}},[e._v("清空")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("转换")])],1)],1)],1)])},a=[],o=l("98b1"),s=l("f71e"),n=l("8cc9"),r={name:"AdminUtilsStrtran",components:{},data:function(){return{name:"字符串转换",height:680,model:{str:"",len:"",lower:"",upper:"",rev:"",md5:""},rules:{}}},created:function(){this.height=Object(o["a"])(180)},methods:{clear:function(){this.model=this.$options.data().model},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&Object(n["e"])({str:e.model.str}).then((function(t){e.model=t.data}))}))},copy:function(e,t){e?Object(s["a"])(e,t):this.$message.error("请转换字符串")}}},c=r,d=l("cba8"),u=Object(d["a"])(c,i,a,!1,null,"a0f1e2f0",null);t["default"]=u.exports},"351d":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"filter-container"},[l("el-row",[l("el-col",[l("el-select",{staticClass:"filter-item ya-search-field",attrs:{placeholder:"搜索字段"},model:{value:e.query.search_field,callback:function(t){e.$set(e.query,"search_field",t)},expression:"query.search_field"}},[l("el-option",{attrs:{value:"username",label:"会员用户名"}}),l("el-option",{attrs:{value:"member_id",label:"会员ID"}}),l("el-option",{attrs:{value:"api_url",label:"接口链接"}}),l("el-option",{attrs:{value:"api_name",label:"接口名称"}}),l("el-option",{attrs:{value:"api_id",label:"接口ID"}}),l("el-option",{attrs:{value:"request_ip",label:"请求IP"}}),l("el-option",{attrs:{value:"request_region",label:"请求地区"}}),l("el-option",{attrs:{value:"request_isp",label:"请求ISP"}}),l("el-option",{attrs:{value:"response_code",label:"返回码"}})],1),l("el-input",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"搜索内容",clearable:""},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}}),l("el-date-picker",{staticClass:"filter-item ya-date-value",attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.query.date_value,callback:function(t){e.$set(e.query,"date_value",t)},expression:"query.date_value"}}),l("el-select",{staticClass:"filter-item ya-date-field",attrs:{placeholder:"日志类型",clearable:""},model:{value:e.query.log_type,callback:function(t){e.$set(e.query,"log_type",t)},expression:"query.log_type"}},[l("el-option",{attrs:{value:1,label:"注册日志"}}),l("el-option",{attrs:{value:2,label:"登录日志"}}),l("el-option",{attrs:{value:3,label:"操作日志"}})],1),l("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")]),l("el-button",{staticClass:"filter-item",on:{click:function(t){return e.refresh()}}},[e._v("刷新")])],1)],1),l("el-row",[l("el-col",[l("el-button",{on:{click:function(t){return e.selectOpen("dele")}}},[e._v("删除")]),l("el-button",{on:{click:function(t){return e.clear()}}},[e._v("清除")])],1)],1),l("el-dialog",{attrs:{title:e.selectTitle,visible:e.selectDialog,top:"20vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.selectDialog=t}}},[l("el-form",{attrs:{"label-width":"120px"}},[l("el-form-item",{attrs:{label:e.name+"ID",prop:""}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:12},disabled:""},model:{value:e.selectIds,callback:function(t){e.selectIds=t},expression:"selectIds"}})],1),"dele"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[l("span",{staticStyle:{color:"red"}},[e._v("确定要删除选中的"+e._s(e.name)+"吗？")])]):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.selectCancel}},[e._v("取消")]),l("el-button",{attrs:{type:"primary"},on:{click:e.selectSubmit}},[e._v("提交")])],1)],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.data,height:e.height},on:{"sort-change":e.sort,"selection-change":e.select}},[l("el-table-column",{attrs:{type:"selection",width:"42",title:"全选/反选"}}),l("el-table-column",{attrs:{prop:e.idkey,label:"ID","min-width":"100",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"member_id",label:"会员ID","min-width":"100",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"username",label:"会员用户名","min-width":"110","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"api_url",label:"接口链接","min-width":"220","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"api_name",label:"接口名称","min-width":"130","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"request_ip",label:"请求IP","min-width":"130"}}),l("el-table-column",{attrs:{prop:"request_region",label:"请求地区","min-width":"150","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"request_isp",label:"请求ISP","min-width":"110"}}),l("el-table-column",{attrs:{prop:"response_code",label:"返回码","min-width":"80"}}),l("el-table-column",{attrs:{prop:"response_msg",label:"返回描述","min-width":"130","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"create_time",label:"请求时间","min-width":"160",sortable:"custom"}}),l("el-table-column",{attrs:{label:"操作","min-width":"85",align:"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.info(i)}}},[e._v("详情")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.selectOpen("dele",i)}}},[e._v("删除")])]}}])})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.count>0,expression:"count > 0"}],attrs:{total:e.count,page:e.query.page,limit:e.query.limit},on:{"update:page":function(t){return e.$set(e.query,"page",t)},"update:limit":function(t){return e.$set(e.query,"limit",t)},pagination:e.list}}),l("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialog,top:"5vh","before-close":e.cancel,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialog=t}}},[l("el-form",{ref:"ref",staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{rules:e.rules,model:e.model,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"会员ID",prop:"member_id"}},[l("el-input",{model:{value:e.model.member_id,callback:function(t){e.$set(e.model,"member_id",t)},expression:"model.member_id"}})],1),l("el-form-item",{attrs:{label:"会员昵称",prop:"nickname"}},[l("el-input",{model:{value:e.model.nickname,callback:function(t){e.$set(e.model,"nickname",t)},expression:"model.nickname"}})],1),l("el-form-item",{attrs:{label:"会员用户名",prop:"username"}},[l("el-input",{model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1),l("el-form-item",{attrs:{label:"接口ID",prop:"api_id"}},[l("el-input",{model:{value:e.model.api_id,callback:function(t){e.$set(e.model,"api_id",t)},expression:"model.api_id"}})],1),l("el-form-item",{attrs:{label:"接口名称",prop:"api_name"}},[l("el-input",{model:{value:e.model.api_name,callback:function(t){e.$set(e.model,"api_name",t)},expression:"model.api_name"}})],1),l("el-form-item",{attrs:{label:"接口链接",prop:"api_url"}},[l("el-input",{model:{value:e.model.api_url,callback:function(t){e.$set(e.model,"api_url",t)},expression:"model.api_url"}})],1),l("el-form-item",{attrs:{label:"请求方式",prop:"request_method"}},[l("el-input",{model:{value:e.model.request_method,callback:function(t){e.$set(e.model,"request_method",t)},expression:"model.request_method"}})],1),l("el-form-item",{attrs:{label:"请求IP",prop:"request_ip"}},[l("el-input",{model:{value:e.model.request_ip,callback:function(t){e.$set(e.model,"request_ip",t)},expression:"model.request_ip"}})],1),l("el-form-item",{attrs:{label:"请求地区",prop:"request_region"}},[l("el-input",{model:{value:e.model.request_region,callback:function(t){e.$set(e.model,"request_region",t)},expression:"model.request_region"}})],1),l("el-form-item",{attrs:{label:"请求ISP",prop:"request_isp"}},[l("el-input",{model:{value:e.model.request_isp,callback:function(t){e.$set(e.model,"request_isp",t)},expression:"model.request_isp"}})],1),l("el-form-item",{attrs:{label:"请求时间",prop:"create_time"}},[l("el-input",{model:{value:e.model.create_time,callback:function(t){e.$set(e.model,"create_time",t)},expression:"model.create_time"}})],1),l("el-form-item",{attrs:{label:"请求参数",prop:"request_param"}},[l("pre",[e._v(e._s(e.model.request_param))])]),l("el-form-item",{attrs:{label:"返回码",prop:"response_code"}},[l("el-input",{model:{value:e.model.response_code,callback:function(t){e.$set(e.model,"response_code",t)},expression:"model.response_code"}})],1),l("el-form-item",{attrs:{label:"返回描述",prop:"response_msg"}},[l("el-input",{model:{value:e.model.response_msg,callback:function(t){e.$set(e.model,"response_msg",t)},expression:"model.response_msg"}})],1)],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.cancel}},[e._v("取消")]),l("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确定")])],1)],1),l("el-dialog",{attrs:{title:e.clearDialogTitle,visible:e.clearDialog,"before-close":e.clearCancel,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.clearDialog=t}}},[l("el-form",{ref:"clearRef",staticClass:"dialog-body",attrs:{rules:e.clearRules,model:e.clearModel,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"清除类型",prop:"clean"}},[l("el-select",{attrs:{placeholder:""},model:{value:e.clearModel.clean,callback:function(t){e.$set(e.clearModel,"clean",t)},expression:"clearModel.clean"}},[l("el-option",{attrs:{value:0,label:"条件清除"}}),l("el-option",{attrs:{value:1,label:"清空所有"}})],1)],1),0===e.clearModel.clean?l("div",[l("el-form-item",{attrs:{label:"会员ID",prop:"member_id"}},[l("el-input",{attrs:{placeholder:"多个逗号,隔开",clearable:""},model:{value:e.clearModel.member_id,callback:function(t){e.$set(e.clearModel,"member_id",t)},expression:"clearModel.member_id"}})],1),l("el-form-item",{attrs:{label:"会员用户名",prop:"username"}},[l("el-input",{attrs:{placeholder:"多个逗号,隔开",clearable:""},model:{value:e.clearModel.username,callback:function(t){e.$set(e.clearModel,"username",t)},expression:"clearModel.username"}})],1),l("el-form-item",{attrs:{label:"接口ID",prop:"api_id"}},[l("el-input",{attrs:{placeholder:"多个逗号,隔开",clearable:""},model:{value:e.clearModel.api_id,callback:function(t){e.$set(e.clearModel,"api_id",t)},expression:"clearModel.api_id"}})],1),l("el-form-item",{attrs:{label:"接口链接",prop:"api_url"}},[l("el-input",{attrs:{placeholder:"多个逗号,隔开",clearable:""},model:{value:e.clearModel.api_url,callback:function(t){e.$set(e.clearModel,"api_url",t)},expression:"clearModel.api_url"}})],1),l("el-form-item",{attrs:{label:"请求时间",prop:"date_value"}},[l("el-date-picker",{staticClass:"filter-item",attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.clearModel.date_value,callback:function(t){e.$set(e.clearModel,"date_value",t)},expression:"clearModel.date_value"}})],1)],1):l("div",[l("el-form-item",{attrs:{label:"",prop:""}},[l("span",{staticStyle:{color:"red"}},[e._v("确定要清空所有"+e._s(e.name)+"吗？")])])],1)],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){return e.clearCancel()}}},[e._v("取消")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.clearSubmit()}}},[e._v("确定")])],1)],1)],1)},a=[],o=(l("209b"),l("a256"),l("3b45"),l("98b1")),s=l("333d"),n=l("4381"),r=l("ed08"),c=l("88b5"),d={name:"MemberLog",components:{Pagination:s["a"]},directives:{permission:n["a"]},data:function(){return{name:"会员日志",height:680,loading:!1,idkey:"member_log_id",data:[],count:0,query:{page:1,limit:15,search_field:"username"},dialog:!1,dialogTitle:"",model:{},rules:{},selection:[],selectIds:"",selectTitle:"选中操作",selectDialog:!1,selectType:"",clearDialog:!1,clearDialogTitle:"",clearModel:{member_id:"",username:"",api_id:"",api_url:"",date_value:[],clean:0},clearRules:{}}},created:function(){this.height=Object(o["a"])(),this.list()},methods:{list:function(){var e=this;this.loading=!0,Object(c["d"])(this.query).then((function(t){e.data=t.data.list,e.count=t.data.count,e.loading=!1})).catch((function(){e.loading=!1}))},info:function(e){var t=this;this.dialog=!0,this.dialogTitle=this.name+"详情："+e[this.idkey];var l={};l[this.idkey]=e[this.idkey],Object(c["c"])(l).then((function(e){t.model=e.data}))},cancel:function(){this.dialog=!1,this.reset()},submit:function(){this.dialog=!1,this.reset()},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.model=e},search:function(){this.query.page=1,this.list()},refresh:function(){this.query=this.$options.data().query,this.list()},sort:function(e){this.query.sort_field=e.prop,this.query.sort_value="","ascending"===e.order&&(this.query.sort_value="asc",this.list()),"descending"===e.order&&(this.query.sort_value="desc",this.list())},select:function(e){this.selection=e,this.selectIds=this.selectGetIds(e).toString()},selectGetIds:function(e){return Object(r["a"])(e,this.idkey)},selectAlert:function(){this.$alert("请选择需要操作的"+this.name,"提示",{type:"warning",callback:function(e){}})},selectOpen:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&(this.$refs["table"].clearSelection(),this.$refs["table"].toggleRowSelection(t)),this.selection.length?(this.selectTitle="选中操作","dele"===e&&(this.selectTitle="删除"+this.name),this.selectDialog=!0,this.selectType=e):this.selectAlert()},selectCancel:function(){this.selectDialog=!1},selectSubmit:function(){if(this.selection.length){var e=this.selectType;"dele"===e&&this.dele(this.selection),this.selectDialog=!1}else this.selectAlert()},dele:function(e){var t=this;e.length?(this.loading=!0,Object(c["b"])({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))):this.selectAlert()},clear:function(){this.clearDialog=!0,this.clearDialogTitle=this.name+"清除"},clearCancel:function(){this.clearDialog=!1},clearSubmit:function(){var e=this;this.loading=!0,Object(c["a"])(this.clearModel).then((function(t){e.list(),e.clearDialog=!1,e.clearModel=e.$options.data().clearModel,e.$message.success("已清除"+e.name+" "+t.data.count+" 条")})).catch((function(){e.loading=!1}))}}},u=d,m=l("cba8"),p=Object(m["a"])(u,i,a,!1,null,null,null);t["default"]=p.exports},"35b0":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"login-container",style:{backgroundImage:"url("+e.login_bg_url+")"}},[l("el-form",{ref:"ref",staticClass:"login-form",attrs:{model:e.model,rules:e.rules,"label-position":"left"}},[l("div",{staticClass:"login-title"},[l("h3",{staticClass:"login-title-name"},[e._v(e._s(e.system_name))])]),l("div",{staticClass:"login-logo"},[e.logo_url?l("el-image",{staticClass:"login-logo-img",attrs:{src:e.logo_url,fit:"contain"}},[l("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"})]):l("div",{staticStyle:{height:"134px"}})],1),l("el-form-item",{attrs:{prop:"username"}},[l("el-input",{attrs:{type:"text",placeholder:"账号/手机/邮箱","prefix-icon":"el-icon-user",autocomplete:"on",clearable:""},model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1),l("el-form-item",{attrs:{prop:"password"}},[l("el-input",{attrs:{type:"password",placeholder:"请输入密码","prefix-icon":"el-icon-lock",autocomplete:"on",clearable:"","show-password":""},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1),e.captcha_switch?l("el-form-item",{attrs:{prop:"captcha_code"}},[l("el-col",{attrs:{span:13}},[l("el-input",{attrs:{placeholder:"请输入验证码","prefix-icon":"el-icon-picture",autocomplete:"off",clearable:""},model:{value:e.model.captcha_code,callback:function(t){e.$set(e.model,"captcha_code",t)},expression:"model.captcha_code"}})],1),l("el-col",{attrs:{span:11}},[l("el-image",{staticClass:"login-captcha",attrs:{src:e.captcha_src,fit:"fill",alt:"验证码",title:"点击刷新验证码"},on:{click:e.captcha}})],1)],1):e._e(),l("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e._v("登录")])],1)],1)},a=[],o=(l("a256"),l("2dd8"),l("e208")),s=l("d369"),n={name:"AdminLogin",components:{},data:function(){return{name:"登录",system_name:"",loading:!1,redirect:void 0,otherQuery:{},captcha_switch:0,captcha_src:"",logo_url:"",login_bg_url:"",model:{username:"",password:"",captcha_id:"",captcha_code:""},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],captcha_code:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},watch:{$route:{handler:function(e){var t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))},immediate:!0}},created:function(){this.setting()},mounted:function(){},destroyed:function(){},methods:{captcha:function(){var e=this;Object(o["a"])().then((function(t){e.captchaSet(t)}))},captchaSet:function(e){this.model.captcha_id="",this.model.captcha_code="",e.data.captcha_switch&&(this.captcha_src=e.data.captcha_src,this.model.captcha_id=e.data.captcha_id),this.captcha_switch=e.data.captcha_switch},setting:function(){var e=this;this.model.captcha_id="",this.model.captcha_code="",Object(o["d"])().then((function(t){e.captchaSet(t),e.login_bg_url=t.data.login_bg_url,e.system_name=t.data.system_name,e.logo_url=t.data.logo_url,e.$store.dispatch("settings/changeSetting",{key:"systemName",value:t.data.system_name}),e.$store.dispatch("settings/changeSetting",{key:"pageTitle",value:t.data.page_title}),e.$store.dispatch("settings/changeSetting",{key:"logoUrl",value:t.data.logo_url}),e.$store.dispatch("settings/changeSetting",{key:"faviconUrl",value:t.data.favicon_url})}))},handleLogin:function(){var e=this;this.$refs["ref"].validate((function(t){if(!t)return!1;e.loading=!0,e.$store.dispatch("user/login",e.model).then((function(){Object(s["a"])(),e.$router.push({path:e.redirect||"/",query:e.otherQuery}).catch((function(){e.loading=!1}))})).catch((function(){e.loading=!1}))}))},getOtherQuery:function(e){return Object.keys(e).reduce((function(t,l){return"redirect"!==l&&(t[l]=e[l]),t}),{})}}},r=n,c=(l("9b4f"),l("cba8")),d=Object(c["a"])(r,i,a,!1,null,"1e89ce8b",null);t["default"]=d.exports},"35eb":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("el-tabs",[e.checkPermission(["admin/admin.UserCenter/info"])?l("el-tab-pane",{attrs:{label:"我的信息",lazy:""}},[l("user-center-info")],1):e._e(),e.checkPermission(["admin/admin.UserCenter/edit"])?l("el-tab-pane",{attrs:{label:"修改信息",lazy:""}},[l("user-center-edit")],1):e._e(),e.checkPermission(["admin/admin.UserCenter/pwd"])?l("el-tab-pane",{attrs:{label:"修改密码",lazy:""}},[l("user-center-pwd")],1):e._e(),e.checkPermission(["admin/admin.UserCenter/log"])?l("el-tab-pane",{attrs:{label:"我的日志",lazy:""}},[l("user-center-log")],1):e._e(),e.checkPermission(["admin/admin.UserCenter/setting"])?l("el-tab-pane",{attrs:{label:"我的设置",lazy:""}},[l("user-center-setting")],1):e._e()],1)],1)},a=[],o=l("e350"),s=l("b1f4"),n=l("0218"),r=l("2ab6"),c=l("ad21"),d=l("8229"),u={name:"AdminUserCenter",components:{UserCenterInfo:s["default"],UserCenterEdit:n["default"],UserCenterPwd:r["default"],UserCenterLog:c["default"],UserCenterSetting:d["default"]},data:function(){return{name:"个人中心"}},methods:{checkPermission:o["a"]}},m=u,p=l("cba8"),f=Object(p["a"])(m,i,a,!1,null,null,null);t["default"]=f.exports},3659:function(e,t,l){"use strict";var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"filter-container"},[l("el-row",[l("el-col",[l("el-select",{staticClass:"filter-item ya-search-field",attrs:{placeholder:"搜索字段"},model:{value:e.query.search_field,callback:function(t){e.$set(e.query,"search_field",t)},expression:"query.search_field"}},[l("el-option",{attrs:{value:"file_name",label:"文件名称"}}),l("el-option",{attrs:{value:"file_md5",label:"文件MD5"}}),l("el-option",{attrs:{value:"file_hash",label:"文件散列"}}),l("el-option",{attrs:{value:"file_ext",label:"文件扩展"}}),l("el-option",{attrs:{value:e.idkey,label:"文件ID"}})],1),l("el-input",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"搜索内容",clearable:""},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}}),l("el-select",{staticClass:"filter-item ya-date-field",attrs:{placeholder:"时间类型"},model:{value:e.query.date_field,callback:function(t){e.$set(e.query,"date_field",t)},expression:"query.date_field"}},[l("el-option",{attrs:{value:"create_time",label:"添加时间"}}),l("el-option",{attrs:{value:"update_time",label:"修改时间"}}),e.recycle?l("el-option",{attrs:{value:"delete_time",label:"删除时间"}}):e._e()],1),l("el-date-picker",{staticClass:"filter-item ya-date-value",attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.query.date_value,callback:function(t){e.$set(e.query,"date_value",t)},expression:"query.date_value"}}),l("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")]),l("el-button",{staticClass:"filter-item",on:{click:function(t){return e.refresh()}}},[e._v("刷新")])],1)],1)],1),l("el-row",[l("el-col",[l("el-checkbox",{staticStyle:{"margin-right":"10px",top:"-2px"},attrs:{border:"",indeterminate:e.selectAllInd},on:{change:e.selectAllChange},model:{value:e.selectAll,callback:function(t){e.selectAll=t},expression:"selectAll"}},[e._v("全选")]),l("el-button",{attrs:{title:"修改分组"},on:{click:function(t){return e.selectOpen("editgroup")}}},[e._v("分组")]),l("el-button",{attrs:{title:"修改类型"},on:{click:function(t){return e.selectOpen("edittype")}}},[e._v("类型")]),l("el-button",{attrs:{title:"修改域名"},on:{click:function(t){return e.selectOpen("editdomain")}}},[e._v("域名")]),l("el-button",{attrs:{title:"是否禁用"},on:{click:function(t){return e.selectOpen("disable")}}},[e._v("禁用")]),l("el-button",{attrs:{title:"删除"},on:{click:function(t){return e.selectOpen("dele")}}},[e._v("删除")]),e.recycle?l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.selectOpen("reco")}}},[e._v("恢复")]):l("el-upload",{staticClass:"ya-upload",attrs:{name:"file",limit:e.uploadLimit,"file-list":e.uploadFilelist,multiple:!0,"show-file-list":!1,"auto-upload":!0,action:e.uploadAction,headers:e.uploadHeaders,data:e.uploadData,"before-upload":e.uploadBefore,"on-success":e.uploadSuccess,"on-error":e.uploadError,"on-change":e.uploadChange,"on-exceed":e.uploadExceed}},[l("el-button",{attrs:{type:"primary",title:"上传文件"},on:{click:e.uploadClear}},[e._v("上传")])],1),l("el-select",{staticClass:"filter-item ya-search-field ya-margin-left",attrs:{filterable:"",clearable:"",placeholder:"排序字段"},on:{change:e.sort},model:{value:e.query.sort_field,callback:function(t){e.$set(e.query,"sort_field",t)},expression:"query.sort_field"}},[l("el-option",{attrs:{value:"file_name",label:"文件名称"}}),l("el-option",{attrs:{value:"file_md5",label:"文件MD5"}}),l("el-option",{attrs:{value:"file_hash",label:"文件散列"}}),l("el-option",{attrs:{value:"file_ext",label:"文件扩展"}}),l("el-option",{attrs:{value:e.idkey,label:"文件ID"}}),l("el-option",{attrs:{value:"create_time",label:"添加时间"}}),l("el-option",{attrs:{value:"update_time",label:"修改时间"}}),e.recycle?l("el-option",{attrs:{value:"delete_time",label:"删除时间"}}):e._e()],1),l("el-select",{staticClass:"filter-item ya-search-field",attrs:{filterable:"",clearable:"",placeholder:"排序类型"},on:{change:e.sort},model:{value:e.query.sort_value,callback:function(t){e.$set(e.query,"sort_value",t)},expression:"query.sort_value"}},[l("el-option",{attrs:{value:"asc",label:"升序"}}),l("el-option",{attrs:{value:"desc",label:"降序"}})],1),l("el-select",{staticClass:"filter-item ya-search-field ya-margin-left",attrs:{filterable:"",clearable:"",placeholder:"分组"},on:{change:e.groupSelect},model:{value:e.query.group_id,callback:function(t){e.$set(e.query,"group_id",t)},expression:"query.group_id"}},e._l(e.group,(function(e,t){return l("el-option",{key:t,attrs:{value:e.group_id,label:e.group_name}})})),1),l("el-button-group",[l("el-button",{attrs:{type:"text",icon:"el-icon-plus",title:"添加分组"},on:{click:function(t){return e.groupAdd()}}}),l("el-button",{attrs:{type:"text",icon:"el-icon-edit",title:"修改分组"},on:{click:function(t){return e.groupEdit()}}}),l("el-button",{attrs:{type:"text",icon:"el-icon-delete",title:"删除分组"},on:{click:function(t){return e.groupDele()}}})],1)],1)],1),l("el-dialog",{attrs:{title:e.selectTitle,visible:e.selectDialog,top:"20vh","append-to-body":"","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.selectDialog=t}}},[l("el-form",{attrs:{"label-width":"120px"}},[l("el-form-item",{attrs:{label:e.name+"ID",prop:""}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:12},disabled:""},model:{value:e.selectIds,callback:function(t){e.selectIds=t},expression:"selectIds"}})],1),"editgroup"===e.selectType?l("el-form-item",{attrs:{label:"文件分组",prop:""}},[l("el-select",{attrs:{placeholder:""},model:{value:e.group_id,callback:function(t){e.group_id=t},expression:"group_id"}},e._l(e.group,(function(e,t){return l("el-option",{key:t,attrs:{value:e.group_id,label:e.group_name}})})),1)],1):"edittype"===e.selectType?l("el-form-item",{attrs:{label:"文件类型",prop:"file_type"}},[l("el-select",{attrs:{placeholder:""},model:{value:e.file_type,callback:function(t){e.file_type=t},expression:"file_type"}},e._l(e.filetype,(function(e,t){return l("el-option",{key:t,attrs:{value:t,label:e}})})),1)],1):"editdomain"===e.selectType?l("el-form-item",{attrs:{label:"文件域名",prop:""}},[l("el-input",{attrs:{placeholder:"",clearable:""},model:{value:e.domain,callback:function(t){e.domain=t},expression:"domain"}}),l("span",{staticClass:"ya-margin-left"},[e._v("修改文件域名会影响文件的访问，请确认无误后修改！")])],1):"disable"===e.selectType?l("el-form-item",{attrs:{label:"是否禁用",prop:""}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.is_disable,callback:function(t){e.is_disable=t},expression:"is_disable"}}),e.is_disable?l("span",{staticClass:"ya-margin-left",staticStyle:{color:"red"}},[e._v("禁用会对已使用该文件的业务造成影响！")]):e._e()],1):"dele"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[e.recycle?l("span",{staticClass:"ya-margin-left",staticStyle:{color:"red"}},[e._v("确定要彻底删除选中的"+e._s(e.name)+"吗？删除后不可恢复！")]):l("span",{staticClass:"ya-margin-left",staticStyle:{color:"red"}},[e._v("确定要删除选中的"+e._s(e.name)+"吗？删除会对已使用该文件的业务造成影响！")])]):"reco"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[l("span",{staticClass:"ya-margin-left",staticStyle:{color:"red"}},[e._v("确定要恢复选中的"+e._s(e.name)+"吗？")])]):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.selectCancel}},[e._v("取消")]),l("el-button",{attrs:{type:"primary"},on:{click:e.selectSubmit}},[e._v("提交")])],1)],1),l("el-dialog",{attrs:{title:e.groupTitle,visible:e.groupDialog,"before-close":e.groupCancel,"append-to-body":"","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.groupDialog=t}}},[l("el-form",{ref:"groupRef",staticClass:"dialog-body",attrs:{rules:e.groupRules,model:e.groupModel,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"名称",prop:"group_name"}},[l("el-input",{attrs:{placeholder:"请输入分组名称",clearable:""},model:{value:e.groupModel.group_name,callback:function(t){e.$set(e.groupModel,"group_name",t)},expression:"groupModel.group_name"}})],1),l("el-form-item",{attrs:{label:"描述",prop:"group_desc"}},[l("el-input",{attrs:{clearable:""},model:{value:e.groupModel.group_desc,callback:function(t){e.$set(e.groupModel,"group_desc",t)},expression:"groupModel.group_desc"}})],1),l("el-form-item",{attrs:{label:"排序",prop:"group_sort"}},[l("el-input",{attrs:{type:"number"},model:{value:e.groupModel.group_sort,callback:function(t){e.$set(e.groupModel,"group_sort",t)},expression:"groupModel.group_sort"}})],1)],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.groupCancel}},[e._v("取消")]),l("el-button",{attrs:{type:"primary"},on:{click:e.groupSubmit}},[e._v("提交")])],1)],1),l("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{gutter:3}},[l("el-col",{staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{span:3}},[l("el-row",[l("el-col",[l("el-button",{staticClass:"ya-color-inherit",attrs:{type:"text"}},[e._v("类型：")])],1),l("el-col",{staticClass:"ya-padding-left"},[l("el-link",{staticClass:"ya-height-26",attrs:{type:""===e.query.file_type?"primary":"",underline:!1},on:{click:function(t){return e.typeSelect("")}}},[e._v("全部")])],1),e._l(e.filetype,(function(t,i){return l("el-col",{key:i,staticClass:"ya-padding-left"},[l("el-link",{staticClass:"ya-height-26",attrs:{type:e.query.file_type===i?"primary":"",underline:!1},on:{click:function(t){return e.typeSelect(i)}}},[e._v(e._s(t))])],1)}))],2),l("el-row",[l("el-col",[l("el-button",{staticClass:"ya-color-inherit",attrs:{type:"text"}},[e._v("禁用：")])],1),l("el-col",{staticClass:"ya-padding-left"},[l("el-link",{staticClass:"ya-height-26",attrs:{type:""===e.query.is_disable?"primary":"",underline:!1},on:{click:function(t){return e.disableSelect("")}}},[e._v("全部")])],1),l("el-col",{staticClass:"ya-padding-left"},[l("el-link",{staticClass:"ya-height-26",attrs:{type:0===e.query.is_disable?"primary":"",underline:!1},on:{click:function(t){return e.disableSelect(0)}}},[e._v("已启用")])],1),l("el-col",{staticClass:"ya-padding-left"},[l("el-link",{staticClass:"ya-height-26",attrs:{type:1===e.query.is_disable?"primary":"",underline:!1},on:{click:function(t){return e.disableSelect(1)}}},[e._v("已禁用")])],1)],1),l("el-row",[l("el-col",[l("el-button",{staticClass:"ya-color-inherit",attrs:{type:"text"}},[e._v("上传：")])],1),l("el-col",{staticClass:"ya-padding-left"},[l("el-link",{staticClass:"ya-height-26",attrs:{type:""===e.query.is_front?"primary":"",underline:!1},on:{click:function(t){return e.frontSelect("")}}},[e._v("全部")])],1),l("el-col",{staticClass:"ya-padding-left"},[l("el-link",{staticClass:"ya-height-26",attrs:{type:0===e.query.is_front?"primary":"",underline:!1},on:{click:function(t){return e.frontSelect(0)}}},[e._v("后台")])],1),l("el-col",{staticClass:"ya-padding-left"},[l("el-link",{staticClass:"ya-height-26",attrs:{type:1===e.query.is_front?"primary":"",underline:!1},on:{click:function(t){return e.frontSelect(1)}}},[e._v("前台")])],1)],1),l("el-row",[l("el-col",[l("el-button",{staticClass:"ya-color-inherit",attrs:{type:"text"}},[e._v("存储：")])],1),l("el-col",{staticClass:"ya-padding-left"},[l("el-link",{staticClass:"ya-height-26",attrs:{type:""===e.query.storage?"primary":"",underline:!1},on:{click:function(t){return e.storageSelect("")}}},[e._v("全部")])],1),e._l(e.storage,(function(t,i){return l("el-col",{key:i,staticClass:"ya-padding-left"},[l("el-link",{staticClass:"ya-height-26",attrs:{type:e.query.storage===i?"primary":"",underline:!1},on:{click:function(t){return e.storageSelect(i)}}},[e._v(e._s(t))])],1)}))],2)],1),e.count>0?l("el-col",{staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{span:21}},[l("el-row",{attrs:{gutter:3}},[l("el-checkbox-group",{on:{change:e.select},model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}},e._l(e.data,(function(t,i){return l("el-col",{key:i,staticStyle:{"margin-bottom":"6px","text-align":"center"},attrs:{span:4}},[l("el-card",{staticClass:"ya-file-card",attrs:{"body-style":{minWidth:"16.5%",height:(e.height-.1*e.height)/3+"px",minHeight:"126px",padding:"0 6px"}}},[l("div",{staticClass:"ya-file-ext"},[l("span",[e._v(e._s(t.file_ext))])]),l("div",{staticStyle:{"text-align":"left"}},[l("el-checkbox",{key:t[e.idkey],attrs:{label:t[e.idkey]}})],1),l("div",{style:{width:"100%",height:(e.height-.1*e.height)/3-(e.height-.1*e.height)/3*.5+"px",minHeight:"62px"}},["image"===t.file_type?l("el-image",{staticStyle:{height:"100%"},attrs:{fit:"contain",src:t.file_url,"preview-src-list":e.fileImgPre,title:"点击查看大图"}}):"video"===t.file_type?l("video",{attrs:{width:"100%",height:"100%",controls:""}},[l("source",{attrs:{src:t.file_url,type:"video/mp4"}}),l("object",{attrs:{data:t.file_url,width:"100%",height:"100%"}},[l("embed",{attrs:{src:t.file_url,width:"100%",height:"100%"}})])]):"audio"===t.file_type?l("audio",{attrs:{width:"100%",height:"100%",controls:""}},[l("source",{attrs:{src:t.file_url,type:"audio/mp3"}}),l("embed",{attrs:{src:t.file_url,width:"100%",height:"100%"}})]):"word"===t.file_type?l("el-image",{staticClass:"ya-file-img",attrs:{src:t.file_url}},[l("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[l("i",{staticClass:"el-icon-document ya-file-icon"})])]):l("div",{staticClass:"image-slot"},[l("i",{staticClass:"el-icon-folder ya-file-icon"})])],1),l("div",{style:{paddingTop:"5px",minHeight:"50px"}},[l("span",{staticClass:"ya-file-name",attrs:{title:t.file_name+"."+t.file_ext}},[e._v(e._s(t.file_name)+"."+e._s(t.file_ext))]),l("div",{staticClass:"bottom clearfix"},[t.is_disable?l("el-button",{attrs:{size:"medium",type:"text",icon:"el-icon-warning",title:"已禁用,点击修改"},on:{click:function(l){return e.selectOpen("disable",[t.file_id])}}}):l("el-button",{attrs:{size:"medium",type:"text",icon:"el-icon-warning-outline",title:"已启用,点击修改"},on:{click:function(l){return e.selectOpen("disable",[t.file_id])}}}),l("el-button",{attrs:{type:"text",icon:"el-icon-copy-document",title:"复制文件名"},on:{click:function(l){return e.copy(t.file_name,l)}}}),l("el-link",{staticStyle:{margin:"-8px 10px 0 10px"},attrs:{type:"primary",icon:"el-icon-download",title:"下载文件",href:t.file_url,underline:!1,download:t.file_url,target:"_blank"}}),l("el-button",{attrs:{size:"mini",type:"text",title:"详情/修改"},on:{click:function(l){return e.edit(t)}}},[e._v("修改")]),l("el-button",{attrs:{size:"mini",type:"text",title:"删除文件"},on:{click:function(l){return e.selectOpen("dele",[t.file_id])}}},[e._v("删除")])],1)])])],1)})),1)],1)],1):l("el-col",{attrs:{span:21}},[l("el-empty",{attrs:{description:"暂无"+e.name}})],1)],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.count>0,expression:"count > 0"}],attrs:{total:e.count,page:e.query.page,limit:e.query.limit},on:{"update:page":function(t){return e.$set(e.query,"page",t)},"update:limit":function(t){return e.$set(e.query,"limit",t)},pagination:e.list}}),l("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialog,top:"5vh","before-close":e.cancel,"append-to-body":"","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialog=t}}},[l("el-form",{ref:"ref",staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{rules:e.rules,model:e.model,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"文件名称",prop:"file_name"}},[l("el-input",{attrs:{placeholder:"",title:e.model.file_name,clearable:""},model:{value:e.model.file_name,callback:function(t){e.$set(e.model,"file_name",t)},expression:"model.file_name"}},[l("el-button",{staticStyle:{"margin-right":"3px"},attrs:{slot:"append",icon:"el-icon-copy-document",title:"复制文件名"},on:{click:function(t){return e.copy(e.model.file_name,t)}},slot:"append"}),l("el-link",{attrs:{slot:"append",icon:"el-icon-download",title:"下载文件",href:e.model.file_url,underline:!1,download:e.model.file_url,target:"_blank"},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"文件分组",prop:"group_id"}},[l("el-select",{attrs:{placeholder:"未分组",clearable:""},model:{value:e.model.group_id,callback:function(t){e.$set(e.model,"group_id",t)},expression:"model.group_id"}},e._l(e.group,(function(e,t){return l("el-option",{key:t,attrs:{value:e.group_id,label:e.group_name}})})),1)],1),l("el-form-item",{attrs:{label:"文件类型",prop:"file_type"}},[l("el-select",{attrs:{placeholder:""},model:{value:e.model.file_type,callback:function(t){e.$set(e.model,"file_type",t)},expression:"model.file_type"}},e._l(e.filetype,(function(e,t){return l("el-option",{key:t,attrs:{value:t,label:e}})})),1)],1),l("el-form-item",{attrs:{label:"文件排序",prop:"sort"}},[l("el-input",{attrs:{type:"number",placeholder:"250"},model:{value:e.model.sort,callback:function(t){e.$set(e.model,"sort",t)},expression:"model.sort"}})],1),l("el-form-item",{attrs:{label:"文件域名",prop:"domain"}},[l("el-input",{attrs:{placeholder:"",clearable:""},model:{value:e.model.domain,callback:function(t){e.$set(e.model,"domain",t)},expression:"model.domain"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-copy-document",title:"复制"},on:{click:function(t){return e.copy(e.model.domain,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"文件路径",prop:"file_path"}},[l("el-input",{attrs:{placeholder:"",title:e.model.file_path,disabled:""},model:{value:e.model.file_path,callback:function(t){e.$set(e.model,"file_path",t)},expression:"model.file_path"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-copy-document",title:"复制"},on:{click:function(t){return e.copy(e.model.file_path,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"文件链接",prop:"file_url"}},[l("el-input",{attrs:{placeholder:"",title:e.model.file_url,disabled:""},model:{value:e.model.file_url,callback:function(t){e.$set(e.model,"file_url",t)},expression:"model.file_url"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-copy-document",title:"复制"},on:{click:function(t){return e.copy(e.model.file_url,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"存储方式",prop:"storage"}},[l("el-select",{attrs:{placeholder:"",disabled:""},model:{value:e.model.storage,callback:function(t){e.$set(e.model,"storage",t)},expression:"model.storage"}},e._l(e.storage,(function(e,t){return l("el-option",{key:t,attrs:{value:t,label:e}})})),1)],1),l("el-form-item",{attrs:{label:"是否禁用",prop:"is_disable"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:""},model:{value:e.model.is_disable,callback:function(t){e.$set(e.model,"is_disable",t)},expression:"model.is_disable"}})],1),l("el-form-item",{attrs:{label:"文件大小",prop:"file_size"}},[l("el-input",{attrs:{placeholder:"",disabled:""},model:{value:e.model.file_size,callback:function(t){e.$set(e.model,"file_size",t)},expression:"model.file_size"}})],1),l("el-form-item",{attrs:{label:"文件后缀",prop:"file_ext"}},[l("el-input",{attrs:{placeholder:"",disabled:""},model:{value:e.model.file_ext,callback:function(t){e.$set(e.model,"file_ext",t)},expression:"model.file_ext"}})],1),l("el-form-item",{attrs:{label:"文件MD5",prop:"file_md5"}},[l("el-input",{attrs:{placeholder:"",disabled:""},model:{value:e.model.file_md5,callback:function(t){e.$set(e.model,"file_md5",t)},expression:"model.file_md5"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-copy-document",title:"复制"},on:{click:function(t){return e.copy(e.model.file_md5,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"文件散列",prop:"file_hash"}},[l("el-input",{attrs:{placeholder:"",disabled:""},model:{value:e.model.file_hash,callback:function(t){e.$set(e.model,"file_hash",t)},expression:"model.file_hash"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-copy-document",title:"复制"},on:{click:function(t){return e.copy(e.model.file_hash,t)}},slot:"append"})],1)],1),e.model.file_id?l("el-form-item",{attrs:{label:"添加时间",prop:"create_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.create_time,callback:function(t){e.$set(e.model,"create_time",t)},expression:"model.create_time"}})],1):e._e(),e.model.file_id?l("el-form-item",{attrs:{label:"修改时间",prop:"update_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.update_time,callback:function(t){e.$set(e.model,"update_time",t)},expression:"model.update_time"}})],1):e._e(),e.model.delete_time?l("el-form-item",{attrs:{label:"删除时间",prop:"delete_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.delete_time,callback:function(t){e.$set(e.model,"delete_time",t)},expression:"model.delete_time"}})],1):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.cancel}},[e._v("取消")]),l("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1),l("el-row",{directives:[{name:"show",rawName:"v-show",value:e.fileType,expression:"fileType"}]},[l("el-col",{staticStyle:{"text-align":"right","margin-top":"20px"}},[l("el-button",{on:{click:function(t){return e.fileCancel()}}},[e._v("取消")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.fileSubmit(e.selection)}}},[e._v("确定")])],1)],1)],1)},a=[],o=(l("ba60"),l("209b"),l("a256"),l("3b45"),l("98b1")),s=l("333d"),n=l("f71e"),r=l("5f87"),c=l("b775"),d="/admin/file.File/";function u(e){return Object(c["a"])({url:d+"list",method:"get",params:e})}function m(e){return Object(c["a"])({url:d+"info",method:"get",params:e})}function p(){return d+"add"}function f(e){return Object(c["a"])({url:d+"edit",method:"post",data:e})}function h(e){return Object(c["a"])({url:d+"dele",method:"post",data:e})}function b(e){return Object(c["a"])({url:d+"editgroup",method:"post",data:e})}function g(e){return Object(c["a"])({url:d+"edittype",method:"post",data:e})}function _(e){return Object(c["a"])({url:d+"editdomain",method:"post",data:e})}function v(e){return Object(c["a"])({url:d+"disable",method:"post",data:e})}function y(e){return Object(c["a"])({url:d+"recover",method:"get",params:e})}function k(e){return Object(c["a"])({url:d+"recoverReco",method:"post",data:e})}function x(e){return Object(c["a"])({url:d+"recoverDele",method:"post",data:e})}var w=l("0532"),$={name:"FileManage",components:{Pagination:s["a"]},directives:{},props:{isRecycle:{type:Number,default:0},fileType:{type:String,default:""}},data:function(){return{name:"文件",recycle:0,height:680,loading:!1,idkey:"file_id",query:{page:1,limit:18,group_id:"",storage:"",file_type:"",is_front:0,is_disable:"",search_field:"file_name",date_field:"create_time"},data:[],count:0,dialog:!1,dialogTitle:"",model:{file_id:"",group_id:0,storage:"local",domain:"",file_md5:"",file_hash:"",file_name:"",file_type:"",file_path:"",file_size:"",file_ext:"",file_url:"",sort:250,is_front:0,is_disable:0,is_delete:0},rules:{file_name:[{required:!0,message:"请输入文件名称",trigger:"blur"}]},group:[],storage:[],fileIds:[],filetype:[],fileImgPre:[],selectAll:!1,selectAllInd:!1,selection:[],selectIds:"",selectTitle:"选中操作",selectDialog:!1,selectType:"",group_id:0,file_type:"image",domain:"",is_disable:0,uploadAction:p(),uploadHeaders:{},uploadData:{},uploadLimit:9,uploadFilelist:[],groupDialog:!1,groupTitle:"",groupModel:{group_id:"",group_name:"",group_desc:"",group_sort:250},groupRules:{group_name:[{required:!0,message:"请输入分组名称",trigger:"blur"}]}}},watch:{isRecycle:function(e){this.recycle=e,this.list()},fileType:function(e){this.recycle=this.isRecycle,this.query.file_type=e,this.list()}},created:function(){this.height=Object(o["a"])(),this.recycle=this.isRecycle,this.fileType&&(this.query.is_disable=0,this.query.file_type=this.fileType,this.height=this.height-100),this.list();var e="header",t="AdminToken",l=Object(r["e"])();if("header"===e){var i={};i[t]=l,this.uploadHeaders=i}else{var a={group_id:0};a[t]=l,this.uploadData=a}},methods:{list:function(){var e=this;this.loading=!0,this.recycle?y(this.query).then((function(t){e.data=t.data.list,e.count=t.data.count,e.filetype=t.data.filetype,e.storage=t.data.storage,e.fileIds=t.data.ids,e.loading=!1,e.groupList(t.data.group),e.imagePreview(t.data.list)})).catch((function(){e.loading=!1})):u(this.query).then((function(t){e.data=t.data.list,e.count=t.data.count,e.filetype=t.data.filetype,e.storage=t.data.storage,e.fileIds=t.data.ids,e.loading=!1,e.groupList(t.data.group),e.imagePreview(t.data.list)})).catch((function(){e.loading=!1}))},uploadBefore:function(){this.loading=!0},uploadSuccess:function(e){200===e.code?(this.query=this.$options.data().query,this.list(),this.$message.success(e.msg)):(this.loading=!1,this.$message.error(e.msg))},uploadError:function(e){this.loading=!1,this.$message.error(e.msg||"上传出错")},uploadChange:function(){},uploadExceed:function(){this.$message.error("每次最多只能选择 ".concat(this.uploadLimit," 个文件"))},uploadClear:function(){this.uploadFilelist=[]},edit:function(e){var t=this;this.dialog=!0,this.loading=!0,this.dialogTitle=this.name+"修改："+e.file_id,m({file_id:e.file_id}).then((function(e){t.reset(e.data),t.loading=!1})).catch((function(){t.loading=!1}))},cancel:function(){this.dialog=!1,this.reset()},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,e.model.file_id&&f(e.model).then((function(t){e.list(),e.reset(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},search:function(){this.query.page=1,this.list()},refresh:function(){this.query=this.$options.data().query,this.reset(),this.list()},sort:function(){this.query.sort_value&&this.query.sort_value&&this.list()},reset:function(e){this.model=e||this.$options.data().model,this.selection=[],this.selectIds="",this.selectAll=!1,this.selectAllInd=!1,void 0!==this.$refs["ref"]&&this.$refs["ref"].resetFields()},select:function(e){var t=e.length;this.selection=e,this.selectIds=this.selectGetIds().toString(),this.selectAll=t===this.fileIds.length,this.selectAllInd=t>0&&t<this.fileIds.length},selectAllChange:function(e){this.selection=e?this.fileIds:[],this.selectIds=this.selectGetIds().toString(),this.selectAllInd=!1},selectGetIds:function(){return this.selection},selectAlert:function(){this.$alert("请选择需要操作的"+this.name,"提示",{type:"warning",callback:function(e){}})},selectOpen:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&this.select(t),this.selection.length?(this.selectTitle="选中操作","editgroup"===e?this.selectTitle="修改分组":"edittype"===e?this.selectTitle="修改类型":"editdomain"===e?this.selectTitle="修改域名":"disable"===e?this.selectTitle="是否禁用":"dele"===e?this.selectTitle="删除"+this.name:"reco"===e&&(this.selectTitle="恢复"+this.name),this.selectDialog=!0,this.selectType=e):this.selectAlert()},selectCancel:function(){this.selectDialog=!1},selectSubmit:function(){if(this.selection.length){var e=this.selectType;"editgroup"===e?this.editgroup():"edittype"===e?this.edittype():"editdomain"===e?this.editdomain():"disable"===e?this.disable():"dele"===e?this.dele():"reco"===e&&this.reco(),this.selectDialog=!1}else this.selectAlert()},editgroup:function(){var e=this;this.selection.length?(this.loading=!0,b({ids:this.selectGetIds(),group_id:this.group_id}).then((function(t){e.list(),e.reset(),e.$message.success(t.msg)})).catch((function(){e.loading=!1}))):this.selectAlert()},edittype:function(){var e=this;this.selection.length?(this.loading=!0,g({ids:this.selectGetIds(),file_type:this.file_type}).then((function(t){e.list(),e.reset(),e.$message.success(t.msg)})).catch((function(){e.loading=!1}))):this.selectAlert()},editdomain:function(){var e=this;this.selection.length?(this.loading=!0,_({ids:this.selectGetIds(),domain:this.domain}).then((function(t){e.list(),e.reset(),e.$message.success(t.msg)})).catch((function(){e.loading=!1}))):this.selectAlert()},disable:function(){var e=this;this.selection.length?(this.loading=!0,v({ids:this.selectGetIds(),is_disable:this.is_disable}).then((function(t){e.list(),e.reset(),e.disableDialog=!1,e.$message.success(t.msg)})).catch((function(){e.list(),e.loading=!1}))):this.selectAlert()},dele:function(){var e=this;this.selection.length?this.recycle?x({ids:this.selectGetIds()}).then((function(t){e.list(),e.reset(),e.$message.success(t.msg)})).catch((function(){e.loading=!1})):h({ids:this.selectGetIds()}).then((function(t){e.list(),e.reset(),e.$message.success(t.msg)})).catch((function(){e.loading=!1})):this.selectAlert()},reco:function(){var e=this;this.selection.length?k({ids:this.selectGetIds()}).then((function(t){e.list(),e.$message.success(t.msg)})).catch((function(){e.loading=!1})):this.selectAlert()},imagePreview:function(e){for(var t=[],l=e.length,i=0;i<l;i++)"image"===e[i]["file_type"]&&t.push(e[i]["file_url"]);this.fileImgPre=t},groupSelect:function(){this.uploadData.group_id=this.query.group_id,this.list()},typeSelect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.query.file_type=e,this.list()},disableSelect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.query.is_disable=e,this.list()},frontSelect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.query.is_front=e,this.list()},storageSelect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.query.storage=e,this.list()},groupList:function(e){e?this.group=e:this.list(),this.group.unshift({group_id:0,group_name:"(未分组)"})},groupAdd:function(){this.groupDialog=!0,this.groupTitle="分组添加",this.groupReset()},groupEdit:function(){var e=this,t=this.query.group_id;t?(this.groupDialog=!0,this.groupTitle="分组修改："+this.query.group_id,Object(w["e"])({group_id:this.query.group_id}).then((function(t){e.groupReset(t.data)})).catch((function(t){e.groupDialog=!1}))):this.$alert("请选择需要修改的分组","提示",{type:"warning",callback:function(e){}})},groupCancel:function(){this.groupDialog=!1,this.groupReset()},groupSubmit:function(){var e=this;this.$refs["groupRef"].validate((function(t){t&&(e.loading=!0,e.groupModel.group_id?Object(w["d"])(e.groupModel).then((function(t){e.groupList(),e.groupReset(),e.groupDialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})):Object(w["a"])(e.groupModel).then((function(t){e.groupList(),e.groupReset(),e.groupDialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},groupDele:function(){var e=this,t=this.query.group_id;if(t){for(var l=this.group,i=l.length,a="删除分组："+t,o="",s=0;s<i;s++)if(l[s].group_id===t){o=l[s].group_name;break}var n='确定要删除分组 <span style="color:red">'+o+" </span>吗？";this.$confirm(n,a,{type:"warning",dangerouslyUseHTMLString:!0}).then((function(){e.loading=!0,Object(w["b"])({ids:[t]}).then((function(t){e.groupList(),e.$message.success(t.msg)})).catch((function(){e.loading=!1}))})).catch((function(){}))}else this.$alert("请选择需要删除的分组","提示",{type:"warning",callback:function(e){}})},groupReset:function(e){this.groupModel=e||this.$options.data().groupModel},fileCancel:function(){this.reset(),this.$emit("fileCancel")},fileSubmit:function(e){if(e.length){for(var t=[],l=this.data,i=l.length,a=e.length,o=0;o<i;o++)for(var s=0;s<a;s++)if(l[o].file_id===e[s]){t.push(l[o]);break}this.reset(),this.$emit("fileSubmit",t,this.fileType)}else this.$alert("请选择文件")},copy:function(e,t){Object(n["a"])(e,t)}}},C=$,q=(l("11a6"),l("cba8")),S=Object(q["a"])(C,i,a,!1,null,"eb51ee28",null);t["a"]=S.exports},"3bab":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"filter-container"},[l("el-row",[l("el-col",[l("el-select",{staticClass:"filter-item ya-search-field",attrs:{placeholder:"搜索字段"},model:{value:e.query.search_field,callback:function(t){e.$set(e.query,"search_field",t)},expression:"query.search_field"}},[l("el-option",{attrs:{value:"api_name",label:"接口名称"}}),l("el-option",{attrs:{value:"api_url",label:"接口链接"}}),l("el-option",{attrs:{value:"api_pid",label:"上级"}}),l("el-option",{attrs:{value:"is_unlogin",label:"免登"}}),l("el-option",{attrs:{value:"is_disable",label:"禁用"}}),l("el-option",{attrs:{value:e.idkey,label:"ID"}})],1),"api_pid"===e.query.search_field?l("el-cascader",{staticClass:"filter-item ya-search-value",attrs:{options:e.trees,props:e.props,placeholder:"请选择",clearable:"",filterable:""},on:{change:e.pidQuery},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}}):"is_unlogin"===e.query.search_field||"is_disable"===e.query.search_field?l("el-select",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"请选择"},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}},[l("el-option",{attrs:{value:1,label:"是"}}),l("el-option",{attrs:{value:0,label:"否"}})],1):l("el-input",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"搜索内容",clearable:""},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}}),l("el-select",{staticClass:"filter-item ya-date-field",attrs:{placeholder:"时间类型"},model:{value:e.query.date_field,callback:function(t){e.$set(e.query,"date_field",t)},expression:"query.date_field"}},[l("el-option",{attrs:{value:"create_time",label:"添加时间"}}),l("el-option",{attrs:{value:"update_time",label:"修改时间"}})],1),l("el-date-picker",{staticClass:"filter-item ya-date-value",attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.query.date_value,callback:function(t){e.$set(e.query,"date_value",t)},expression:"query.date_value"}}),l("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")]),l("el-button",{staticClass:"filter-item",on:{click:function(t){return e.refresh()}}},[e._v("刷新")])],1)],1),l("el-row",[l("el-col",[l("el-checkbox",{staticStyle:{"margin-right":"10px",top:"-2px"},attrs:{border:"",title:"收起/展开"},on:{change:e.expandAll},model:{value:e.isExpandAll,callback:function(t){e.isExpandAll=t},expression:"isExpandAll"}},[e._v("收起")]),l("el-button",{attrs:{title:"修改上级"},on:{click:function(t){return e.selectOpen("editpid")}}},[e._v("上级")]),l("el-button",{attrs:{title:"是否免登"},on:{click:function(t){return e.selectOpen("unlogin")}}},[e._v("免登")]),l("el-button",{attrs:{title:"是否禁用"},on:{click:function(t){return e.selectOpen("disable")}}},[e._v("禁用")]),l("el-button",{attrs:{title:"删除"},on:{click:function(t){return e.selectOpen("dele")}}},[e._v("删除")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("添加")])],1)],1),l("el-dialog",{attrs:{title:e.selectTitle,visible:e.selectDialog,top:"20vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.selectDialog=t}}},[l("el-form",{ref:"selectRef",attrs:{"label-width":"120px"}},[l("el-form-item",{attrs:{label:e.name+"ID",prop:""}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:12},disabled:""},model:{value:e.selectIds,callback:function(t){e.selectIds=t},expression:"selectIds"}})],1),"editpid"===e.selectType?l("el-form-item",{attrs:{label:"上级",prop:""}},[l("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.data,props:e.props,placeholder:"一级接口",clearable:"",filterable:""},on:{change:e.pidSelect},model:{value:e.api_pid,callback:function(t){e.api_pid=t},expression:"api_pid"}})],1):"unlogin"===e.selectType?l("el-form-item",{attrs:{label:"是否免登",prop:""}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.is_unlogin,callback:function(t){e.is_unlogin=t},expression:"is_unlogin"}})],1):"disable"===e.selectType?l("el-form-item",{attrs:{label:"是否禁用",prop:""}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.is_disable,callback:function(t){e.is_disable=t},expression:"is_disable"}})],1):"dele"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[l("span",{staticStyle:{color:"red"}},[e._v("确定要删除选中的"+e._s(e.name)+"吗？")])]):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.selectCancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.selectSubmit}},[e._v("提交")])],1)],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.data,height:e.height,"row-key":e.idkey,lazy:"",load:e.load,"default-expand-all":""},on:{"selection-change":e.select,"select-all":e.selectAll,"cell-dblclick":e.cellDbclick}},[l("el-table-column",{attrs:{type:"selection",width:"42",title:"全选/反选"}}),l("el-table-column",{attrs:{prop:"api_name",label:"接口名称","min-width":"210"}}),l("el-table-column",{attrs:{prop:"api_url",label:"接口链接","min-width":"300"}},[l("template",{slot:"header"},[l("span",[e._v("接口链接")]),l("el-tooltip",{attrs:{placement:"top"}},[l("div",{attrs:{slot:"content"},slot:"content"},[e._v("权限标识")]),l("i",{staticClass:"el-icon-warning"})])],1)],2),l("el-table-column",{attrs:{prop:"is_unlogin",label:"是否免登","min-width":"95",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.api_url?l("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(l){return e.unlogin([t.row])}},model:{value:t.row.is_unlogin,callback:function(l){e.$set(t.row,"is_unlogin",l)},expression:"scope.row.is_unlogin"}}):e._e()]}}])},[l("template",{slot:"header"},[l("span",[e._v("是否免登")]),l("el-tooltip",{attrs:{placement:"top"}},[l("div",{attrs:{slot:"content"},slot:"content"},[e._v("开启后不用登录也可以访问，如登录注册等")]),l("i",{staticClass:"el-icon-info",attrs:{title:""}})])],1)],2),l("el-table-column",{attrs:{prop:"is_disable",label:"是否禁用","min-width":"95",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.api_url?l("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(l){return e.disable([t.row])}},model:{value:t.row.is_disable,callback:function(l){e.$set(t.row,"is_disable",l)},expression:"scope.row.is_disable"}}):e._e()]}}])},[l("template",{slot:"header"},[l("span",[e._v("是否禁用")]),l("el-tooltip",{attrs:{placement:"top"}},[l("div",{attrs:{slot:"content"},slot:"content"},[e._v("开启后无法访问")]),l("i",{staticClass:"el-icon-info",attrs:{title:""}})])],1)],2),l("el-table-column",{attrs:{prop:e.idkey,label:"ID","min-width":"80"}}),l("el-table-column",{attrs:{prop:"api_pid",label:"PID","min-width":"80"}}),l("el-table-column",{attrs:{prop:"api_sort",label:"排序","min-width":"80"}}),l("el-table-column",{attrs:{label:"操作","min-width":"130",align:"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[l("el-button",{attrs:{size:"mini",type:"text",title:"添加下级"},on:{click:function(t){return e.add(i)}}},[e._v("添加")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.edit(i)}}},[e._v("修改")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.selectOpen("dele",i)}}},[e._v("删除")])]}}])})],1),l("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialog,top:"5vh","before-close":e.cancel,"close-on-click-modal":!1,"close-on-press-escape":!1,"destroy-on-close":""},on:{"update:visible":function(t){e.dialog=t}}},[l("el-form",{ref:"ref",staticClass:"dialog-body",style:{height:e.height-50+"px"},attrs:{rules:e.rules,model:e.model,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"接口上级",prop:"api_pid"}},[l("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.trees,props:e.props,placeholder:"一级接口",clearable:"",filterable:""},on:{change:e.pidEdit},model:{value:e.model.api_pid,callback:function(t){e.$set(e.model,"api_pid",t)},expression:"model.api_pid"}})],1),l("el-form-item",{attrs:{label:"接口名称",prop:"api_name"}},[l("el-input",{attrs:{placeholder:"请输入接口名称",clearable:""},model:{value:e.model.api_name,callback:function(t){e.$set(e.model,"api_name",t)},expression:"model.api_name"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy",title:"复制"},on:{click:function(t){return e.copy(e.model.api_name,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"接口链接",prop:"api_url"}},[l("el-input",{attrs:{placeholder:"应用/控制器/操作，区分大小写",clearable:""},model:{value:e.model.api_url,callback:function(t){e.$set(e.model,"api_url",t)},expression:"model.api_url"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy",title:"复制"},on:{click:function(t){return e.copy(e.model.api_url,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"接口排序",prop:"api_sort"}},[l("el-input",{attrs:{type:"number",placeholder:"250"},model:{value:e.model.api_sort,callback:function(t){e.$set(e.model,"api_sort",t)},expression:"model.api_sort"}})],1),e.model[e.idkey]?l("el-form-item",{attrs:{label:"添加时间",prop:"create_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.create_time,callback:function(t){e.$set(e.model,"create_time",t)},expression:"model.create_time"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"修改时间",prop:"update_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.update_time,callback:function(t){e.$set(e.model,"update_time",t)},expression:"model.update_time"}})],1):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.cancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1)],1)},a=[],o=(l("209b"),l("a256"),l("44de"),l("3b45"),l("98b1")),s=l("f71e"),n=l("ed08"),r=l("b775"),c="/admin/setting.Api/";function d(e){return Object(r["a"])({url:c+"list",method:"get",params:e})}function u(e){return Object(r["a"])({url:c+"info",method:"get",params:e})}function m(e){return Object(r["a"])({url:c+"add",method:"post",data:e})}function p(e){return Object(r["a"])({url:c+"edit",method:"post",data:e})}function f(e){return Object(r["a"])({url:c+"dele",method:"post",data:e})}function h(e){return Object(r["a"])({url:c+"pid",method:"post",data:e})}function b(e){return Object(r["a"])({url:c+"unlogin",method:"post",data:e})}function g(e){return Object(r["a"])({url:c+"disable",method:"post",data:e})}var _={name:"SettingApi",components:{},directives:{},data:function(){return{name:"接口",height:680,loading:!1,idkey:"api_id",query:{search_field:"api_name",date_field:"create_time"},data:[],trees:[],props:{checkStrictly:!0,value:"api_id",label:"api_name"},dialog:!1,dialogTitle:"",model:{api_id:"",api_pid:0,api_name:"",api_url:"",is_unlogin:0,is_disable:0,api_sort:250},rules:{api_name:[{required:!0,message:"请输入接口名称",trigger:"blur"}]},isExpandAll:!1,selection:[],selectIds:"",selectTitle:"选中操作",selectDialog:!1,selectType:"",api_pid:0,is_unlogin:0,is_disable:0}},created:function(){this.height=Object(o["a"])(210),this.list()},methods:{list:function(){var e=this;this.loading=!0,d(this.query).then((function(t){e.data=t.data.list,e.trees=t.data.tree,e.isExpandAll=!1,e.loading=!1})).catch((function(){e.loading=!1}))},load:function(e,t,l){d({search_field:"api_pid",search_value:e[this.idkey]}).then((function(e){l(e.data.list)}))},add:function(e){this.dialog=!0,this.dialogTitle=this.name+"添加",this.reset(),e&&(this.model.api_pid=e[this.idkey])},edit:function(e){var t=this;this.dialog=!0,this.dialogTitle=this.name+"修改："+e[this.idkey];var l={};l[this.idkey]=e[this.idkey],u(l).then((function(e){t.reset(e.data)})).catch((function(){}))},cancel:function(){this.dialog=!1,this.reset()},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,e.model[e.idkey]?p(e.model).then((function(t){e.list(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})):m(e.model).then((function(t){e.list(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},reset:function(e){this.model=e||this.$options.data().model,void 0!==this.$refs["ref"]&&this.$refs["ref"].resetFields()},search:function(){this.list()},refresh:function(){this.query=this.$options.data().query,this.list()},expandAll:function(e){this.expandFor(this.data,!e)},expandFor:function(e,t){var l=this;e.forEach((function(e){l.$refs.table.toggleRowExpansion(e,t),e.children&&l.expandFor(e.children,t)}))},select:function(e){this.selection=e,this.selectIds=this.selectGetIds(e).toString()},selectAll:function(e){e?(this.selectAllKeys(e),this.selectIds=this.selectGetIds(this.selection).toString()):this.selectIds=""},selectAllKeys:function(e){for(var t in e)this.selection.push(e[t]),e[t].children&&this.selectAllKeys(e[t].children)},selectGetIds:function(e){return Object(n["a"])(e,this.idkey)},selectAlert:function(){this.$alert("请选择需要操作的"+this.name,"提示",{type:"warning",callback:function(e){}})},selectOpen:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&(this.$refs["table"].clearSelection(),this.$refs["table"].toggleRowSelection(t)),this.selection.length?(this.selectTitle="选中操作","editpid"===e?this.selectTitle="修改上级":"unlogin"===e?this.selectTitle="是否免登":"disable"===e?this.selectTitle="是否禁用":"dele"===e&&(this.selectTitle="删除"+this.name),this.selectDialog=!0,this.selectType=e):this.selectAlert()},selectCancel:function(){this.selectDialog=!1},selectSubmit:function(){if(this.selection.length){var e=this.selectType;"editpid"===e?this.editpid(this.selection):"unlogin"===e?this.unlogin(this.selection,!0):"disable"===e?this.disable(this.selection,!0):"dele"===e&&this.dele(this.selection),this.selectDialog=!1,this.selectType=e}else this.selectAlert()},editpid:function(e){var t=this;h({ids:this.selectGetIds(e),api_pid:this.api_pid}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))},unlogin:function(e){var t=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.length){this.loading=!0;var i=e[0].is_unlogin;l&&(i=this.is_unlogin),b({ids:this.selectGetIds(e),is_unlogin:i}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.list()}))}else this.selectAlert()},disable:function(e){var t=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.length){this.loading=!0;var i=e[0].is_disable;l&&(i=this.is_disable),g({ids:this.selectGetIds(e),is_disable:i}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.list()}))}else this.selectAlert()},dele:function(e){var t=this;e.length?(this.loading=!0,f({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))):this.selectAlert()},pidEdit:function(e){e&&(this.model.api_pid=e[e.length-1])},pidQuery:function(e){e&&(this.query.search_value=e[e.length-1])},pidSelect:function(e){e&&(this.api_pid=e[e.length-1])},copy:function(e,t){Object(s["a"])(e,t)},cellDbclick:function(e,t,l,i){this.copy(e[t.property],i)}}},v=_,y=l("cba8"),k=Object(y["a"])(v,i,a,!1,null,null,null);t["default"]=k.exports},"3bf7":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"120px"}},[l("el-form-item",{attrs:{label:"接口速率"}},[l("el-col",{attrs:{span:8}},[l("el-col",{attrs:{span:12}},[l("el-input",{attrs:{type:"number",placeholder:"次数"},model:{value:e.model.api_rate_num,callback:function(t){e.$set(e.model,"api_rate_num",t)},expression:"model.api_rate_num"}},[l("template",{slot:"append"},[e._v("次")])],2)],1),l("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:1}},[e._v("/")]),l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{type:"number",placeholder:"时间"},model:{value:e.model.api_rate_time,callback:function(t){e.$set(e.model,"api_rate_time",t)},expression:"model.api_rate_time"}},[l("template",{slot:"append"},[e._v("秒")])],2)],1)],1),l("el-col",{attrs:{span:16}})],1),l("el-form-item",{attrs:{label:"",prop:""}},[l("el-col",{attrs:{span:10}},[e._v(" 次数/时间；3/1：3次1秒；次数设置为 0 则不限制。 ")]),l("el-col",{attrs:{span:16}})],1),l("el-form-item",[l("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1)],1)},a=[],o=l("98b1"),s=l("5a2e"),n={name:"AdminSettingApi",components:{},data:function(){return{name:"接口设置",height:680,loading:!1,model:{api_rate_num:3,api_rate_time:1},rules:{api_rate_num:[{required:!0,message:"请输入次数",trigger:"blur"}],api_rate_time:[{required:!0,message:"请输入时间",trigger:"blur"}]}}},created:function(){this.height=Object(o["a"])(180),this.info()},methods:{info:function(){var e=this;Object(s["b"])().then((function(t){e.model=t.data}))},refresh:function(){var e=this;this.loading=!0,Object(s["b"])().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(s["a"])(e.model).then((function(t){e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},r=n,c=l("cba8"),d=Object(c["a"])(r,i,a,!1,null,null,null);t["default"]=d.exports},"405a":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("div",{attrs:{slot:"header"},slot:"header"},[l("span",[e._v("IP信息")])]),l("div",[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"IP"}},[l("el-input",{attrs:{type:"text",clearable:""},model:{value:e.model.ip,callback:function(t){e.$set(e.model,"ip",t)},expression:"model.ip"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.ip,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"国家"}},[l("el-input",{attrs:{type:"text"},model:{value:e.model.country,callback:function(t){e.$set(e.model,"country",t)},expression:"model.country"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.country,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"省份"}},[l("el-input",{attrs:{type:"text"},model:{value:e.model.province,callback:function(t){e.$set(e.model,"province",t)},expression:"model.province"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.province,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"城市"}},[l("el-input",{attrs:{type:"text"},model:{value:e.model.city,callback:function(t){e.$set(e.model,"city",t)},expression:"model.city"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.city,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"区县"}},[l("el-input",{attrs:{type:"text"},model:{value:e.model.area,callback:function(t){e.$set(e.model,"area",t)},expression:"model.area"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.area,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"运营商"}},[l("el-input",{attrs:{type:"text"},model:{value:e.model.isp,callback:function(t){e.$set(e.model,"isp",t)},expression:"model.isp"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.isp,t)}},slot:"append"})],1)],1),l("el-form-item",[l("el-button",{on:{click:function(t){return e.clear()}}},[e._v("清空")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("查询")])],1)],1)],1)])},a=[],o=l("98b1"),s=l("f71e"),n=l("8cc9"),r={name:"AdminUtilsIpinfo",components:{},data:function(){return{name:"IP信息",height:680,model:{ip:"",country:"",province:"",city:"",area:"",isp:""},rules:{}}},created:function(){this.height=Object(o["a"])(180)},methods:{clear:function(){this.model=this.$options.data().model},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&Object(n["b"])({ip:e.model.ip}).then((function(t){e.model=t.data}))}))},copy:function(e,t){e?Object(s["a"])(e,t):this.$message.error("请查询IP")}}},c=r,d=l("cba8"),u=Object(d["a"])(c,i,a,!1,null,"2da47939",null);t["default"]=u.exports},"42f6":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"120px"}},[l("el-form-item",{attrs:{label:"日志记录开关",prop:"log_switch"}},[l("el-col",{attrs:{span:8}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.model.log_switch,callback:function(t){e.$set(e.model,"log_switch",t)},expression:"model.log_switch"}})],1),l("el-col",{attrs:{span:16}},[e._v(" 开启后，会记录后台用户日志。 ")])],1),l("el-form-item",{attrs:{label:"日志保留时间",prop:"log_save_time"}},[l("el-col",{attrs:{span:8}},[l("el-input",{attrs:{type:"number"},model:{value:e.model.log_save_time,callback:function(t){e.$set(e.model,"log_save_time",t)},expression:"model.log_save_time"}},[l("template",{slot:"append"},[e._v("天")])],2)],1),l("el-col",{attrs:{span:16}},[e._v(" 超过此时间会被删除，0永久保留。 ")])],1),l("el-form-item",[l("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1)],1)},a=[],o=l("98b1"),s=l("5a2e"),n={name:"AdminSettingLog",components:{},data:function(){return{name:"日志设置",height:680,loading:!1,model:{log_switch:0,log_save_time:0},rules:{}}},created:function(){this.height=Object(o["a"])(180),this.info()},methods:{info:function(){var e=this;Object(s["k"])().then((function(t){e.model=t.data}))},refresh:function(){var e=this;this.loading=!0,Object(s["k"])().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(s["j"])(e.model).then((function(t){e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},r=n,c=l("cba8"),d=Object(c["a"])(r,i,a,!1,null,null,null);t["default"]=d.exports},4381:function(e,t,l){"use strict";l("a256"),l("c27c"),l("3af6"),l("f4cf");var i=l("4360");function a(e,t){var l=t.value,a=i["a"].getters&&i["a"].getters.roles;if(!(l&&l instanceof Array))throw new Error("need roles! Like v-permission=\"['admin','editor']\"");if(l.length>0){var o=l,s=a.some((function(e){return o.includes(e)}));s||e.parentNode&&e.parentNode.removeChild(e)}}var o={inserted:function(e,t){a(e,t)},update:function(e,t){a(e,t)}},s=function(e){e.directive("permission",o)};window.Vue&&(window["permission"]=o,Vue.use(s)),o.install=s;t["a"]=o},"444b":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",[l("el-row",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("el-col",{attrs:{xs:24,sm:22,md:20,lg:16,xl:12}},[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"120px"}},[l("el-form-item",{attrs:{label:"接口管理",prop:"api_manage"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.model.api_manage,callback:function(t){e.$set(e.model,"api_manage",t)},expression:"model.api_manage"}}),l("span",[e._v(" 关闭后，不再校验接口url，所有接口（配置的免登url除外）均需登录访问。")])],1),l("el-form-item",{attrs:{label:"接口速率"}},[l("el-col",{attrs:{span:5}},[l("el-input",{attrs:{type:"number",placeholder:"次数"},model:{value:e.model.api_rate_num,callback:function(t){e.$set(e.model,"api_rate_num",t)},expression:"model.api_rate_num"}},[l("template",{slot:"append"},[e._v("次")])],2)],1),l("el-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[e._v("/")]),l("el-col",{attrs:{span:5}},[l("el-input",{attrs:{type:"number",placeholder:"时间"},model:{value:e.model.api_rate_time,callback:function(t){e.$set(e.model,"api_rate_time",t)},expression:"model.api_rate_time"}},[l("template",{slot:"append"},[e._v("秒")])],2)],1),l("el-col",{attrs:{span:11}},[e._v(" 3/1：3次1秒；次数 0 不限率。")])],1),l("el-form-item",[l("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1)],1)],1)],1)},a=[],o=l("98b1"),s=l("604d"),n={name:"SettingSettingApi",components:{},data:function(){return{name:"接口设置",height:680,loading:!1,model:{api_manage:1,api_rate_num:3,api_rate_time:1},rules:{}}},created:function(){this.height=Object(o["a"])(210),this.info()},methods:{info:function(){var e=this;Object(s["b"])().then((function(t){e.model=t.data}))},refresh:function(){var e=this;this.loading=!0,Object(s["b"])().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(s["a"])(e.model).then((function(t){e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},r=n,c=l("cba8"),d=Object(c["a"])(r,i,a,!1,null,null,null);t["default"]=d.exports},"45b6":function(e,t,l){"use strict";l("fce0")},4688:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-row",{staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{gutter:8}},[l("el-col",{attrs:{span:12}},[l("el-card",[l("div",{attrs:{slot:"header"},slot:"header"},[l("span",[e._v("服务器信息")])]),l("div",[l("el-form",{attrs:{model:e.model,"label-width":"150px"}},[l("el-form-item",{attrs:{label:"OS"}},[l("el-input",{model:{value:e.model.system_info,callback:function(t){e.$set(e.model,"system_info",t)},expression:"model.system_info"}})],1),l("el-form-item",{attrs:{label:"Web"}},[l("el-input",{model:{value:e.model.server_software,callback:function(t){e.$set(e.model,"server_software",t)},expression:"model.server_software"}})],1),l("el-form-item",{attrs:{label:"MySQL"}},[l("el-input",{model:{value:e.model.mysql,callback:function(t){e.$set(e.model,"mysql",t)},expression:"model.mysql"}})],1),l("el-form-item",{attrs:{label:"PHP"}},[l("el-input",{model:{value:e.model.php_version,callback:function(t){e.$set(e.model,"php_version",t)},expression:"model.php_version"}})],1),l("el-form-item",{attrs:{label:"Protocol"}},[l("el-input",{model:{value:e.model.server_protocol,callback:function(t){e.$set(e.model,"server_protocol",t)},expression:"model.server_protocol"}})],1),l("el-form-item",{attrs:{label:"IP"}},[l("el-input",{model:{value:e.model.ip,callback:function(t){e.$set(e.model,"ip",t)},expression:"model.ip"}})],1),l("el-form-item",{attrs:{label:"Domain"}},[l("el-input",{model:{value:e.model.domain,callback:function(t){e.$set(e.model,"domain",t)},expression:"model.domain"}})],1),l("el-form-item",{attrs:{label:"Port"}},[l("el-input",{model:{value:e.model.port,callback:function(t){e.$set(e.model,"port",t)},expression:"model.port"}})],1),l("el-form-item",{attrs:{label:"php_sapi_name"}},[l("el-input",{model:{value:e.model.php_sapi_name,callback:function(t){e.$set(e.model,"php_sapi_name",t)},expression:"model.php_sapi_name"}})],1),l("el-form-item",{attrs:{label:"max_execution_time"}},[l("el-input",{model:{value:e.model.max_execution_time,callback:function(t){e.$set(e.model,"max_execution_time",t)},expression:"model.max_execution_time"}})],1),l("el-form-item",{attrs:{label:"upload_max_filesize"}},[l("el-input",{model:{value:e.model.upload_max_filesize,callback:function(t){e.$set(e.model,"upload_max_filesize",t)},expression:"model.upload_max_filesize"}})],1),l("el-form-item",{staticClass:"ya-margin-bottom",attrs:{label:"post_max_size"}},[l("el-input",{model:{value:e.model.post_max_size,callback:function(t){e.$set(e.model,"post_max_size",t)},expression:"model.post_max_size"}})],1)],1)],1)])],1),l("el-col",{attrs:{span:12}},[l("el-card",[l("div",{attrs:{slot:"header"},slot:"header"},[l("span",[e._v("缓存信息")])]),l("div",[l("el-form",{attrs:{model:e.model,"label-width":"150px"}},[l("el-form-item",{attrs:{label:"缓存类型",prop:"type"}},[l("el-input",{model:{value:e.model.type,callback:function(t){e.$set(e.model,"type",t)},expression:"model.type"}})],1),"redis"===e.model.type?l("div",[l("el-form-item",{attrs:{label:"Redis",prop:""}},[l("el-input",{model:{value:e.model.redis_version,callback:function(t){e.$set(e.model,"redis_version",t)},expression:"model.redis_version"}})],1),l("el-form-item",{attrs:{label:"运行时长",prop:""}},[l("el-input",{model:{value:e.model.uptime_in_days,callback:function(t){e.$set(e.model,"uptime_in_days",t)},expression:"model.uptime_in_days"}})],1),l("el-form-item",{attrs:{label:"已用内存",prop:""}},[l("el-input",{model:{value:e.model.used_memory_human,callback:function(t){e.$set(e.model,"used_memory_human",t)},expression:"model.used_memory_human"}})],1),l("el-form-item",{attrs:{label:"峰值内存",prop:""}},[l("el-input",{model:{value:e.model.used_memory_peak_human,callback:function(t){e.$set(e.model,"used_memory_peak_human",t)},expression:"model.used_memory_peak_human"}})],1),l("el-form-item",{attrs:{label:"Lua内存",prop:""}},[l("el-input",{model:{value:e.model.used_memory_lua_human,callback:function(t){e.$set(e.model,"used_memory_lua_human",t)},expression:"model.used_memory_lua_human"}})],1),l("el-form-item",{attrs:{label:"客户端数",prop:""}},[l("el-input",{model:{value:e.model.connected_clients,callback:function(t){e.$set(e.model,"connected_clients",t)},expression:"model.connected_clients"}})],1),l("el-form-item",{attrs:{label:"总连接数",prop:""}},[l("el-input",{model:{value:e.model.total_connections_received,callback:function(t){e.$set(e.model,"total_connections_received",t)},expression:"model.total_connections_received"}})],1),l("el-form-item",{attrs:{label:"总命令数",prop:""}},[l("el-input",{model:{value:e.model.total_commands_processed,callback:function(t){e.$set(e.model,"total_commands_processed",t)},expression:"model.total_commands_processed"}})],1),l("el-form-item",{attrs:{label:"内存碎片比率",prop:""}},[l("el-input",{model:{value:e.model.mem_fragmentation_ratio,callback:function(t){e.$set(e.model,"mem_fragmentation_ratio",t)},expression:"model.mem_fragmentation_ratio"}})],1),l("el-form-item",{staticClass:"ya-margin-bottom",attrs:{label:"DB0",prop:""}},[l("el-input",{model:{value:e.model.db0,callback:function(t){e.$set(e.model,"db0",t)},expression:"model.db0"}})],1)],1):"memcache"===e.model.type?l("div",[l("el-form-item",{attrs:{label:"memcache",prop:""}},[l("el-input",{model:{value:e.model.version,callback:function(t){e.$set(e.model,"version",t)},expression:"model.version"}})],1),l("el-form-item",{attrs:{label:"运行秒数",prop:""}},[l("el-input",{model:{value:e.model.uptime,callback:function(t){e.$set(e.model,"uptime",t)},expression:"model.uptime"}})],1),l("el-form-item",{attrs:{label:"读取字节总数",prop:""}},[l("el-input",{model:{value:e.model.bytes_read,callback:function(t){e.$set(e.model,"bytes_read",t)},expression:"model.bytes_read"}})],1),l("el-form-item",{attrs:{label:"写入字节总数",prop:""}},[l("el-input",{model:{value:e.model.bytes_written,callback:function(t){e.$set(e.model,"bytes_written",t)},expression:"model.bytes_written"}})],1),l("el-form-item",{attrs:{label:"分配的内存数",prop:""}},[l("el-input",{model:{value:e.model.limit_maxbytes,callback:function(t){e.$set(e.model,"limit_maxbytes",t)},expression:"model.limit_maxbytes"}})],1),l("el-form-item",{attrs:{label:"当前打开链接数",prop:""}},[l("el-input",{model:{value:e.model.curr_connections,callback:function(t){e.$set(e.model,"curr_connections",t)},expression:"model.curr_connections"}})],1),l("el-form-item",{attrs:{label:"曾打开连接总数",prop:""}},[l("el-input",{model:{value:e.model.total_connections,callback:function(t){e.$set(e.model,"total_connections",t)},expression:"model.total_connections"}})],1),l("el-form-item",{attrs:{label:"执行get命令总数",prop:""}},[l("el-input",{model:{value:e.model.cmd_get,callback:function(t){e.$set(e.model,"cmd_get",t)},expression:"model.cmd_get"}})],1),l("el-form-item",{attrs:{label:"执行set命令总数",prop:""}},[l("el-input",{model:{value:e.model.cmd_set,callback:function(t){e.$set(e.model,"cmd_set",t)},expression:"model.cmd_set"}})],1),l("el-form-item",{attrs:{label:"flush_all命令总数",prop:""}},[l("el-input",{model:{value:e.model.cmd_flush,callback:function(t){e.$set(e.model,"cmd_flush",t)},expression:"model.cmd_flush"}})],1),l("el-form-item",{staticClass:"ya-margin-bottom",attrs:{label:"当前服务器时间",prop:""}},[l("el-input",{model:{value:e.model.time,callback:function(t){e.$set(e.model,"time",t)},expression:"model.time"}})],1)],1):"wincache"===e.model.type?l("div",[l("el-form-item",{attrs:{label:"缓存信息",prop:"wincache_info"}},[l("pre",[e._v(e._s(e.model.wincache_info))])])],1):e._e(),l("el-form-item",{attrs:{label:""}},[l("el-button",{attrs:{loading:e.loading,size:"mini",icon:"el-icon-refresh",title:"刷新"},on:{click:function(t){return e.refresh()}}})],1)],1)],1)])],1)],1)},a=[],o=l("98b1"),s=l("8cc9"),n={name:"AdminUtilsServer",data:function(){return{name:"服务器信息",height:680,loading:!1,model:{}}},created:function(){this.height=Object(o["a"])(160),this.server()},methods:{server:function(){var e=this;Object(s["c"])().then((function(t){e.model=t.data}))},refresh:function(){var e=this;this.loading=!0,Object(s["c"])().then((function(t){e.loading=!1,e.model=t.data})).catch((function(){e.loading=!1}))}}},r=n,c=(l("2d3a"),l("cba8")),d=Object(c["a"])(r,i,a,!1,null,"6e8b41f2",null);t["default"]=d.exports},4742:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box-card"},[l("el-row",{attrs:{gutter:6}},e._l(e.count,(function(t,i){return l("el-col",{key:i,attrs:{span:3}},[l("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:"10px 0px 0px 0px"}}},[l("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[l("span",[e._v(e._s(t.name))])]),l("div",{staticClass:"text"},[l("el-row",{staticStyle:{"padding-bottom":"10px"}},[l("el-col",{attrs:{title:t.title}},[e._v(" "+e._s(t.count)+" ")])],1)],1)])],1)})),1)],1),e._l(e.echart_num,(function(t,i){return l("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],key:i,staticClass:"box-card ya-margin-top"},[l("el-row",{staticStyle:{"text-align":"center"}},[l("el-col",[l("el-select",{staticClass:"filter-item",on:{change:e.typeChange},model:{value:e.date_type,callback:function(t){e.date_type=t},expression:"date_type"}},[l("el-option",{attrs:{label:"日",value:"day"}}),l("el-option",{attrs:{label:"月",value:"month"}})],1),l("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"350px"},attrs:{type:e.date_ptype,"value-format":e.date_format,"picker-options":e.date_options,"start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.dateChange},model:{value:e.date_range,callback:function(t){e.date_range=t},expression:"date_range"}})],1),l("el-col",[l("div",{style:{height:e.height-300+"px"},attrs:{id:e.echart_id+i}})])],1)],1)})),l("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box-card ya-margin-top"},[l("el-row",{staticStyle:{"text-align":"center"}},[l("el-col",[l("el-select",{staticClass:"filter-item",on:{change:e.typeChange},model:{value:e.date_type,callback:function(t){e.date_type=t},expression:"date_type"}},[l("el-option",{attrs:{label:"日",value:"day"}}),l("el-option",{attrs:{label:"月",value:"month"}})],1),l("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"350px"},attrs:{type:e.date_ptype,"value-format":e.date_format,"picker-options":e.date_options,"start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.dateChange},model:{value:e.date_range,callback:function(t){e.date_range=t},expression:"date_range"}}),l("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},on:{change:e.fieldChange},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}},e._l(e.fieldType,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),l("el-col",[l("div",{style:{height:e.height-300+"px"},attrs:{id:e.echart_id+"field"}})])],1)],1)],2)])},a=[],o=(l("209b"),l("98b1")),s=l("7aae"),n=l("7b1d"),r=l("4b4e"),c=l("6f658"),d=l("ac1e"),u=l("0fd9"),m=l("206a"),p=l("6964"),f=l("63f7"),h=l("b4af"),b=l("d7b2");n["a"]([c["a"],d["a"],u["a"],m["a"],p["a"],f["a"],h["a"],b["a"]]);var g={name:"AdminUserLogStat",components:{},data:function(){return{name:"用户日志统计",height:600,loading:!1,count:[],echart_id:"echartid",echart_num:0,echart_data:[],date_type:"day",date_range:[],date_options:{},date_ptype:"monthrange",date_format:"yyyy-MM",picker_options_day:{shortcuts:[{text:"最近7天",onClick:function(e){var t=new Date,l=new Date;l.setTime(l.getTime()-5184e5),e.$emit("pick",[l,t])}},{text:"最近30天",onClick:function(e){var t=new Date,l=new Date;l.setTime(l.getTime()-25056e5),e.$emit("pick",[l,t])}},{text:"最近90天",onClick:function(e){var t=new Date,l=new Date;l.setTime(l.getTime()-76896e5),e.$emit("pick",[l,t])}},{text:"最近120天",onClick:function(e){var t=new Date,l=new Date;l.setTime(l.getTime()-102816e5),e.$emit("pick",[l,t])}}]},picker_options_month:{shortcuts:[{text:"最近3个月",onClick:function(e){var t=new Date,l=new Date;l.setMonth(l.getMonth()-2),e.$emit("pick",[l,t])}},{text:"最近6个月",onClick:function(e){var t=new Date,l=new Date;l.setMonth(l.getMonth()-5),e.$emit("pick",[l,t])}},{text:"最近9个月",onClick:function(e){var t=new Date,l=new Date;l.setMonth(l.getMonth()-8),e.$emit("pick",[l,t])}},{text:"最近12个月",onClick:function(e){var t=new Date,l=new Date;l.setMonth(l.getMonth()-11),e.$emit("pick",[l,t])}}]},fieldType:[{value:"request_country",label:"国家"},{value:"request_province",label:"省份"},{value:"request_city",label:"城市"},{value:"request_isp",label:"ISP"},{value:"admin_user_id",label:"用户"}],fieldValue:"request_province"}},computed:{},watch:{echart_data:function(){var e=this;this.$nextTick((function(){e.setEchart()}))}},created:function(){this.height=Object(o["a"])(120),this.stat()},mounted:function(){},methods:{stat:function(){var e=this;this.loading=!0,Object(s["e"])({type:this.date_type,date:this.date_range,field:this.fieldValue}).then((function(t){e.count=t.data.count,e.echart_data=t.data.echart,e.echart_num=t.data.echart.length,e.initEchart(t.data.field,e.echart_id+"field"),e.dateOptions(),e.loading=!1})).catch((function(){e.loading=!1}))},typeChange:function(){this.dateOptions(),this.date_range=[]},dateOptions:function(){var e=this.date_type;"day"===e?(this.date_ptype="daterange",this.date_format="yyyy-MM-dd",this.date_options=this.picker_options_day):"month"===e&&(this.date_ptype="monthrange",this.date_format="yyyy-MM",this.date_options=this.picker_options_month)},dateChange:function(){this.stat()},fieldChange:function(){this.stat()},setEchart:function(){for(var e=this.echart_data,t=this.echart_num,l=this.echart_id,i=0;i<t;i++)this.initEchart(e[i],l+i),this.date_type=e[i].type,this.date_range=e[i].date},initEchart:function(e,t){var l=r["b"](document.getElementById(t)),i={title:{text:e.title,textStyle:{fontSize:12}},legend:{top:"20px",data:e.legend},grid:{top:"80px",left:"1%",right:"3%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e.xAxis},yAxis:{type:"value"},tooltip:{trigger:"axis",textStyle:{align:"left"}},toolbox:{feature:{magicType:{show:!0,type:["line","bar"]},dataView:{show:!0,readOnly:!0},saveAsImage:{show:!0,name:this.name+e.date[0]+"-"+e.date[1]}}},series:e.series};l.setOption(i)}}},_=g,v=(l("fc16"),l("cba8")),y=Object(v["a"])(_,i,a,!1,null,"3b4fa64d",null);t["default"]=y.exports},4765:function(e,t,l){},"4b1c":function(e,t,l){"use strict";l("8882")},"4b3b":function(e,t,l){var i={"./admin":"2953","./admin/":"2953","./admin/401":"ce65","./admin/401.vue":"ce65","./admin/404":"9d8d","./admin/404.vue":"9d8d","./admin/apidoc":"5607","./admin/apidoc.vue":"5607","./admin/components/IndexCms":"1fa8","./admin/components/IndexCms.vue":"1fa8","./admin/components/IndexCount":"7d59","./admin/components/IndexCount.vue":"7d59","./admin/components/IndexFile":"d4f5","./admin/components/IndexFile.vue":"d4f5","./admin/components/IndexMember":"f6af","./admin/components/IndexMember.vue":"f6af","./admin/components/IndexNotice":"e793","./admin/components/IndexNotice.vue":"e793","./admin/components/SettingApi":"3bf7","./admin/components/SettingApi.vue":"3bf7","./admin/components/SettingCache":"9624","./admin/components/SettingCache.vue":"9624","./admin/components/SettingCaptcha":"840d8","./admin/components/SettingCaptcha.vue":"840d8","./admin/components/SettingEmail":"6a23","./admin/components/SettingEmail.vue":"6a23","./admin/components/SettingLog":"42f6","./admin/components/SettingLog.vue":"42f6","./admin/components/SettingSystem":"00ff","./admin/components/SettingSystem.vue":"00ff","./admin/components/SettingToken":"bb8b","./admin/components/SettingToken.vue":"bb8b","./admin/components/UserCenterEdit":"0218","./admin/components/UserCenterEdit.vue":"0218","./admin/components/UserCenterInfo":"b1f4","./admin/components/UserCenterInfo.vue":"b1f4","./admin/components/UserCenterLog":"ad21","./admin/components/UserCenterLog.vue":"ad21","./admin/components/UserCenterPwd":"2ab6","./admin/components/UserCenterPwd.vue":"2ab6","./admin/components/UserCenterSetting":"8229","./admin/components/UserCenterSetting.vue":"8229","./admin/components/UtilsBytetran":"31c5","./admin/components/UtilsBytetran.vue":"31c5","./admin/components/UtilsIpinfo":"405a","./admin/components/UtilsIpinfo.vue":"405a","./admin/components/UtilsQrcode":"8d83","./admin/components/UtilsQrcode.vue":"8d83","./admin/components/UtilsServer":"4688","./admin/components/UtilsServer.vue":"4688","./admin/components/UtilsStrrand":"55b1","./admin/components/UtilsStrrand.vue":"55b1","./admin/components/UtilsStrtran":"3433","./admin/components/UtilsStrtran.vue":"3433","./admin/components/UtilsTimestamp":"68bd","./admin/components/UtilsTimestamp.vue":"68bd","./admin/index":"2953","./admin/index.vue":"2953","./admin/login":"35b0","./admin/login.vue":"35b0","./admin/logout":"fd53","./admin/logout.vue":"fd53","./admin/menu":"5de7","./admin/menu.vue":"5de7","./admin/notice":"ef82","./admin/notice.vue":"ef82","./admin/redirect":"9c62","./admin/redirect.vue":"9c62","./admin/role":"533d","./admin/role.vue":"533d","./admin/setting":"fe4d","./admin/setting.vue":"fe4d","./admin/user":"8ff7","./admin/user-center":"35eb","./admin/user-center.vue":"35eb","./admin/user-log":"ea32","./admin/user-log-stat":"4742","./admin/user-log-stat.vue":"4742","./admin/user-log.vue":"ea32","./admin/user.vue":"8ff7","./admin/utils":"339c","./admin/utils.vue":"339c","./cms/category":"6fc1","./cms/category.vue":"6fc1","./cms/comment":"d342","./cms/comment.vue":"d342","./cms/content":"2d67","./cms/content.vue":"2d67","./cms/setting":"2220","./cms/setting.vue":"2220","./file/file":"c3a4","./file/file.vue":"c3a4","./file/group":"ca2b","./file/group.vue":"ca2b","./file/setting":"bb8bf","./file/setting.vue":"bb8bf","./member/member":"4b59","./member/member-log":"351d","./member/member-log-stat":"a40c","./member/member-log-stat.vue":"a40c","./member/member-log.vue":"351d","./member/member-stat":"2241","./member/member-stat.vue":"2241","./member/member.vue":"4b59","./setting/api":"3bab","./setting/api.vue":"3bab","./setting/components/SettingApi":"444b","./setting/components/SettingApi.vue":"444b","./setting/components/SettingCaptcha":"ad84","./setting/components/SettingCaptcha.vue":"ad84","./setting/components/SettingDiy":"5b6a","./setting/components/SettingDiy.vue":"5b6a","./setting/components/SettingLog":"cb85","./setting/components/SettingLog.vue":"cb85","./setting/components/SettingLogreg":"7f0d","./setting/components/SettingLogreg.vue":"7f0d","./setting/components/SettingToken":"2cd6","./setting/components/SettingToken.vue":"2cd6","./setting/components/WechatMini":"889d","./setting/components/WechatMini.vue":"889d","./setting/components/WechatOffi":"9401","./setting/components/WechatOffi.vue":"9401","./setting/region":"a9ab","./setting/region.vue":"a9ab","./setting/setting":"e0df","./setting/setting.vue":"e0df","./setting/wechat":"dbe5","./setting/wechat.vue":"dbe5"};function a(e){var t=o(e);return l(t)}function o(e){if(!l.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=o,e.exports=a,a.id="4b3b"},"4b59":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"filter-container"},[l("el-row",[l("el-col",[l("el-select",{staticClass:"filter-item ya-search-field",attrs:{placeholder:"搜索字段"},model:{value:e.query.search_field,callback:function(t){e.$set(e.query,"search_field",t)},expression:"query.search_field"}},[l("el-option",{attrs:{value:e.idkey,label:"ID"}}),l("el-option",{attrs:{value:"nickname",label:"昵称"}}),l("el-option",{attrs:{value:"username",label:"用户名"}}),l("el-option",{attrs:{value:"phone",label:"手机"}}),l("el-option",{attrs:{value:"email",label:"邮箱"}}),l("el-option",{attrs:{value:"remark",label:"备注"}}),l("el-option",{attrs:{value:"name",label:"姓名"}}),l("el-option",{attrs:{value:"gender",label:"性别"}}),l("el-option",{attrs:{value:"region_id",label:"所在地"}}),l("el-option",{attrs:{value:"reg_channel",label:"注册渠道"}}),l("el-option",{attrs:{value:"reg_type",label:"注册方式"}}),l("el-option",{attrs:{value:"is_disable",label:"禁用"}})],1),"gender"===e.query.search_field?l("el-select",{staticClass:"filter-item ya-search-value",attrs:{clearable:""},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}},[l("el-option",{attrs:{label:"未知",value:0}}),l("el-option",{attrs:{label:"男",value:1}}),l("el-option",{attrs:{label:"女",value:2}})],1):"region_id"===e.query.search_field?l("el-cascader",{staticClass:"filter-item ya-search-value",attrs:{options:e.regionData,props:e.regionProps,clearable:"",filterable:""},on:{change:e.regionQuery}}):"reg_channel"===e.query.search_field?l("el-select",{staticClass:"filter-item ya-search-value",attrs:{clearable:""},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}},e._l(e.reg_channels,(function(e,t){return l("el-option",{key:t,attrs:{label:e,value:t}})})),1):"reg_type"===e.query.search_field?l("el-select",{staticClass:"filter-item ya-search-value",attrs:{clearable:""},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}},e._l(e.reg_types,(function(e,t){return l("el-option",{key:t,attrs:{label:e,value:t}})})),1):"is_disable"===e.query.search_field?l("el-select",{staticClass:"filter-item ya-search-value",attrs:{clearable:""},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}},[l("el-option",{attrs:{value:1,label:"是"}}),l("el-option",{attrs:{value:0,label:"否"}})],1):l("el-input",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"搜索内容",clearable:""},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}}),l("el-select",{staticClass:"filter-item ya-date-field",attrs:{placeholder:"时间字段"},model:{value:e.query.date_field,callback:function(t){e.$set(e.query,"date_field",t)},expression:"query.date_field"}},[l("el-option",{attrs:{value:"create_time",label:"注册时间"}}),l("el-option",{attrs:{value:"login_time",label:"登录时间"}}),l("el-option",{attrs:{value:"update_time",label:"修改时间"}}),e.recycle?l("el-option",{attrs:{value:"delete_time",label:"删除时间"}}):e._e()],1),l("el-date-picker",{staticClass:"filter-item ya-date-value",attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.query.date_value,callback:function(t){e.$set(e.query,"date_value",t)},expression:"query.date_value"}}),l("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")]),l("el-button",{staticClass:"filter-item",on:{click:function(t){return e.refresh()}}},[e._v("刷新")])],1)],1),l("el-row",[l("el-col",[l("el-button",{attrs:{title:"修改所在地"},on:{click:function(t){return e.selectOpen("region")}}},[e._v("所在地")]),l("el-button",{attrs:{title:"重置密码"},on:{click:function(t){return e.selectOpen("repwd")}}},[e._v("密码")]),l("el-button",{attrs:{title:"是否禁用"},on:{click:function(t){return e.selectOpen("disable")}}},[e._v("禁用")]),l("el-button",{attrs:{title:"删除"},on:{click:function(t){return e.selectOpen("dele")}}},[e._v("删除")]),e.recycle?l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.selectOpen("reco")}}},[e._v("恢复")]):l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("添加")])],1)],1),l("el-dialog",{attrs:{title:e.selectTitle,visible:e.selectDialog,top:"20vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.selectDialog=t}}},[l("el-form",{attrs:{"label-width":"120px"}},[l("el-form-item",{attrs:{label:e.name+"ID",prop:""}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:12},disabled:""},model:{value:e.selectIds,callback:function(t){e.selectIds=t},expression:"selectIds"}})],1),"region"===e.selectType?l("el-form-item",{attrs:{label:"所在地",prop:""}},[l("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.regionData,props:e.regionProps,clearable:"",filterable:""},on:{change:e.regionSelect},model:{value:e.region_id,callback:function(t){e.region_id=t},expression:"region_id"}})],1):"disable"===e.selectType?l("el-form-item",{attrs:{label:"是否禁用",prop:""}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.is_disable,callback:function(t){e.is_disable=t},expression:"is_disable"}}),e.is_disable?l("span",{staticStyle:{color:"red"}},[e._v("禁用后无法登录！")]):e._e()],1):"repwd"===e.selectType?l("el-form-item",{attrs:{label:"新密码",prop:""}},[l("el-input",{attrs:{placeholder:"请输入新密码",clearable:"","show-password":""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1):"dele"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[e.recycle?l("span",{staticStyle:{color:"red"}},[e._v("确定要彻底删除选中的"+e._s(e.name)+"吗？删除后不可恢复！")]):l("span",{staticStyle:{color:"red"}},[e._v("确定要删除选中的"+e._s(e.name)+"吗？")])]):"reco"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[l("span",{staticStyle:{color:"red"}},[e._v("确定要恢复选中的"+e._s(e.name)+"吗？")])]):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.selectCancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.selectSubmit}},[e._v("提交")])],1)],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.data,height:e.height},on:{"sort-change":e.sort,"selection-change":e.select,"cell-dblclick":e.cellDbclick}},[l("el-table-column",{attrs:{type:"selection",width:"42",title:"全选/反选"}}),l("el-table-column",{attrs:{prop:e.idkey,label:"ID","min-width":"100",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"avatar_id",label:"头像","min-width":"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.avatar_url?l("el-image",{staticClass:"ya-img-table",attrs:{src:t.row.avatar_url,"preview-src-list":[t.row.avatar_url],title:"点击查看大图"}}):e._e()]}}])}),l("el-table-column",{attrs:{prop:"nickname",label:"昵称","min-width":"150",sortable:"custom","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"username",label:"用户名","min-width":"200",sortable:"custom","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"phone",label:"手机","min-width":"120",sortable:"custom","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"email",label:"邮箱","min-width":"220",sortable:"custom","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"remark",label:"备注","min-width":"100","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"is_disable",label:"禁用","min-width":"80",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(l){return e.disable([t.row])}},model:{value:t.row.is_disable,callback:function(l){e.$set(t.row,"is_disable",l)},expression:"scope.row.is_disable"}})]}}])}),l("el-table-column",{attrs:{prop:"sort",label:"排序",width:"80",sortable:"custom"}}),e.recycle?l("el-table-column",{attrs:{prop:"delete_time",label:"删除时间","min-width":"155",sortable:"custom"}}):l("el-table-column",{attrs:{prop:"create_time",label:"注册时间","min-width":"155",sortable:"custom"}}),l("el-table-column",{attrs:{label:"操作","min-width":e.recycle?155:120,align:"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[e.recycle?l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.selectOpen("reco",i)}}},[e._v("恢复")]):e._e(),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.selectOpen("repwd",i)}}},[e._v("密码")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.edit(i)}}},[e._v("修改")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.selectOpen("dele",i)}}},[e._v("删除")])]}}])})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.count>0,expression:"count > 0"}],attrs:{total:e.count,page:e.query.page,limit:e.query.limit},on:{"update:page":function(t){return e.$set(e.query,"page",t)},"update:limit":function(t){return e.$set(e.query,"limit",t)},pagination:e.list}}),l("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialog,top:"5vh","before-close":e.cancel,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialog=t}}},[l("el-form",{ref:"ref",staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{model:e.model,rules:e.rules,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"头像",prop:"avatar_url"}},[l("el-col",{attrs:{span:8}},[l("el-image",{staticClass:"ya-img-form",attrs:{src:e.model.avatar_url,fit:"contain","preview-src-list":[e.model.avatar_url],title:"点击查看大图"}},[l("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[l("i",{staticClass:"el-icon-picture-outline"})])])],1),l("el-col",{attrs:{span:16}},[l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileUpload()}}},[e._v("上传头像")]),l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileDelete("avatar")}}},[e._v("删除")]),l("p",[e._v("jpg、png图片，小于100kb，宽高1:1")])],1)],1),l("el-form-item",{attrs:{label:"用户名",prop:"username"}},[l("el-input",{key:"username",attrs:{placeholder:"请输入用户名",clearable:""},model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.username,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[l("el-input",{key:"nickname",attrs:{placeholder:"请输入昵称",clearable:""},model:{value:e.model.nickname,callback:function(t){e.$set(e.model,"nickname",t)},expression:"model.nickname"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.nickname,t)}},slot:"append"})],1)],1),""==e.model.member_id?l("el-form-item",{attrs:{label:"密码",prop:"password"}},[l("el-input",{key:"password",attrs:{placeholder:"请输入密码",clearable:"","show-password":""},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1):e._e(),l("el-form-item",{attrs:{label:"手机",prop:"phone"}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.phone,callback:function(t){e.$set(e.model,"phone",t)},expression:"model.phone"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.phone,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.email,callback:function(t){e.$set(e.model,"email",t)},expression:"model.email"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.email,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"姓名",prop:"name"}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.name,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"性别",prop:"gender"}},[l("el-select",{attrs:{placeholder:""},model:{value:e.model.gender,callback:function(t){e.$set(e.model,"gender",t)},expression:"model.gender"}},[l("el-option",{attrs:{label:"未知",value:0}}),l("el-option",{attrs:{label:"男",value:1}}),l("el-option",{attrs:{label:"女",value:2}})],1)],1),l("el-form-item",{attrs:{label:"所在地",prop:"region_id"}},[l("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.regionData,props:e.regionProps},on:{change:e.regionEdit},model:{value:e.model.region_id,callback:function(t){e.$set(e.model,"region_id",t)},expression:"model.region_id"}})],1),l("el-form-item",{attrs:{label:"备注",prop:"remark"}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.remark,callback:function(t){e.$set(e.model,"remark",t)},expression:"model.remark"}})],1),l("el-form-item",{attrs:{label:"排序",prop:"sort"}},[l("el-input",{attrs:{type:"number"},model:{value:e.model.sort,callback:function(t){e.$set(e.model,"sort",t)},expression:"model.sort"}})],1),e.model[e.idkey]?l("el-form-item",{attrs:{label:"注册时间",prop:"create_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.create_time,callback:function(t){e.$set(e.model,"create_time",t)},expression:"model.create_time"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"修改时间",prop:"update_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.update_time,callback:function(t){e.$set(e.model,"update_time",t)},expression:"model.update_time"}})],1):e._e(),e.model.delete_time?l("el-form-item",{attrs:{label:"删除时间",prop:"delete_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.delete_time,callback:function(t){e.$set(e.model,"delete_time",t)},expression:"model.delete_time"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"登录时间",prop:"login_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.login_time,callback:function(t){e.$set(e.model,"login_time",t)},expression:"model.login_time"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"登录地区",prop:"login_region"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.login_region,callback:function(t){e.$set(e.model,"login_region",t)},expression:"model.login_region"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.wechat.login_region,t)}},slot:"append"})],1)],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"注册渠道",prop:"reg_channel_name"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.reg_channel_name,callback:function(t){e.$set(e.model,"reg_channel_name",t)},expression:"model.reg_channel_name"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"注册方式",prop:"reg_type_name"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.reg_type_name,callback:function(t){e.$set(e.model,"reg_type_name",t)},expression:"model.reg_type_name"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"",prop:""}},[l("span",[e._v("微信信息")])]):e._e(),e.model.wechat?l("el-form-item",{attrs:{label:"头像",prop:""}},[e.model.wechat.headimgurl?l("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.model.wechat.headimgurl,"preview-src-list":[e.model.wechat.headimgurl],title:"点击查看大图"}}):e._e()],1):e._e(),e.model.wechat?l("el-form-item",{attrs:{label:"昵称",prop:""}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.wechat.nickname,callback:function(t){e.$set(e.model.wechat,"nickname",t)},expression:"model.wechat.nickname"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.wechat.nickname,t)}},slot:"append"})],1)],1):e._e(),e.model.wechat?l("el-form-item",{attrs:{label:"性别",prop:""}},[0==e.model.wechat.sex?l("el-tag",{attrs:{type:"info"}},[e._v("未知")]):1==e.model.wechat.sex?l("el-tag",{attrs:{type:"info"}},[e._v("男")]):2==e.model.wechat.sex?l("el-tag",{attrs:{type:"info"}},[e._v("女")]):e._e()],1):e._e(),e.model.wechat?l("el-form-item",{attrs:{label:"国家",prop:""}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.wechat.country,callback:function(t){e.$set(e.model.wechat,"country",t)},expression:"model.wechat.country"}})],1):e._e(),e.model.wechat?l("el-form-item",{attrs:{label:"省份",prop:""}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.wechat.province,callback:function(t){e.$set(e.model.wechat,"province",t)},expression:"model.wechat.province"}})],1):e._e(),e.model.wechat?l("el-form-item",{attrs:{label:"城市",prop:""}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.wechat.city,callback:function(t){e.$set(e.model.wechat,"city",t)},expression:"model.wechat.city"}})],1):e._e(),e.model.wechat?l("el-form-item",{attrs:{label:"语言",prop:""}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.wechat.language,callback:function(t){e.$set(e.model.wechat,"language",t)},expression:"model.wechat.language"}})],1):e._e(),e.model.wechat?l("el-form-item",{attrs:{label:"mwid",prop:""}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.wechat.member_wechat_id,callback:function(t){e.$set(e.model.wechat,"member_wechat_id",t)},expression:"model.wechat.member_wechat_id"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.wechat.member_wechat_id,t)}},slot:"append"})],1)],1):e._e(),e.model.wechat?l("el-form-item",{attrs:{label:"openid",prop:""}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.wechat.openid,callback:function(t){e.$set(e.model.wechat,"openid",t)},expression:"model.wechat.openid"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.wechat.openid,t)}},slot:"append"})],1)],1):e._e(),e.model.wechat?l("el-form-item",{attrs:{label:"unionid",prop:""}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.wechat.unionid,callback:function(t){e.$set(e.model.wechat,"unionid",t)},expression:"model.wechat.unionid"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.wechat.unionid,t)}},slot:"append"})],1)],1):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.cancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1),l("el-dialog",{attrs:{title:"上传头像",visible:e.fileDialog,width:"80%",top:"1vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.fileDialog=t}}},[l("file-manage",{attrs:{"file-type":"image"},on:{fileCancel:e.fileCancel,fileSubmit:e.fileSubmit}})],1)],1)},a=[],o=(l("209b"),l("a256"),l("3b45"),l("98b1")),s=l("333d"),n=l("3659"),r=l("f71e"),c=l("ed08"),d=l("69f9"),u={name:"Member",components:{Pagination:s["a"],FileManage:n["a"]},data:function(){return{name:"会员",recycle:0,height:680,loading:!1,idkey:"member_id",data:[],count:0,query:{page:1,limit:15,search_field:"username",date_field:"create_time"},dialog:!1,dialogTitle:"",model:{member_id:"",avatar_id:0,avatar_url:"",username:"",nickname:"",password:"",phone:"",email:"",name:"",gender:0,region_id:"",remark:"",sort:250,wechat:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},reg_channels:[],reg_types:[],regionData:[],regionProps:{expandTrigger:"click",checkStrictly:!0,value:"region_id",label:"region_name"},selection:[],selectIds:"",selectTitle:"选中操作",selectDialog:!1,selectType:"",region_id:0,password:"",is_disable:0,fileDialog:!1}},created:function(){this.recycle=this.$route.meta.query.recycle,this.height=Object(o["a"])(),this.list(1)},methods:{list:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.loading=!0,this.query.is_extra=t,this.recycle?Object(d["g"])(this.query).then((function(l){e.data=l.data.list,e.count=l.data.count,t&&(e.reg_channels=l.data.reg_channels,e.reg_types=l.data.reg_types,e.regionData=l.data.region),e.loading=!1})).catch((function(){e.loading=!1})):Object(d["f"])(this.query).then((function(l){e.data=l.data.list,e.count=l.data.count,t&&(e.reg_channels=l.data.reg_channels,e.reg_types=l.data.reg_types,e.regionData=l.data.region),e.loading=!1})).catch((function(){e.loading=!1}))},add:function(){this.dialog=!0,this.dialogTitle=this.name+"添加",this.reset()},edit:function(e){var t=this;this.dialog=!0,this.dialogTitle=this.name+"修改："+e[this.idkey];var l={};l[this.idkey]=e[this.idkey],Object(d["e"])(l).then((function(e){t.model=e.data}))},cancel:function(){this.dialog=!1,this.reset()},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,e.model[e.idkey]?Object(d["d"])(e.model).then((function(t){e.list(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})):Object(d["a"])(e.model).then((function(t){e.list(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},reset:function(){this.model=this.$options.data().model,void 0!==this.$refs["ref"]&&this.$refs["ref"].resetFields()},search:function(){this.query.page=1,this.list()},refresh:function(){this.query=this.$options.data().query,this.list()},sort:function(e){this.query.sort_field=e.prop,this.query.sort_value="","ascending"===e.order&&(this.query.sort_value="asc",this.list()),"descending"===e.order&&(this.query.sort_value="desc",this.list())},select:function(e){this.selection=e,this.selectIds=this.selectGetIds(e).toString()},selectGetIds:function(e){return Object(c["a"])(e,this.idkey)},selectAlert:function(){this.$alert("请选择需要操作的"+this.name,"提示",{type:"warning",callback:function(e){}})},selectOpen:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&(this.$refs["table"].clearSelection(),this.$refs["table"].toggleRowSelection(t)),this.selection.length?(this.selectTitle="选中操作","region"===e?this.selectTitle="修改所在地":"repwd"===e?this.selectTitle="重置密码":"disable"===e?this.selectTitle="是否禁用":"dele"===e?this.selectTitle="删除"+this.name:"reco"===e&&(this.selectTitle="恢复"+this.name),this.selectDialog=!0,this.selectType=e):this.selectAlert()},selectCancel:function(){this.selectDialog=!1},selectSubmit:function(){if(this.selection.length){var e=this.selectType;"region"===e?this.region(this.selection):"repwd"===e?this.repwd(this.selection):"disable"===e?this.disable(this.selection,!0):"dele"===e?this.dele(this.selection):"reco"===e&&this.reco(this.selection),this.selectDialog=!1}else this.selectAlert()},region:function(e){var t=this;e.length?(this.loading=!0,Object(d["j"])({ids:this.selectGetIds(e),region_id:this.region_id}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))):this.selectAlert()},repwd:function(e){var t=this;e.length?this.password?(this.loading=!0,Object(d["k"])({ids:this.selectGetIds(e),password:this.password}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))):this.$message.error("请输入新密码"):this.selectAlert()},disable:function(e){var t=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.length){this.loading=!0;var i=e[0].is_disable;l&&(i=this.is_disable),Object(d["c"])({ids:this.selectGetIds(e),is_disable:i}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.list()}))}else this.selectAlert()},dele:function(e){var t=this;e.length?(this.loading=!0,this.recycle?Object(d["h"])({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1})):Object(d["b"])({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))):this.selectAlert()},reco:function(e){var t=this;e.length?(this.loading=!0,Object(d["i"])({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))):this.selectAlert()},fileUpload:function(){this.fileDialog=!0},fileCancel:function(){this.fileDialog=!1},fileSubmit:function(e){this.fileDialog=!1,e&&(this.model.avatar_id=e[0]["file_id"],this.model.avatar_url=e[0]["file_url"])},fileDelete:function(e){"avatar"===e&&(this.model.avatar_id=0,this.model.avatar_url="")},regionQuery:function(e){e&&(this.query.search_value=e[e.length-1])},regionEdit:function(e){e&&(this.model.region_id=e[e.length-1])},regionSelect:function(e){e&&(this.region_id=e[e.length-1])},copy:function(e,t){Object(r["a"])(e,t)},cellDbclick:function(e,t,l,i){this.copy(e[t.property],i)}}},m=u,p=l("cba8"),f=Object(p["a"])(m,i,a,!1,null,null,null);t["default"]=f.exports},"533d":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"filter-container"},[l("el-row",[l("el-col",[l("el-select",{staticClass:"filter-item ya-search-field",attrs:{placeholder:"搜索字段"},model:{value:e.query.search_field,callback:function(t){e.$set(e.query,"search_field",t)},expression:"query.search_field"}},[l("el-option",{attrs:{value:"role_name",label:"名称"}}),l("el-option",{attrs:{value:"role_desc",label:"描述"}}),l("el-option",{attrs:{value:"is_disable",label:"禁用"}}),l("el-option",{attrs:{value:e.idkey,label:"ID"}})],1),"is_disable"===e.query.search_field?l("el-select",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"请选择"},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}},[l("el-option",{attrs:{value:1,label:"是"}}),l("el-option",{attrs:{value:0,label:"否"}})],1):l("el-input",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"搜索内容",clearable:""},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}}),l("el-select",{staticClass:"filter-item ya-date-field",attrs:{placeholder:"时间类型"},model:{value:e.query.date_field,callback:function(t){e.$set(e.query,"date_field",t)},expression:"query.date_field"}},[l("el-option",{attrs:{value:"create_time",label:"添加时间"}}),l("el-option",{attrs:{value:"update_time",label:"修改时间"}})],1),l("el-date-picker",{staticClass:"filter-item ya-date-value",attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.query.date_value,callback:function(t){e.$set(e.query,"date_value",t)},expression:"query.date_value"}}),l("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")]),l("el-button",{staticClass:"filter-item",on:{click:function(t){return e.refresh()}}},[e._v("刷新")])],1)],1),l("el-row",[l("el-col",[l("el-button",{attrs:{title:"禁用"},on:{click:function(t){return e.selectOpen("disable")}}},[e._v("禁用")]),l("el-button",{attrs:{title:"删除"},on:{click:function(t){return e.selectOpen("dele")}}},[e._v("删除")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("添加")])],1)],1),l("el-dialog",{attrs:{title:e.selectTitle,visible:e.selectDialog,top:"20vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.selectDialog=t}}},[l("el-form",{ref:"selectRef",attrs:{"label-width":"120px"}},[l("el-form-item",{attrs:{label:e.name+"ID",prop:""}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:12},disabled:""},model:{value:e.selectIds,callback:function(t){e.selectIds=t},expression:"selectIds"}})],1),"disable"===e.selectType?l("el-form-item",{attrs:{label:"禁用",prop:""}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.is_disable,callback:function(t){e.is_disable=t},expression:"is_disable"}})],1):"dele"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[l("span",{staticStyle:{color:"red"}},[e._v("确定要删除选中的"+e._s(e.name)+"吗？")])]):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.selectCancel}},[e._v("取消")]),l("el-button",{attrs:{type:"primary"},on:{click:e.selectSubmit}},[e._v("提交")])],1)],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.datas,height:e.height},on:{"sort-change":e.sort,"selection-change":e.select}},[l("el-table-column",{attrs:{type:"selection",width:"42",title:"全选/反选"}}),l("el-table-column",{attrs:{prop:e.idkey,label:"ID","min-width":"100",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"role_name",label:"名称","min-width":"160"}}),l("el-table-column",{attrs:{prop:"role_desc",label:"描述","min-width":"130"}}),l("el-table-column",{attrs:{prop:"role_sort",label:"排序","min-width":"100",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"is_disable",label:"禁用","min-width":"110",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(l){return e.disable([t.row])}},model:{value:t.row.is_disable,callback:function(l){e.$set(t.row,"is_disable",l)},expression:"scope.row.is_disable"}})]}}])}),l("el-table-column",{attrs:{prop:"create_time",label:"添加时间","min-width":"160",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"update_time",label:"修改时间","min-width":"160",sortable:"custom"}}),l("el-table-column",{attrs:{label:"操作","min-width":"130",align:"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.userShow(i)}}},[e._v("用户")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.edit(i)}}},[e._v("修改")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.selectOpen("dele",i)}}},[e._v("删除")])]}}])})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.count>0,expression:"count > 0"}],attrs:{total:e.count,page:e.query.page,limit:e.query.limit},on:{"update:page":function(t){return e.$set(e.query,"page",t)},"update:limit":function(t){return e.$set(e.query,"limit",t)},pagination:e.list}}),l("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialog,top:"5vh","before-close":e.cancel,"close-on-click-modal":!1,"close-on-press-escape":!1,"destroy-on-close":""},on:{"update:visible":function(t){e.dialog=t}}},[l("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogLoad,expression:"dialogLoad"}],ref:"ref",staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{rules:e.rules,model:e.model,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"名称",prop:"role_name"}},[l("el-input",{attrs:{placeholder:"请输入角色名称",clearable:""},model:{value:e.model.role_name,callback:function(t){e.$set(e.model,"role_name",t)},expression:"model.role_name"}})],1),l("el-form-item",{attrs:{label:"描述",prop:"role_desc"}},[l("el-input",{attrs:{placeholder:"",clearable:""},model:{value:e.model.role_desc,callback:function(t){e.$set(e.model,"role_desc",t)},expression:"model.role_desc"}})],1),l("el-form-item",{attrs:{label:"排序",prop:"role_sort",placeholder:"250"}},[l("el-input",{attrs:{type:"number"},model:{value:e.model.role_sort,callback:function(t){e.$set(e.model,"role_sort",t)},expression:"model.role_sort"}})],1),l("el-form-item",{attrs:{label:"菜单"}},[l("span",[l("el-checkbox",{attrs:{title:"全选/反选"},on:{change:e.menuCheckAllChange},model:{value:e.menuCheckAll,callback:function(t){e.menuCheckAll=t},expression:"menuCheckAll"}},[e._v("全选")]),l("el-checkbox",{attrs:{title:"收起/展开"},on:{change:e.menuExpandAllChange},model:{value:e.menuExpandAll,callback:function(t){e.menuExpandAll=t},expression:"menuExpandAll"}},[e._v("收起")])],1),l("el-tree",{ref:"menuRef",attrs:{data:e.menuData,props:e.menuProps,"default-checked-keys":e.model.admin_menu_ids,"default-expand-all":!1,"node-key":"admin_menu_id","show-checkbox":"","check-strictly":""},on:{check:e.menuCheck},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,a=t.data;return l("span",{staticClass:"custom-tree-node"},[l("span",[e._v(e._s(i.label))]),l("span",[a.menu_url?l("i",{staticClass:"el-icon-link",staticStyle:{"margin-left":"10px"},attrs:{title:a.menu_url}}):l("i",{staticClass:"el-icon-link",staticStyle:{"margin-left":"10px",color:"#fff"}}),a.is_unlogin?l("i",{staticClass:"el-icon-user",staticStyle:{"margin-left":"10px"},attrs:{title:"免登"}}):l("i",{staticClass:"el-icon-user",staticStyle:{"margin-left":"10px",color:"#fff"}}),a.is_unauth?l("i",{staticClass:"el-icon-unlock",staticStyle:{"margin-left":"10px"},attrs:{title:"免权"}}):l("i",{staticClass:"el-icon-unlock",staticStyle:{"margin-left":"10px",color:"#fff"}})])])}}])})],1),e.model[e.idkey]?l("el-form-item",{attrs:{label:"添加时间",prop:"create_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.create_time,callback:function(t){e.$set(e.model,"create_time",t)},expression:"model.create_time"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"修改时间",prop:"update_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.update_time,callback:function(t){e.$set(e.model,"update_time",t)},expression:"model.update_time"}})],1):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.cancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1),l("el-dialog",{attrs:{title:e.userDialogTitle,visible:e.userDialog,width:"65%",top:"5vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.userDialog=t}}},[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.userLoad,expression:"userLoad"}],ref:"userRef",attrs:{data:e.userData,height:e.height},on:{"sort-change":e.userSort}},[l("el-table-column",{attrs:{prop:"admin_user_id",label:"用户ID","min-width":"100",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"username",label:"账号","min-width":"120",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"nickname",label:"昵称","min-width":"120"}}),l("el-table-column",{attrs:{prop:"remark",label:"备注",width:"100"}}),l("el-table-column",{attrs:{prop:"is_admin",label:"超管","min-width":"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:""},model:{value:t.row.is_admin,callback:function(l){e.$set(t.row,"is_admin",l)},expression:"scope.row.is_admin"}})]}}])}),l("el-table-column",{attrs:{prop:"is_disable",label:"禁用","min-width":"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:""},model:{value:t.row.is_disable,callback:function(l){e.$set(t.row,"is_disable",l)},expression:"scope.row.is_disable"}})]}}])}),l("el-table-column",{attrs:{label:"操作","min-width":"80",align:"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.userRemove(i)}}},[e._v("解除")])]}}])})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.userCount>0,expression:"userCount > 0"}],attrs:{total:e.userCount,page:e.userQuery.page,limit:e.userQuery.limit},on:{"update:page":function(t){return e.$set(e.userQuery,"page",t)},"update:limit":function(t){return e.$set(e.userQuery,"limit",t)},pagination:e.user}})],1)],1)},a=[],o=(l("209b"),l("a256"),l("3b45"),l("98b1")),s=l("333d"),n=l("ed08"),r=l("b775"),c="/admin/admin.Role/";function d(e){return Object(r["a"])({url:c+"list",method:"get",params:e})}function u(e){return Object(r["a"])({url:c+"info",method:"get",params:e})}function m(e){return Object(r["a"])({url:c+"add",method:"post",data:e})}function p(e){return Object(r["a"])({url:c+"edit",method:"post",data:e})}function f(e){return Object(r["a"])({url:c+"dele",method:"post",data:e})}function h(e){return Object(r["a"])({url:c+"disable",method:"post",data:e})}function b(e){return Object(r["a"])({url:c+"user",method:"get",params:e})}function g(e){return Object(r["a"])({url:c+"userRemove",method:"post",data:e})}var _={name:"AdminRole",components:{Pagination:s["a"]},data:function(){return{name:"角色",height:680,loading:!1,idkey:"admin_role_id",datas:[],count:0,query:{page:1,limit:15,search_field:"role_name",date_field:"create_time"},dialog:!1,dialogTitle:"",dialogLoad:!1,model:{admin_role_id:"",admin_menu_ids:[],admin_menu_pids:[],role_name:"",role_desc:"",role_sort:250},rules:{role_name:[{required:!0,message:"请输入角色名称",trigger:"blur"}]},menuData:[],menuProps:{children:"children",label:"menu_name"},menuCheckAll:!1,menuExpandAll:!0,selection:[],selectIds:"",selectTitle:"选中操作",selectDialog:!1,selectType:"",is_disable:0,userDialog:!1,userDialogTitle:"",userLoad:!1,userData:[],userCount:0,userQuery:{}}},created:function(){this.height=Object(o["a"])(),this.list()},methods:{list:function(){var e=this;this.loading=!0,d(this.query).then((function(t){e.datas=t.data.list,e.count=t.data.count,e.menuData=t.data.menu,e.menuExpandAll=!0,e.loading=!1})).catch((function(){e.loading=!1}))},add:function(){this.dialog=!0,this.dialogLoad=!0,this.dialogTitle=this.name+"添加",this.dialogLoad=!1},edit:function(e){var t=this;this.dialog=!0,this.dialogLoad=!0,this.dialogTitle=this.name+"修改："+e[this.idkey];var l={};l[this.idkey]=e[this.idkey],u(l).then((function(e){t.reset(e.data),t.dialogLoad=!1})).catch((function(){t.dialogLoad=!1}))},cancel:function(){this.dialog=!1,this.reset()},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,e.model[e.idkey]?p(e.model).then((function(t){e.list(),e.reset(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})):m(e.model).then((function(t){e.list(),e.reset(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},reset:function(e){this.menuCheckAll=!1,this.menuExpandAll=!0,this.model=e||this.$options.data().model,void 0!==this.$refs["ref"]&&this.$refs["ref"].resetFields()},search:function(){this.query.page=1,this.list()},refresh:function(){this.query=this.$options.data().query,this.list()},sort:function(e){this.query.sort_field=e.prop,this.query.sort_value="","ascending"===e.order&&(this.query.sort_value="asc",this.list()),"descending"===e.order&&(this.query.sort_value="desc",this.list())},select:function(e){this.selection=e,this.selectIds=this.selectGetIds(e).toString()},selectGetIds:function(e){return Object(n["a"])(e,this.idkey)},selectAlert:function(){this.$alert("请选择需要操作的"+this.name,"提示",{type:"warning",callback:function(e){}})},selectOpen:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&(this.$refs["table"].clearSelection(),this.$refs["table"].toggleRowSelection(t)),this.selection.length?(this.selectTitle="选中操作","disable"===e?this.selectTitle="禁用":"dele"===e&&(this.selectTitle="删除"+this.name),this.selectDialog=!0,this.selectType=e):this.selectAlert()},selectCancel:function(){this.selectDialog=!1},selectSubmit:function(){if(this.selection.length){var e=this.selectType;"disable"===e?this.disable(this.selection,!0):"dele"===e&&this.dele(this.selection),this.selectDialog=!1}else this.selectAlert()},disable:function(e){var t=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.length){this.loading=!0;var i=e[0].is_disable;l&&(i=this.is_disable),h({ids:this.selectGetIds(e),is_disable:i}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.list()}))}else this.selectAlert()},dele:function(e){var t=this;e.length?(this.loading=!0,f({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))):this.selectAlert()},menuCheck:function(){this.menuCheckSetKeys()},menuCheckAllChange:function(){this.menuCheckAll?this.$refs.menuRef.setCheckedNodes(this.menuData):this.$refs.menuRef.setCheckedKeys([]),this.menuCheckSetKeys()},menuCheckSetKeys:function(){this.model.admin_menu_ids=this.$refs.menuRef.getCheckedKeys(),this.model.admin_menu_pids=this.$refs.menuRef.getHalfCheckedKeys()},menuExpandAllChange:function(){for(var e=!this.menuExpandAll,t=this.$refs.menuRef.store._getAllNodes().length,l=0;l<t;l++)this.$refs.menuRef.store._getAllNodes()[l].expanded=e},userShow:function(e){this.userDialog=!0,this.userDialogTitle="角色用户："+e.role_name,this.userQuery.admin_role_id=e.admin_role_id,this.user()},user:function(){var e=this;this.userLoad=!0,b(this.userQuery).then((function(t){e.userData=t.data.list,e.userCount=t.data.count,e.userLoad=!1})).catch((function(){e.userLoad=!1}))},userSort:function(e){this.userQuery.sort_field=e.prop,this.userQuery.sort_value="","ascending"===e.order&&(this.userQuery.sort_value="asc",this.user()),"descending"===e.order&&(this.userQuery.sort_value="desc",this.user())},userRemove:function(e){var t=this;this.$confirm('确定要解除该角色与用户 <span style="color:red">'+e.username+" </span>的关联吗？","解除用户："+e.admin_user_id,{type:"warning",dangerouslyUseHTMLString:!0}).then((function(){t.userLoad=!0,g({admin_role_id:t.userQuery.admin_role_id,admin_user_id:e.admin_user_id}).then((function(e){t.user(),t.$message.success(e.msg)})).catch((function(){t.userLoad=!1}))})).catch((function(){}))}}},v=_,y=l("cba8"),k=Object(y["a"])(v,i,a,!1,null,"3978f03c",null);t["default"]=k.exports},5577:function(e,t,l){"use strict";l("a450")},"55b1":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("div",{attrs:{slot:"header"},slot:"header"},[l("span",[e._v("随机字符串")])]),l("div",[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"所用字符",prop:"ids"}},[l("el-checkbox-group",{staticStyle:{width:"100px"},model:{value:e.model.ids,callback:function(t){e.$set(e.model,"ids",t)},expression:"model.ids"}},e._l(e.model.idss,(function(t){return l("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),l("el-form-item",{attrs:{label:"字符长度",prop:"len"}},[l("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.model.len,callback:function(t){e.$set(e.model,"len",t)},expression:"model.len"}},e._l(e.model.lens,(function(t){return l("el-option",{key:t,attrs:{label:t,value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1),l("el-form-item",{attrs:{label:"生成字符",prop:"str"}},[l("el-input",{attrs:{type:"textarea",rows:"4",clearable:""},model:{value:e.model.str,callback:function(t){e.$set(e.model,"str",t)},expression:"model.str"}})],1),l("el-form-item",[l("el-button",{on:{click:function(t){return e.copy(e.model.str,t)}}},[e._v("复制")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("生成")])],1)],1)],1)])},a=[],o=l("98b1"),s=l("f71e"),n=l("8cc9"),r={name:"AdminUtilsStrrand",components:{},data:function(){return{name:"随机字符串",height:680,model:{idss:[{id:1,name:"数字"},{id:2,name:"小写字母"},{id:3,name:"大写字母"},{id:4,name:"标点符号"}],lens:[8,10,12],ids:[1,2,3],len:12,str:""},rules:{ids:[{required:!0,message:"请选择所用字符",trigger:"blur"}],len:[{required:!0,message:"请选择字符长度",trigger:"blur"}]}}},created:function(){this.height=Object(o["a"])(180),this.lens()},methods:{lens:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128,t=[];this.model.lens=[];for(var l=0;l<e;l++)t[l]=l+1;this.model.lens=t},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&Object(n["d"])({ids:e.model.ids,len:e.model.len}).then((function(t){e.model.str=t.data.str}))}))},copy:function(e,t){e?Object(s["a"])(e,t):this.$message.error("请生成随机字符串")}}},c=r,d=l("cba8"),u=Object(d["a"])(c,i,a,!1,null,"7f42acba",null);t["default"]=u.exports},5607:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("el-row",[l("el-col",[l("span",{staticClass:"apidoc-item"},[e._v("密码："+e._s(e.model.apidoc_pwd)+" "),l("i",{staticClass:"el-icon-copy-document",attrs:{title:"复制密码"},on:{click:function(t){return e.copy(e.model.apidoc_pwd,t)}}})]),l("span",{staticClass:"apidoc-item",attrs:{title:e.model.admin_token}},[e._v("Token："+e._s(e.model.admin_token_sub)+" "),l("i",{staticClass:"el-icon-copy-document",attrs:{title:"复制Token"},on:{click:function(t){return e.copy(e.model.admin_token,t)}}})]),l("el-button",{staticClass:"filter-item",attrs:{size:"mini",circle:"",title:"刷新"},on:{click:function(t){return e.refresh()}}},[l("i",{staticClass:"el-icon-refresh"})]),l("el-link",{staticStyle:{"margin-left":"10px"},attrs:{href:e.model.apidoc_url,target:"_blank",underline:!1,title:"新标签页打开"}},[l("i",{staticClass:"el-icon-position"})])],1),l("el-col",[l("iframe",{attrs:{src:e.model.apidoc_url,frameborder:"0",width:"100%",height:e.height}})])],1)],1)},a=[],o=l("98b1"),s=l("f71e"),n=l("b775"),r="/admin/admin.Apidoc/";function c(e){return Object(n["a"])({url:r+"apidoc",method:"get",params:e})}var d={name:"AdminApidoc",components:{},data:function(){return{name:"接口文档",height:680,isload:!1,model:{apidoc_url:"",apidoc_pwd:"",admin_token:"",admin_token_sub:""}}},created:function(){this.height=Object(o["a"])(160),this.isload||this.apidoc()},methods:{apidoc:function(){var e=this;c().then((function(t){e.isload=!0,e.model=t.data}))},refresh:function(){this.apidoc()},copy:function(e,t){e?Object(s["a"])(e,t):this.$message.error("复制失败")}}},u=d,m=(l("45b6"),l("cba8")),p=Object(m["a"])(u,i,a,!1,null,"ecb8d96a",null);t["default"]=p.exports},"595e":function(e,t,l){},"5b6a":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",[l("el-row",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("el-col",{attrs:{xs:24,sm:22,md:20,lg:16,xl:12}},[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"120px"}},[l("el-form-item",{attrs:{label:"自定义设置",prop:""}},[l("el-col",{attrs:{span:5}},[e._v(" 键名 ")]),l("el-col",{attrs:{span:8}},[e._v(" 键值 ")]),l("el-col",{attrs:{span:10}},[e._v(" 说明 ")]),l("el-col",{attrs:{span:1}},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("增加")])],1)],1),e._l(e.model.diy_config,(function(t,i){return l("el-form-item",{key:i,attrs:{label:""}},[l("el-col",{attrs:{span:5}},[l("el-input",{attrs:{clearable:"",placeholder:"请输入键名"},model:{value:t.config_key,callback:function(l){e.$set(t,"config_key",l)},expression:"item.config_key"}})],1),l("el-col",{attrs:{span:8}},[l("el-input",{attrs:{clearable:"",placeholder:"请输入键值"},model:{value:t.config_val,callback:function(l){e.$set(t,"config_val",l)},expression:"item.config_val"}})],1),l("el-col",{attrs:{span:10}},[l("el-input",{attrs:{clearable:"",placeholder:"请输入说明"},model:{value:t.config_desc,callback:function(l){e.$set(t,"config_desc",l)},expression:"item.config_desc"}})],1),l("el-col",{attrs:{span:1}},[l("el-button",{attrs:{type:"text"},on:{click:function(t){return e.dele(i)}}},[e._v("删除")])],1)],1)})),l("el-form-item",[l("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],2)],1)],1)],1)},a=[],o=(l("4f69"),l("98b1")),s=l("604d"),n={name:"SettingSettingDiy",components:{},data:function(){return{name:"自定义设置",height:680,loading:!1,model:{diy_config:[]},rules:{}}},created:function(){this.height=Object(o["a"])(210),this.info()},methods:{info:function(){var e=this;Object(s["f"])().then((function(t){e.model=t.data}))},add:function(){this.model.diy_config.push({config_key:"",config_val:"",config_desc:""})},dele:function(e){var t=this;this.$confirm("确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.model.diy_config.splice(e,1)})).catch((function(){}))},refresh:function(){var e=this;this.loading=!0,Object(s["f"])().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(s["e"])(e.model).then((function(t){e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},r=n,c=l("cba8"),d=Object(c["a"])(r,i,a,!1,null,null,null);t["default"]=d.exports},"5de7":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"filter-container"},[l("el-row",[l("el-col",[l("el-select",{staticClass:"filter-item ya-search-field",attrs:{placeholder:"搜索字段"},model:{value:e.query.search_field,callback:function(t){e.$set(e.query,"search_field",t)},expression:"query.search_field"}},[l("el-option",{attrs:{value:"menu_name",label:"菜单名称"}}),l("el-option",{attrs:{value:"menu_url",label:"菜单链接"}}),l("el-option",{attrs:{value:"menu_pid",label:"上级"}}),l("el-option",{attrs:{value:"menu_type",label:"类型"}}),l("el-option",{attrs:{value:"is_unlogin",label:"免登"}}),l("el-option",{attrs:{value:"is_unauth",label:"免权"}}),l("el-option",{attrs:{value:"hidden",label:"隐藏"}}),l("el-option",{attrs:{value:"is_disable",label:"禁用"}}),l("el-option",{attrs:{value:"meta_query",label:"参数"}}),l("el-option",{attrs:{value:"show_lv",label:"展示"}}),l("el-option",{attrs:{value:e.idkey,label:"ID"}})],1),"menu_pid"===e.query.search_field?l("el-cascader",{staticClass:"filter-item ya-search-value",attrs:{options:e.trees,props:e.props,placeholder:"请选择",clearable:"",filterable:""},on:{change:e.pidQuery},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}}):"menu_type"===e.query.search_field?l("el-select",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"请选择"},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}},[l("el-option",{attrs:{value:1,label:"目录"}}),l("el-option",{attrs:{value:2,label:"菜单"}}),l("el-option",{attrs:{value:3,label:"按钮"}})],1):"is_unlogin"===e.query.search_field||"is_unauth"===e.query.search_field||"hidden"===e.query.search_field||"is_disable"===e.query.search_field?l("el-select",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"请选择"},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}},[l("el-option",{attrs:{value:1,label:"是"}}),l("el-option",{attrs:{value:0,label:"否"}})],1):"show_lv"===e.query.search_field?l("el-select",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"请选择"},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}},[l("el-option",{attrs:{value:1,label:"一级菜单"}}),l("el-option",{attrs:{value:2,label:"二级菜单"}}),l("el-option",{attrs:{value:3,label:"三级菜单"}})],1):l("el-input",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"搜索内容",clearable:""},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}}),l("el-select",{staticClass:"filter-item ya-date-field",attrs:{placeholder:"时间类型"},model:{value:e.query.date_field,callback:function(t){e.$set(e.query,"date_field",t)},expression:"query.date_field"}},[l("el-option",{attrs:{value:"create_time",label:"添加时间"}}),l("el-option",{attrs:{value:"update_time",label:"修改时间"}})],1),l("el-date-picker",{staticClass:"filter-item ya-date-value",attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.query.date_value,callback:function(t){e.$set(e.query,"date_value",t)},expression:"query.date_value"}}),l("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")]),l("el-button",{staticClass:"filter-item",on:{click:function(t){return e.refresh()}}},[e._v("刷新")])],1)],1),l("el-row",[l("el-col",[l("el-checkbox",{staticStyle:{"margin-right":"10px",top:"-2px"},attrs:{border:"",title:"收起/展开"},on:{change:e.expandAll},model:{value:e.isExpandAll,callback:function(t){e.isExpandAll=t},expression:"isExpandAll"}},[e._v("收起")]),l("el-button",{attrs:{title:"修改上级"},on:{click:function(t){return e.selectOpen("editpid")}}},[e._v("上级")]),l("el-button",{attrs:{title:"是否免登"},on:{click:function(t){return e.selectOpen("unlogin")}}},[e._v("免登")]),l("el-button",{attrs:{title:"是否免权"},on:{click:function(t){return e.selectOpen("unauth")}}},[e._v("免权")]),l("el-button",{attrs:{title:"是否隐藏"},on:{click:function(t){return e.selectOpen("hidden")}}},[e._v("隐藏")]),l("el-button",{attrs:{title:"是否禁用"},on:{click:function(t){return e.selectOpen("disable")}}},[e._v("禁用")]),l("el-button",{attrs:{title:"删除"},on:{click:function(t){return e.selectOpen("dele")}}},[e._v("删除")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("添加")])],1)],1),l("el-dialog",{attrs:{title:e.selectTitle,visible:e.selectDialog,top:"20vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.selectDialog=t}}},[l("el-form",{ref:"selectRef",attrs:{"label-width":"120px"}},[l("el-form-item",{attrs:{label:e.name+"ID",prop:""}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:12},disabled:""},model:{value:e.selectIds,callback:function(t){e.selectIds=t},expression:"selectIds"}})],1),"editpid"===e.selectType?l("el-form-item",{attrs:{label:"上级",prop:""}},[l("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.trees,props:e.props,placeholder:"一级菜单",clearable:"",filterable:""},on:{change:e.pidSelect},model:{value:e.menu_pid,callback:function(t){e.menu_pid=t},expression:"menu_pid"}})],1):"unlogin"===e.selectType?l("el-form-item",{attrs:{label:"是否免登",prop:""}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.is_unlogin,callback:function(t){e.is_unlogin=t},expression:"is_unlogin"}})],1):"unauth"===e.selectType?l("el-form-item",{attrs:{label:"是否免权",prop:""}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.is_unauth,callback:function(t){e.is_unauth=t},expression:"is_unauth"}})],1):"hidden"===e.selectType?l("el-form-item",{attrs:{label:"是否隐藏",prop:""}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.hidden,callback:function(t){e.hidden=t},expression:"hidden"}})],1):"disable"===e.selectType?l("el-form-item",{attrs:{label:"是否禁用",prop:""}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.is_disable,callback:function(t){e.is_disable=t},expression:"is_disable"}})],1):"dele"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[l("span",{staticStyle:{color:"red"}},[e._v("确定要删除选中的"+e._s(e.name)+"吗？")])]):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.selectCancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.selectSubmit}},[e._v("提交")])],1)],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.data,height:e.height,"row-key":e.idkey,lazy:"",load:e.load,"default-expand-all":""},on:{"selection-change":e.select,"select-all":e.selectAll,"cell-dblclick":e.cellDbclick}},[l("el-table-column",{attrs:{type:"selection",width:"42",title:"全选/反选"}}),l("el-table-column",{attrs:{prop:"menu_name",label:"菜单名称","min-width":"220","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"meta_icon",label:"图标","min-width":"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[l("i",{class:e.row.meta_icon})]}}])}),l("el-table-column",{attrs:{prop:"menu_url",label:"菜单链接","min-width":"280","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"path",label:"路由地址","min-width":"100","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"name",label:"路由名字","min-width":"110","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"component",label:"组件路径","min-width":"150","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"menu_type",label:"类型","min-width":"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.menu_type?l("i",{staticClass:"el-icon-folder",attrs:{title:"目录"}}):2==t.row.menu_type?l("i",{staticClass:"el-icon-menu",attrs:{title:"菜单"}}):3==t.row.menu_type?l("i",{staticClass:"el-icon-open",attrs:{title:"按钮"}}):e._e()]}}])}),l("el-table-column",{attrs:{prop:"is_unlogin",label:"免登","min-width":"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.menu_url?l("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(l){return e.unlogin([t.row])}},model:{value:t.row.is_unlogin,callback:function(l){e.$set(t.row,"is_unlogin",l)},expression:"scope.row.is_unlogin"}}):e._e()]}}])}),l("el-table-column",{attrs:{prop:"is_unauth",label:"免权","min-width":"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.menu_url?l("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(l){return e.unauth([t.row])}},model:{value:t.row.is_unauth,callback:function(l){e.$set(t.row,"is_unauth",l)},expression:"scope.row.is_unauth"}}):e._e()]}}])}),l("el-table-column",{attrs:{prop:"hidden",label:"隐藏","min-width":"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(l){return e.ishidden([t.row])}},model:{value:t.row.hidden,callback:function(l){e.$set(t.row,"hidden",l)},expression:"scope.row.hidden"}})]}}])}),l("el-table-column",{attrs:{prop:"is_disable",label:"禁用","min-width":"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.menu_url?l("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(l){return e.disable([t.row])}},model:{value:t.row.is_disable,callback:function(l){e.$set(t.row,"is_disable",l)},expression:"scope.row.is_disable"}}):e._e()]}}])}),l("el-table-column",{attrs:{prop:e.idkey,label:"ID","min-width":"55"}}),l("el-table-column",{attrs:{prop:"menu_sort",label:"排序","min-width":"50"}}),l("el-table-column",{attrs:{label:"操作","min-width":"195",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.roleShow(i)}}},[e._v("角色")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.userShow(i,e.idkey)}}},[e._v("用户")]),l("el-button",{attrs:{size:"mini",type:"text",title:"添加下级"},on:{click:function(t){return e.add(i)}}},[e._v("添加")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.edit(i)}}},[e._v("修改")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.selectOpen("dele",i)}}},[e._v("删除")])]}}])})],1),l("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialog,top:"5vh","before-close":e.cancel,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialog=t}}},[l("el-form",{ref:"ref",staticClass:"dialog-body",style:{height:e.height-50+"px"},attrs:{rules:e.rules,model:e.model,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"菜单上级",prop:"menu_pid"}},[l("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.trees,props:e.props,placeholder:"一级菜单",clearable:"",filterable:""},on:{change:e.pidEdit},model:{value:e.model.menu_pid,callback:function(t){e.$set(e.model,"menu_pid",t)},expression:"model.menu_pid"}})],1),l("el-form-item",{attrs:{label:"菜单类型",prop:"menu_type"}},[l("el-radio-group",{model:{value:e.model.menu_type,callback:function(t){e.$set(e.model,"menu_type",t)},expression:"model.menu_type"}},[l("el-radio",{attrs:{label:1}},[e._v("目录"),l("i",{staticClass:"el-icon-folder"})]),l("el-radio",{attrs:{label:2}},[e._v("菜单"),l("i",{staticClass:"el-icon-menu"})]),l("el-radio",{attrs:{label:3}},[e._v("按钮"),l("i",{staticClass:"el-icon-open"})])],1)],1),3!==e.model.menu_type?l("el-form-item",{attrs:{label:"菜单图标",prop:"meta_icon"}},[l("e-icon-picker",{attrs:{options:{ElementUI:!0},"z-index":3500},model:{value:e.model.meta_icon,callback:function(t){e.$set(e.model,"meta_icon",t)},expression:"model.meta_icon"}})],1):e._e(),l("el-form-item",{attrs:{label:"菜单名称",prop:"menu_name"}},[l("el-input",{attrs:{clearable:"",placeholder:"meta.title；侧边栏菜单名称"},model:{value:e.model.menu_name,callback:function(t){e.$set(e.model,"menu_name",t)},expression:"model.menu_name"}},[l("template",{slot:"prepend"},[l("el-button",{attrs:{icon:"el-icon-question",title:"meta.title；侧边栏菜单名称"}})],1),l("template",{slot:"append"},[l("el-button",{attrs:{icon:"el-icon-document-copy",title:"复制"},on:{click:function(t){return e.copy(e.model.menu_name,t)}}})],1)],2)],1),l("el-form-item",{attrs:{label:"菜单链接",prop:"menu_url"}},[l("el-input",{attrs:{clearable:"",placeholder:"roles；权限标识：应用/控制器/操作；区分大小写"},model:{value:e.model.menu_url,callback:function(t){e.$set(e.model,"menu_url",t)},expression:"model.menu_url"}},[l("template",{slot:"prepend"},[l("el-button",{attrs:{icon:"el-icon-question",title:"roles；权限标识：应用/控制器/操作，区分大小写"}})],1),l("template",{slot:"append"},[l("el-button",{attrs:{icon:"el-icon-document-copy",title:"复制"},on:{click:function(t){return e.copy(e.model.menu_url,t)}}})],1)],2)],1),3!==e.model.menu_type?l("el-form-item",{attrs:{label:"路由地址",prop:"path"}},[l("el-input",{attrs:{clearable:"",placeholder:"path；路由地址，如：member，一级菜单需在前面加斜杠/；外链为 http 地址"},model:{value:e.model.path,callback:function(t){e.$set(e.model,"path",t)},expression:"model.path"}},[l("template",{slot:"prepend"},[l("el-button",{attrs:{icon:"el-icon-question",title:"path；路由地址，如：member，一级菜单需在前面加斜杠/；外链为 http 地址"}})],1),l("template",{slot:"append"},[l("el-button",{attrs:{icon:"el-icon-document-copy",title:"复制"},on:{click:function(t){return e.copy(e.model.path,t)}}})],1)],2)],1):e._e(),2===e.model.menu_type?l("el-form-item",{attrs:{label:"路由名字",prop:"name"}},[l("el-input",{attrs:{clearable:"",placeholder:"name；组件name属性，如：Member，<keep-alive> 用到；外链可随意填写"},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}},[l("template",{slot:"prepend"},[l("el-button",{attrs:{icon:"el-icon-question",title:"name；组件的name属性，如：Member，<keep-alive> 用到；外链可随意填写"}})],1),l("template",{slot:"append"},[l("el-button",{attrs:{icon:"el-icon-document-copy",title:"复制"},on:{click:function(t){return e.copy(e.model.name,t)}}})],1)],2)],1):e._e(),2===e.model.menu_type?l("el-form-item",{attrs:{label:"组件地址",prop:"component"}},[l("el-input",{attrs:{clearable:"",placeholder:"component；组件路径，如：member/member，默认在 views 目录下"},model:{value:e.model.component,callback:function(t){e.$set(e.model,"component",t)},expression:"model.component"}},[l("template",{slot:"prepend"},[l("el-button",{attrs:{icon:"el-icon-question",title:"component；组件路径，如：member/member，默认在 views 目录下"}})],1),l("template",{slot:"append"},[l("el-button",{attrs:{icon:"el-icon-document-copy",title:"复制"},on:{click:function(t){return e.copy(e.model.component,t)}}})],1)],2)],1):e._e(),2===e.model.menu_type?l("el-form-item",{attrs:{label:"路由参数",prop:"meta_query"}},[l("el-input",{attrs:{clearable:"",placeholder:'meta.query；路由的默认传递参数，如：{ "recycle": 0 }'},model:{value:e.model.meta_query,callback:function(t){e.$set(e.model,"meta_query",t)},expression:"model.meta_query"}},[l("template",{slot:"prepend"},[l("el-button",{attrs:{icon:"el-icon-question",title:'meta.query；路由的默认传递参数，如：{ "recycle": 0 }'}})],1),l("template",{slot:"append"},[l("el-button",{attrs:{icon:"el-icon-document-copy",title:"复制"},on:{click:function(t){return e.copy(e.model.meta_query,t)}}})],1)],2)],1):e._e(),3!==e.model.menu_type?l("el-form-item",{attrs:{label:"是否隐藏",prop:"hidden"}},[l("el-button",{attrs:{icon:"el-icon-question",title:"hidden；隐藏后侧边栏不显示，但仍然可以访问"}}),l("el-radio-group",{staticStyle:{"margin-left":"10px"},model:{value:e.model.hidden,callback:function(t){e.$set(e.model,"hidden",t)},expression:"model.hidden"}},[l("el-radio",{attrs:{label:0}},[e._v("否")]),l("el-radio",{attrs:{label:1}},[e._v("是")])],1)],1):e._e(),l("el-form-item",{attrs:{label:"菜单排序",prop:"menu_sort"}},[l("el-input",{attrs:{type:"number",placeholder:"250"},model:{value:e.model.menu_sort,callback:function(t){e.$set(e.model,"menu_sort",t)},expression:"model.menu_sort"}},[l("template",{slot:"prepend"},[l("el-button",{attrs:{icon:"el-icon-question",title:"降序，数值越大越排在前面"}})],1)],2)],1),2===e.model.menu_type?l("el-form-item",{attrs:{label:"快速添加",prop:""}},[l("el-button",{staticClass:"ya-margin-right",attrs:{icon:"el-icon-question",title:"快速添加，需要输入菜单链接：应用/控制器/操作；区分大小写"}}),l("el-checkbox",{model:{value:e.model.add_info,callback:function(t){e.$set(e.model,"add_info",t)},expression:"model.add_info"}},[e._v("信息")]),l("el-checkbox",{model:{value:e.model.add_add,callback:function(t){e.$set(e.model,"add_add",t)},expression:"model.add_add"}},[e._v("添加")]),l("el-checkbox",{model:{value:e.model.add_edit,callback:function(t){e.$set(e.model,"add_edit",t)},expression:"model.add_edit"}},[e._v("修改")]),l("el-checkbox",{model:{value:e.model.add_dele,callback:function(t){e.$set(e.model,"add_dele",t)},expression:"model.add_dele"}},[e._v("删除")])],1):e._e(),2===e.model.menu_type?l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.model[e.idkey],expression:"model[idkey]"}],attrs:{label:"快速修改",prop:""}},[l("el-button",{staticClass:"ya-margin-right",attrs:{icon:"el-icon-question",title:"快速修改，需要输入菜单链接：应用/控制器/操作；区分大小写"}}),l("el-checkbox",{model:{value:e.model.edit_info,callback:function(t){e.$set(e.model,"edit_info",t)},expression:"model.edit_info"}},[e._v("信息")]),l("el-checkbox",{model:{value:e.model.edit_add,callback:function(t){e.$set(e.model,"edit_add",t)},expression:"model.edit_add"}},[e._v("添加")]),l("el-checkbox",{model:{value:e.model.edit_edit,callback:function(t){e.$set(e.model,"edit_edit",t)},expression:"model.edit_edit"}},[e._v("修改")]),l("el-checkbox",{model:{value:e.model.edit_dele,callback:function(t){e.$set(e.model,"edit_dele",t)},expression:"model.edit_dele"}},[e._v("删除")])],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"添加时间",prop:"create_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.create_time,callback:function(t){e.$set(e.model,"create_time",t)},expression:"model.create_time"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"修改时间",prop:"update_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.update_time,callback:function(t){e.$set(e.model,"update_time",t)},expression:"model.update_time"}})],1):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.cancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1),l("el-dialog",{attrs:{title:e.roleDialogTitle,visible:e.roleDialog,width:"65%",top:"5vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.roleDialog=t}}},[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.roleLoad,expression:"roleLoad"}],ref:"roleRef",attrs:{data:e.roleData,height:e.height},on:{"sort-change":e.roleSort}},[l("el-table-column",{attrs:{prop:"admin_role_id",label:"角色ID","min-width":"100",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"role_name",label:"角色","min-width":"120",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"role_desc",label:"描述","min-width":"130"}}),l("el-table-column",{attrs:{prop:"is_disable",label:"禁用","min-width":"80",align:"center",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:""},model:{value:t.row.is_disable,callback:function(l){e.$set(t.row,"is_disable",l)},expression:"scope.row.is_disable"}})]}}])}),l("el-table-column",{attrs:{label:"操作","min-width":"85",align:"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.userShow(i)}}},[e._v("用户")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.roleRemove(i)}}},[e._v("解除")])]}}])})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.roleCount>0,expression:"roleCount > 0"}],attrs:{total:e.roleCount,page:e.roleQuery.page,limit:e.roleQuery.limit},on:{"update:page":function(t){return e.$set(e.roleQuery,"page",t)},"update:limit":function(t){return e.$set(e.roleQuery,"limit",t)},pagination:e.roleList}})],1),l("el-dialog",{attrs:{title:e.userDialogTitle,visible:e.userDialog,width:"65%",top:"5vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.userDialog=t}}},[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.userLoad,expression:"userLoad"}],ref:"userRef",attrs:{data:e.userData,height:e.height},on:{"sort-change":e.userSort}},[l("el-table-column",{attrs:{prop:"admin_user_id",label:"用户ID","min-width":"100",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"username",label:"账号","min-width":"120",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"nickname",label:"昵称","min-width":"120"}}),l("el-table-column",{attrs:{prop:"remark",label:"备注","min-width":"100"}}),l("el-table-column",{attrs:{prop:"is_super",label:"超管","min-width":"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:""},model:{value:t.row.is_super,callback:function(l){e.$set(t.row,"is_super",l)},expression:"scope.row.is_super"}})]}}])}),l("el-table-column",{attrs:{prop:"is_disable",label:"禁用","min-width":"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:""},model:{value:t.row.is_disable,callback:function(l){e.$set(t.row,"is_disable",l)},expression:"scope.row.is_disable"}})]}}])}),l("el-table-column",{attrs:{label:"操作","min-width":"80",align:"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[e.userQuery[e.idkey]?l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.userRemove(i)}}},[e._v("解除")]):e._e()]}}])})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.userCount>0,expression:"userCount > 0"}],attrs:{total:e.userCount,page:e.userQuery.page,limit:e.userQuery.limit},on:{"update:page":function(t){return e.$set(e.userQuery,"page",t)},"update:limit":function(t){return e.$set(e.userQuery,"limit",t)},pagination:e.userList}})],1)],1)},a=[],o=(l("209b"),l("a256"),l("44de"),l("3b45"),l("98b1")),s=l("333d"),n=l("f71e"),r=l("74d8"),c=l("ed08"),d=l("b775"),u="/admin/admin.Menu/";function m(e){return Object(d["a"])({url:u+"list",method:"get",params:e})}function p(e){return Object(d["a"])({url:u+"info",method:"get",params:e})}function f(e){return Object(d["a"])({url:u+"add",method:"post",data:e})}function h(e){return Object(d["a"])({url:u+"edit",method:"post",data:e})}function b(e){return Object(d["a"])({url:u+"dele",method:"post",data:e})}function g(e){return Object(d["a"])({url:u+"pid",method:"post",data:e})}function _(e){return Object(d["a"])({url:u+"unlogin",method:"post",data:e})}function v(e){return Object(d["a"])({url:u+"unauth",method:"post",data:e})}function y(e){return Object(d["a"])({url:u+"hidden",method:"post",data:e})}function k(e){return Object(d["a"])({url:u+"disable",method:"post",data:e})}function x(e){return Object(d["a"])({url:u+"role",method:"get",params:e})}function w(e){return Object(d["a"])({url:u+"roleRemove",method:"post",data:e})}function $(e){return Object(d["a"])({url:u+"user",method:"get",params:e})}function C(e){return Object(d["a"])({url:u+"userRemove",method:"post",data:e})}var q={name:"AdminMenu",components:{Pagination:s["a"],EIconPicker:r["EIconPicker"]},directives:{},data:function(){return{name:"菜单",height:680,loading:!1,idkey:"admin_menu_id",query:{search_field:"menu_name",date_field:"create_time"},data:[],trees:[],props:{checkStrictly:!0,value:"admin_menu_id",label:"menu_name"},dialog:!1,dialogTitle:"",model:{admin_menu_id:"",menu_pid:0,menu_type:1,meta_icon:"",menu_name:"",menu_url:"",path:"",name:"",component:"",meta_query:"",hidden:0,menu_sort:250,add_info:!1,add_add:!1,add_edit:!1,add_dele:!1,edit_info:!1,edit_add:!1,edit_edit:!1,edit_dele:!1},rules:{menu_name:[{required:!0,message:"请输入菜单名称",trigger:"blur"}],path:[{required:!0,message:"请输入路由地址",trigger:"blur"}],name:[{required:!0,message:"请输入路由名字",trigger:"blur"}]},isExpandAll:!1,selection:[],selectIds:"",selectTitle:"选中操作",selectDialog:!1,selectType:"",menu_pid:0,is_unlogin:0,is_unauth:0,is_disable:0,hidden:0,roleDialog:!1,roleDialogTitle:"",roleLoad:!1,roleData:[],roleCount:0,roleQuery:{page:1,limit:10},userDialog:!1,userDialogTitle:"",userLoad:!1,userData:[],userCount:0,userQuery:{page:1,limit:10}}},created:function(){this.height=Object(o["a"])(210),this.list()},methods:{list:function(){var e=this;this.loading=!0,m(this.query).then((function(t){e.data=t.data.list,e.trees=t.data.tree,e.isExpandAll=!1,e.loading=!1})).catch((function(){e.loading=!1}))},load:function(e,t,l){m({search_field:"menu_pid",search_value:e[this.idkey]}).then((function(e){l(e.data.list)}))},add:function(e){this.dialog=!0,this.dialogTitle=this.name+"添加",this.model=this.$options.data().model,e&&(this.model.menu_pid=e[this.idkey])},edit:function(e){var t=this;this.dialog=!0,this.dialogTitle=this.name+"修改："+e[this.idkey];var l={};l[this.idkey]=e[this.idkey],p(l).then((function(e){t.model=e.data})).catch((function(){}))},cancel:function(){this.dialog=!1,this.reset()},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,e.model[e.idkey]?h(e.model).then((function(t){e.list(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})):f(e.model).then((function(t){e.list(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},reset:function(e){e?(this.model.admin_menu_id=e.admin_menu_id,this.model.menu_pid=e.menu_pid,this.model.menu_name=e.menu_name,this.model.menu_url=e.menu_url,this.model.menu_sort=e.menu_sort):(this.model.admin_menu_id="",this.model.menu_pid=0,this.model.menu_name="",this.model.menu_url="",this.model.menu_sort=250),this.model.meta_icon="",this.model.add_info=this.model.add_add=this.model.add_edit=this.model.add_dele=!1,this.model.edit_info=this.model.edit_add=this.model.edit_edit=this.model.edit_dele=!1,void 0!==this.$refs["ref"]&&this.$refs["ref"].resetFields()},search:function(){this.list()},refresh:function(){this.query=this.$options.data().query,this.list()},expandAll:function(e){this.expandFor(this.data,!e)},expandFor:function(e,t){var l=this;e.forEach((function(e){l.$refs.table.toggleRowExpansion(e,t),e.children&&l.expandFor(e.children,t)}))},select:function(e){this.selection=e,this.selectIds=this.selectGetIds(e).toString()},selectAll:function(e){e?(this.selectAllKeys(e),this.selectIds=this.selectGetIds(this.selection).toString()):this.selectIds=""},selectAllKeys:function(e){for(var t in e)this.selection.push(e[t]),e[t].children&&this.selectAllKeys(e[t].children)},selectGetIds:function(e){return Object(c["a"])(e,this.idkey)},selectAlert:function(){this.$alert("请选择需要操作的"+this.name,"提示",{type:"warning",callback:function(e){}})},selectOpen:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&(this.$refs["table"].clearSelection(),this.$refs["table"].toggleRowSelection(t)),this.selection.length?(this.selectTitle="选中操作","editpid"===e?this.selectTitle="修改上级":"unlogin"===e?this.selectTitle="是否免登":"unauth"===e?this.selectTitle="是否免权":"disable"===e?this.selectTitle="是否禁用":"hidden"===e?this.selectTitle="是否隐藏":"dele"===e&&(this.selectTitle="删除"+this.name),this.selectDialog=!0,this.selectType=e):this.selectAlert()},selectCancel:function(){this.selectDialog=!1},selectSubmit:function(){if(this.selection.length){var e=this.selectType;"editpid"===e?this.editpid(this.selection):"unlogin"===e?this.unlogin(this.selection,!0):"unauth"===e?this.unauth(this.selection,!0):"disable"===e?this.disable(this.selection,!0):"hidden"===e?this.ishidden(this.selection,!0):"dele"===e&&this.dele(this.selection),this.selectDialog=!1}else this.selectAlert()},editpid:function(e){var t=this;g({ids:this.selectGetIds(e),menu_pid:this.menu_pid}).then((function(e){t.refresh(),t.selectDialog=!1,t.$message.success(e.msg)})).catch((function(){t.list()}))},unlogin:function(e){var t=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.length){this.loading=!0;var i=e[0].is_unlogin;l&&(i=this.is_unlogin),_({ids:this.selectGetIds(e),is_unlogin:i}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.list()}))}else this.selectAlert()},unauth:function(e){var t=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.length){this.loading=!0;var i=e[0].is_unauth;l&&(i=this.is_unauth),v({ids:this.selectGetIds(e),is_unauth:i}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.list()}))}else this.selectAlert()},ishidden:function(e){var t=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.length){this.loading=!0;var i=e[0].hidden;l&&(i=this.hidden),y({ids:this.selectGetIds(e),hidden:i}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.list()}))}else this.selectAlert()},disable:function(e){var t=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.length){this.loading=!0;var i=e[0].is_disable;l&&(i=this.is_disable),k({ids:this.selectGetIds(e),is_disable:i}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.list()}))}else this.selectAlert()},dele:function(e){var t=this;e.length?(this.loading=!0,b({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.list()}))):this.selectAlert()},pidEdit:function(e){e&&(this.model.menu_pid=e[e.length-1])},pidQuery:function(e){e&&(this.query.search_value=e[e.length-1])},pidSelect:function(e){e&&(this.menu_pid=e[e.length-1])},roleShow:function(e){this.roleDialog=!0,this.roleDialogTitle="菜单角色："+e.menu_name,this.roleQuery.admin_menu_id=e.admin_menu_id,this.roleList()},roleList:function(){var e=this;this.roleLoad=!0,x(this.roleQuery).then((function(t){e.roleData=t.data.list,e.roleCount=t.data.count,e.roleLoad=!1})).catch((function(){e.roleLoad=!1}))},roleSort:function(e){this.roleQuery.sort_field=e.prop,this.roleQuery.sort_value="","ascending"===e.order&&(this.roleQuery.sort_value="asc",this.roleList()),"descending"===e.order&&(this.roleQuery.sort_value="desc",this.roleList())},roleRemove:function(e){var t=this;this.$confirm('确定要解除菜单与角色 <span style="color:red">'+e.role_name+" </span>的关联吗？","解除角色："+e.admin_role_id,{type:"warning",dangerouslyUseHTMLString:!0}).then((function(){t.roleLoad=!0,w({admin_menu_id:t.roleQuery.admin_menu_id,admin_role_id:e.admin_role_id}).then((function(e){t.roleList(),t.$message.success(e.msg)})).catch((function(){t.roleLoad=!1}))})).catch((function(){}))},userShow:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"admin_role_id";this.userDialog=!0,"admin_menu_id"===t?(this.userDialogTitle="菜单用户（按菜单）："+e.menu_name,this.userQuery.admin_menu_id=e.admin_menu_id,this.userQuery.admin_role_id=""):(this.userDialogTitle="菜单用户（按角色）："+e.role_name,this.userQuery.admin_menu_id="",this.userQuery.admin_role_id=e.admin_role_id),this.userList()},userList:function(){var e=this;this.userLoad=!0,$(this.userQuery).then((function(t){e.userData=t.data.list,e.userCount=t.data.count,e.userLoad=!1})).catch((function(){e.userLoad=!1}))},userSort:function(e){this.userQuery.sort_field=e.prop,this.userQuery.sort_value="","ascending"===e.order&&(this.userQuery.sort_value="asc",this.userList()),"descending"===e.order&&(this.userQuery.sort_value="desc",this.userList())},userRemove:function(e){var t=this;this.$confirm('确定要解除菜单与用户 <span style="color:red">'+e.username+" </span>的关联吗？","解除用户："+e.admin_user_id,{type:"warning",dangerouslyUseHTMLString:!0}).then((function(){t.userLoad=!0,C({admin_menu_id:t.userQuery.admin_menu_id,admin_user_id:e.admin_user_id}).then((function(e){t.userList(),t.$message.success(e.msg)})).catch((function(){t.userLoad=!1}))})).catch((function(){}))},copy:function(e,t){Object(n["a"])(e,t)},cellDbclick:function(e,t,l,i){this.copy(e[t.property],i)}}},S=q,O=(l("aa53"),l("cba8")),j=Object(O["a"])(S,i,a,!1,null,"076d8493",null);t["default"]=j.exports},"5f42":function(e,t,l){},"604d":function(e,t,l){"use strict";l.d(t,"l",(function(){return o})),l.d(t,"k",(function(){return s})),l.d(t,"d",(function(){return n})),l.d(t,"c",(function(){return r})),l.d(t,"h",(function(){return c})),l.d(t,"g",(function(){return d})),l.d(t,"b",(function(){return u})),l.d(t,"a",(function(){return m})),l.d(t,"j",(function(){return p})),l.d(t,"i",(function(){return f})),l.d(t,"f",(function(){return h})),l.d(t,"e",(function(){return b}));var i=l("b775"),a="/admin/setting.Setting/";function o(e){return Object(i["a"])({url:a+"tokenInfo",method:"get",params:e})}function s(e){return Object(i["a"])({url:a+"tokenEdit",method:"post",data:e})}function n(e){return Object(i["a"])({url:a+"captchaInfo",method:"get",params:e})}function r(e){return Object(i["a"])({url:a+"captchaEdit",method:"post",data:e})}function c(e){return Object(i["a"])({url:a+"logInfo",method:"get",params:e})}function d(e){return Object(i["a"])({url:a+"logEdit",method:"post",data:e})}function u(e){return Object(i["a"])({url:a+"apiInfo",method:"get",params:e})}function m(e){return Object(i["a"])({url:a+"apiEdit",method:"post",data:e})}function p(e){return Object(i["a"])({url:a+"logregInfo",method:"get",params:e})}function f(e){return Object(i["a"])({url:a+"logregEdit",method:"post",data:e})}function h(e){return Object(i["a"])({url:a+"diyInfo",method:"get",params:e})}function b(e){return Object(i["a"])({url:a+"diyEdit",method:"post",data:e})}},"68bd":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("div",{attrs:{slot:"header"},slot:"header"},[l("span",[e._v("时间戳转换")])]),l("div",[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"100px"}},[l("el-form-item",{staticStyle:{width:"380px"},attrs:{label:"时间戳"}},[l("el-input",{attrs:{type:"number","prefix-icon":"el-icon-stopwatch",placeholder:"请输入时间戳",clearable:""},on:{input:function(t){return e.value("timestamp")}},model:{value:e.model.timestamp,callback:function(t){e.$set(e.model,"timestamp",t)},expression:"model.timestamp"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){e.copy(e.model.timestamp.toString(),t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"日期时间"}},[l("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"请选择日期时间",clearable:""},on:{change:function(t){return e.value("datetime")}},model:{value:e.model.datetime,callback:function(t){e.$set(e.model,"datetime",t)},expression:"model.datetime"}}),l("el-button",{attrs:{icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.datetime,t)}}})],1),l("el-form-item",[l("el-button",{on:{click:function(t){return e.clear()}}},[e._v("清空")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("转换")])],1)],1)],1)])},a=[],o=l("98b1"),s=l("f71e"),n=l("8cc9"),r={name:"AdminUtilsTimestamp",components:{},data:function(){return{name:"时间戳转换",height:680,model:{type:"timestamp",value:"",timestamp:"",datetime:""},rules:{}}},created:function(){this.height=Object(o["a"])(180)},methods:{value:function(e){this.model.type=e,this.model.value=this.model[e]},clear:function(){this.model=this.$options.data().model},submit:function(){var e=this;this.model.value||(this.model.datetime?(this.model.type="datetime",this.model.value=this.model.datetime):(this.model.type="timestamp",this.model.value=this.model.timestamp)),Object(n["f"])(this.model).then((function(t){e.model=t.data}))},copy:function(e,t){e?Object(s["a"])(e,t):this.$message.error("请转换时间戳")}}},c=r,d=l("cba8"),u=Object(d["a"])(c,i,a,!1,null,"5f64c780",null);t["default"]=u.exports},"69f9":function(e,t,l){"use strict";l.d(t,"f",(function(){return o})),l.d(t,"e",(function(){return s})),l.d(t,"a",(function(){return n})),l.d(t,"d",(function(){return r})),l.d(t,"b",(function(){return c})),l.d(t,"j",(function(){return d})),l.d(t,"k",(function(){return u})),l.d(t,"c",(function(){return m})),l.d(t,"l",(function(){return p})),l.d(t,"g",(function(){return f})),l.d(t,"i",(function(){return h})),l.d(t,"h",(function(){return b}));var i=l("b775"),a="/admin/member.Member/";function o(e){return Object(i["a"])({url:a+"list",method:"get",params:e})}function s(e){return Object(i["a"])({url:a+"info",method:"get",params:e})}function n(e){return Object(i["a"])({url:a+"add",method:"post",data:e})}function r(e){return Object(i["a"])({url:a+"edit",method:"post",data:e})}function c(e){return Object(i["a"])({url:a+"dele",method:"post",data:e})}function d(e){return Object(i["a"])({url:a+"region",method:"post",data:e})}function u(e){return Object(i["a"])({url:a+"repwd",method:"post",data:e})}function m(e){return Object(i["a"])({url:a+"disable",method:"post",data:e})}function p(e){return Object(i["a"])({url:a+"stat",method:"get",params:e})}function f(e){return Object(i["a"])({url:a+"recover",method:"get",params:e})}function h(e){return Object(i["a"])({url:a+"recoverReco",method:"post",data:e})}function b(e){return Object(i["a"])({url:a+"recoverDele",method:"post",data:e})}},"6a13":function(e,t,l){"use strict";var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("div",{attrs:{id:e.editorId}}),l("el-dialog",{attrs:{visible:e.fileDialog,title:e.fileTitle,width:"80%",top:"1vh","append-to-body":"","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.fileDialog=t}}},[l("file-manage",{attrs:{"file-type":e.fileType},on:{fileCancel:e.fileCancel,fileSubmit:e.fileSubmit}})],1)],1)},a=[],o=l("c15f"),s=l("a35b"),n=l("bd16"),r=l("4408"),c=(l("ba60"),l("1ce2"),l("6c9d")),d=l.n(c),u=l("ed08"),m=l("3659"),p={name:"RichEditor",components:{FileManage:m["a"]},directives:{},model:{prop:"content",event:"change"},props:{id:{type:String,default:"wangeditor"+Object(u["b"])()},content:{type:String,default:""},excludeMenus:{type:Array,default:function(){return["image","video"]}},zIndex:{type:Number,default:1e4},height:{type:Number,default:500},focus:{type:Boolean,default:!1},placeholder:{type:String,default:""}},data:function(){return{name:"富文本编辑器",editor:null,editorId:this.id,editorContent:this.content,editorContentNew:"",fileDialog:!1,fileTitle:"文件管理",fileType:"image"}},watch:{content:function(e){e!==this.editor.txt.html()&&this.editor.txt.html(this.content)}},created:function(){},mounted:function(){this.editorCreate()},destroyed:function(){this.editorDestroy()},methods:{editorCreate:function(){var e=this,t=this,l=d.a.BtnMenu,i=function(e){Object(n["a"])(i,e);var l=Object(r["a"])(i);function i(e){Object(o["a"])(this,i);var t=d.a.$('<div class="w-e-menu" data-title="上传图片"><el-button>图片</el-button></div>');return l.call(this,t,e)}return Object(s["a"])(i,[{key:"clickHandler",value:function(){t.fileType="image",t.fileTitle="上传图片",t.fileDialog=!0}},{key:"tryChangeActive",value:function(){}}]),i}(l),a=function(e){Object(n["a"])(i,e);var l=Object(r["a"])(i);function i(e){Object(o["a"])(this,i);var t=d.a.$('<div class="w-e-menu" data-title="上传视频"><el-button>视频</el-button></div>');return l.call(this,t,e)}return Object(s["a"])(i,[{key:"clickHandler",value:function(){t.fileType="video",t.fileTitle="上传视频",t.fileDialog=!0}},{key:"tryChangeActive",value:function(){}}]),i}(l),c=function(e){Object(n["a"])(i,e);var l=Object(r["a"])(i);function i(e){Object(o["a"])(this,i);var t=d.a.$('<div class="w-e-menu" data-title="上传附件"><el-button>附件</el-button></div>');return l.call(this,t,e)}return Object(s["a"])(i,[{key:"clickHandler",value:function(){t.fileType="word",t.fileTitle="上传附件",t.fileDialog=!0}},{key:"tryChangeActive",value:function(){}}]),i}(l),u=function(e){Object(n["a"])(i,e);var l=Object(r["a"])(i);function i(e){Object(o["a"])(this,i);var t=d.a.$('<div class="w-e-menu" data-title="清空内容"><el-button>清空</el-button></div>');return l.call(this,t,e)}return Object(s["a"])(i,[{key:"clickHandler",value:function(){t.editor.txt.clear()}},{key:"tryChangeActive",value:function(){}}]),i}(l);t.editor=new d.a("#"+t.editorId),t.editor.config.excludeMenus=t.excludeMenus,t.editor.menus.extend("upimgKey",i),t.editor.config.menus=t.editor.config.menus.concat("upimgKey"),t.editor.menus.extend("upvideoKey",a),t.editor.config.menus=t.editor.config.menus.concat("upvideoKey"),t.editor.menus.extend("upfileKey",c),t.editor.config.menus=t.editor.config.menus.concat("upfileKey"),t.editor.menus.extend("clearKey",u),t.editor.config.menus=t.editor.config.menus.concat("clearKey"),t.editor.config.zIndex=t.zIndex,t.editor.config.height=t.height,t.editor.config.focus=t.focus,t.editor.config.placeholder=t.placeholder,t.editor.config.onchange=function(l){t.editorContentNew=l,e.$emit("change",t.editorContentNew)},t.editor.create(),t.editor.txt.clear(),t.editor.txt.html(t.editorContent)},editorDestroy:function(){this.editor&&(this.editor.destroy(),this.editor=null)},fileCancel:function(){this.fileDialog=!1},fileSubmit:function(e,t){this.fileDialog=!1,this.fileTitle="";var l=e.length;if(l)for(var i=0;i<l;i++)"image"===t?this.editor.cmd.do("insertHTML",'<img file-id="'.concat(e[i]["file_id"],'" src="').concat(e[i]["file_url"],'" style="max-width:50%;"/>')):"video"===t?this.editor.cmd.do("insertHTML",'<video width="50%" height="50%" controls>\n                <source file-id="'.concat(e[i]["file_id"],'" src="').concat(e[i]["file_url"],'" type="video/mp4">\n                <object file-id="').concat(e[i]["file_id"],'" data="').concat(e[i]["file_url"],'" width="50%" height="50%">\n                  <embed file-id="').concat(e[i]["file_id"],'" src="').concat(e[i]["file_url"],'" width="50%" height="50%">\n                </object>\n              </video>')):this.editor.cmd.do("insertHTML",'<a file-id="'.concat(e[i]["file_id"],'" href="').concat(e[i]["file_url"],'" download="').concat(e[i]["file_url"],'" target="_blank">').concat(e[i]["file_name"],"</el-link>"))}}},f=p,h=l("cba8"),b=Object(h["a"])(f,i,a,!1,null,"21f5bccd",null);t["a"]=b.exports},"6a23":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"120px"}},[l("el-form-item",{attrs:{label:"SMTP服务器",prop:"email_host"}},[l("el-col",{attrs:{span:8}},[l("el-input",{attrs:{type:"text",clearable:""},model:{value:e.model.email_host,callback:function(t){e.$set(e.model,"email_host",t)},expression:"model.email_host"}})],1),l("el-col",{attrs:{span:16}},[e._v(" 发送邮件服务器，如：smtp.qq.com ")])],1),l("el-form-item",{attrs:{label:"SMTP协议",prop:"email_secure"}},[l("el-col",{attrs:{span:8}},[l("el-select",{attrs:{placeholder:""},model:{value:e.model.email_secure,callback:function(t){e.$set(e.model,"email_secure",t)},expression:"model.email_secure"}},e._l(e.secure,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),l("el-col",{attrs:{span:16}},[e._v(" 发送邮件服务器加密方式，如：SSL ")])],1),l("el-form-item",{attrs:{label:"SMTP端口",prop:"email_port"}},[l("el-col",{attrs:{span:8}},[l("el-input",{attrs:{type:"number",clearable:""},model:{value:e.model.email_port,callback:function(t){e.$set(e.model,"email_port",t)},expression:"model.email_port"}})],1),l("el-col",{attrs:{span:16}},[e._v(" 发送邮件服务器端口号，如：465 ")])],1),l("el-form-item",{attrs:{label:"邮箱名称",prop:"email_setfrom"}},[l("el-col",{attrs:{span:8}},[l("el-input",{attrs:{type:"text",clearable:""},model:{value:e.model.email_setfrom,callback:function(t){e.$set(e.model,"email_setfrom",t)},expression:"model.email_setfrom"}})],1),l("el-col",{attrs:{span:16}},[e._v(" 发件邮箱名称即发件人，如：yylAdmin ")])],1),l("el-form-item",{attrs:{label:"邮箱账号",prop:"email_username"}},[l("el-col",{attrs:{span:8}},[l("el-input",{attrs:{type:"text",clearable:""},model:{value:e.model.email_username,callback:function(t){e.$set(e.model,"email_username",t)},expression:"model.email_username"}})],1),l("el-col",{attrs:{span:16}},[e._v(" 发件邮箱账号，如：123456789@qq.com ")])],1),l("el-form-item",{attrs:{label:"授权码/密码",prop:"email_password"}},[l("el-col",{attrs:{span:8}},[l("el-input",{attrs:{type:"password",clearable:"","show-password":""},model:{value:e.model.email_password,callback:function(t){e.$set(e.model,"email_password",t)},expression:"model.email_password"}})],1),l("el-col",{attrs:{span:16}},[e._v(" 发件邮箱的授权码或密码，如：y1y2l3a4d5m6i7n ")])],1),l("el-form-item",{attrs:{label:"测试邮箱",prop:"email_test"}},[l("el-col",{attrs:{span:8}},[l("el-input",{attrs:{type:"text",clearable:""},model:{value:e.model.email_test,callback:function(t){e.$set(e.model,"email_test",t)},expression:"model.email_test"}})],1),l("el-col",{attrs:{span:16}},[l("el-button",{attrs:{loading:e.loading,type:"primary",title:"先提交再发送"},on:{click:function(t){return e.test()}}},[e._v("发送测试邮件")])],1)],1),l("el-form-item",[l("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1)],1)},a=[],o=l("98b1"),s=l("5a2e"),n={name:"AdminSettingEmail",components:{},data:function(){return{name:"邮件设置",height:680,loading:!1,model:{email_host:"",email_port:"",email_secure:"",email_username:"",email_password:"",email_setfrom:"",email_test:""},rules:{email_host:[{required:!0,message:"请输入SMTP服务器",trigger:"blur"}],email_secure:[{required:!0,message:"请选择SMTP协议",trigger:"blur"}],email_port:[{required:!0,message:"请输入SMTP端口",trigger:"blur"}],email_username:[{required:!0,message:"请输入邮箱账号",trigger:"blur"}],email_password:[{required:!0,message:"请输入授权码/密码",trigger:"blur"}]},secure:[{value:"ssl",label:"SSL"},{value:"tls",label:"TLS"}]}},created:function(){this.height=Object(o["a"])(180),this.info()},methods:{info:function(){var e=this;Object(s["h"])().then((function(t){e.model=t.data}))},refresh:function(){var e=this;this.loading=!0,Object(s["h"])().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(s["g"])(e.model).then((function(t){e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},test:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.model.email_test?(e.loading=!0,Object(s["i"])(e.model).then((function(t){e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))):e.$message.error("请输入测试邮箱"))}))}}},r=n,c=l("cba8"),d=Object(c["a"])(r,i,a,!1,null,null,null);t["default"]=d.exports},"6a38":function(e,t,l){"use strict";l("4765")},"6fc1":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"filter-container"},[l("el-row",[l("el-col",[l("el-select",{staticClass:"filter-item ya-search-field",attrs:{placeholder:"搜索字段"},model:{value:e.query.search_field,callback:function(t){e.$set(e.query,"search_field",t)},expression:"query.search_field"}},[l("el-option",{attrs:{value:"category_name",label:"名称"}}),l("el-option",{attrs:{value:"category_pid",label:"上级"}}),l("el-option",{attrs:{value:"is_hide",label:"隐藏"}}),l("el-option",{attrs:{value:"sort",label:"排序"}}),l("el-option",{attrs:{value:e.idkey,label:"ID"}})],1),"category_pid"===e.query.search_field?l("el-cascader",{staticClass:"filter-item ya-search-value",attrs:{options:e.trees,props:e.props,placeholder:"请选择",clearable:"",filterable:""},on:{change:e.pidQuery},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}}):"is_hide"===e.query.search_field?l("el-select",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"请选择"},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}},[l("el-option",{attrs:{value:1,label:"是"}}),l("el-option",{attrs:{value:0,label:"否"}})],1):l("el-input",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"搜索内容",clearable:""},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}}),l("el-select",{staticClass:"filter-item ya-date-field",attrs:{placeholder:"时间类型"},model:{value:e.query.date_field,callback:function(t){e.$set(e.query,"date_field",t)},expression:"query.date_field"}},[l("el-option",{attrs:{value:"create_time",label:"添加时间"}}),l("el-option",{attrs:{value:"update_time",label:"修改时间"}}),e.recycle?l("el-option",{attrs:{value:"delete_time",label:"删除时间"}}):e._e()],1),l("el-date-picker",{staticClass:"filter-item ya-date-value",attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.query.date_value,callback:function(t){e.$set(e.query,"date_value",t)},expression:"query.date_value"}}),l("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")]),l("el-button",{staticClass:"filter-item",on:{click:function(t){return e.refresh()}}},[e._v("刷新")])],1)],1),l("el-row",[l("el-col",[l("el-checkbox",{staticStyle:{"margin-right":"10px",top:"-2px"},attrs:{border:"",title:"收起/展开"},on:{change:e.expandAll},model:{value:e.isExpandAll,callback:function(t){e.isExpandAll=t},expression:"isExpandAll"}},[e._v("收起")]),l("el-button",{attrs:{title:"修改上级"},on:{click:function(t){return e.selectOpen("editpid")}}},[e._v("上级")]),l("el-button",{attrs:{title:"是否隐藏"},on:{click:function(t){return e.selectOpen("ishide")}}},[e._v("隐藏")]),l("el-button",{attrs:{title:"删除"},on:{click:function(t){return e.selectOpen("dele")}}},[e._v("删除")]),e.recycle?l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.selectOpen("reco")}}},[e._v("恢复")]):l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("添加")])],1)],1),l("el-dialog",{attrs:{title:e.selectTitle,visible:e.selectDialog,top:"20vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.selectDialog=t}}},[l("el-form",{ref:"selectRef",attrs:{"label-width":"120px"}},[l("el-form-item",{attrs:{label:e.name+"ID",prop:""}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:12},disabled:""},model:{value:e.selectIds,callback:function(t){e.selectIds=t},expression:"selectIds"}})],1),"editpid"===e.selectType?l("el-form-item",{attrs:{label:"上级",prop:""}},[l("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.trees,props:e.props,placeholder:"一级分类",clearable:"",filterable:""},on:{change:e.pidSelect},model:{value:e.category_pid,callback:function(t){e.category_pid=t},expression:"category_pid"}})],1):e._e(),"ishide"===e.selectType?l("el-form-item",{attrs:{label:"是否隐藏",prop:""}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.is_hide,callback:function(t){e.is_hide=t},expression:"is_hide"}})],1):"dele"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[e.recycle?l("span",{staticStyle:{color:"red"}},[e._v("确定要彻底删除选中的"+e._s(e.name)+"吗？删除后不可恢复！所有下级即使恢复后也不会显示！")]):l("span",{staticStyle:{color:"red"}},[e._v("确定要删除选中的"+e._s(e.name)+"吗？")])]):"reco"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[l("span",{staticStyle:{color:"red"}},[e._v("确定要恢复选中的"+e._s(e.name)+"吗？如果不是一级分类需要恢复所有上级分类")])]):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.selectCancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.selectSubmit}},[e._v("提交")])],1)],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.data,height:e.height+50,"row-key":e.idkey,"default-expand-all":""},on:{"selection-change":e.select}},[l("el-table-column",{attrs:{type:"selection",width:"42",title:"全选/反选"}}),l("el-table-column",{attrs:{prop:"category_name",label:"名称","min-width":"250","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:e.idkey,label:"ID","min-width":"100"}}),l("el-table-column",{attrs:{prop:"category_pid",label:"PID","min-width":"100"}}),l("el-table-column",{attrs:{prop:"is_hide",label:"隐藏","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(l){return e.ishide([t.row])}},model:{value:t.row.is_hide,callback:function(l){e.$set(t.row,"is_hide",l)},expression:"scope.row.is_hide"}})]}}])}),l("el-table-column",{attrs:{prop:"sort",label:"排序","min-width":"80"}}),l("el-table-column",{attrs:{prop:"create_time",label:"添加时间","min-width":"155"}}),l("el-table-column",{attrs:{prop:"update_time",label:"修改时间","min-width":"155"}}),e.recycle?l("el-table-column",{attrs:{prop:"delete_time",label:"删除时间","min-width":"155",sortable:"custom"}}):e._e(),l("el-table-column",{attrs:{label:"操作","min-width":"120",align:"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[e.recycle?l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.selectOpen("reco",i)}}},[e._v("恢复")]):l("el-button",{attrs:{size:"mini",type:"text",title:"添加下级"},on:{click:function(t){return e.add(i)}}},[e._v("添加")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.edit(i)}}},[e._v("修改")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.selectOpen("dele",i)}}},[e._v("删除")])]}}])})],1),l("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialog,top:"5vh","before-close":e.cancel,"close-on-click-modal":!1,"close-on-press-escape":!1,"destroy-on-close":""},on:{"update:visible":function(t){e.dialog=t}}},[l("el-form",{ref:"ref",staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{rules:e.rules,model:e.model,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"上级",prop:"category_pid"}},[l("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.trees,props:e.props,placeholder:"一级分类",clearable:"",filterable:""},on:{change:e.pidEdit},model:{value:e.model.category_pid,callback:function(t){e.$set(e.model,"category_pid",t)},expression:"model.category_pid"}})],1),l("el-form-item",{attrs:{label:"名称",prop:"category_name"}},[l("el-input",{attrs:{placeholder:"请输入分类名称",clearable:""},model:{value:e.model.category_name,callback:function(t){e.$set(e.model,"category_name",t)},expression:"model.category_name"}})],1),l("el-form-item",{attrs:{label:"封面",prop:"img_id"}},[l("el-col",{attrs:{span:11}},[l("el-image",{staticClass:"ya-height-100",attrs:{fit:"scale-down",src:e.model.img_url,"preview-src-list":[e.model.img_url],title:"点击查看大图"}},[l("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[l("i",{staticClass:"el-icon-picture-outline"})])])],1),l("el-col",{attrs:{span:13}},[l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileUpload("image","img_id","上传封面")}}},[e._v("上传封面")]),l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileDelete(0,"img_id")}}},[e._v("删除")]),l("p",[e._v("jpg、png图片，小于200KB。")])],1)],1),l("el-form-item",{attrs:{label:"标题",prop:"title"}},[l("el-input",{attrs:{placeholder:"title",clearable:""},model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),l("el-form-item",{attrs:{label:"关键词",prop:"keywords"}},[l("el-input",{attrs:{placeholder:"keywords",clearable:""},model:{value:e.model.keywords,callback:function(t){e.$set(e.model,"keywords",t)},expression:"model.keywords"}})],1),l("el-form-item",{attrs:{label:"描述",prop:"description"}},[l("el-input",{attrs:{type:"textarea",placeholder:"description",clearable:""},model:{value:e.model.description,callback:function(t){e.$set(e.model,"description",t)},expression:"model.description"}})],1),l("el-form-item",{attrs:{label:"图片",prop:"imgs"}},[l("el-row",[l("el-col",{attrs:{span:8}},[l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileUpload("image","imgs","上传图片")}}},[e._v("上传图片")])],1),l("el-col",{attrs:{span:16}},[l("div",[e._v("每张图片大小不超过 300 KB，jpg、png格式。")])])],1),l("el-row",e._l(e.model.imgs,(function(t,i){return l("el-col",{key:i,staticClass:"ya-file",attrs:{span:6}},[l("el-image",{staticClass:"ya-img-form",attrs:{src:t.file_url,"preview-src-list":[t.file_url],fit:"fill",title:"点击查看大图"}}),l("div",[l("span",{staticClass:"ya-file-name",attrs:{title:t.file_name+"."+t.file_ext}},[e._v(" "+e._s(t.file_name)+"."+e._s(t.file_ext)+" ")]),l("el-link",{staticClass:"ya-file-link",attrs:{href:t.file_url,underline:!1,download:t.file_url,target:"_blank"}},[e._v(" 下载 ")]),l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileDelete(i,"imgs")}}},[e._v("删除")])],1)],1)})),1)],1),l("el-form-item",{attrs:{label:"排序",prop:"sort"}},[l("el-input",{attrs:{placeholder:"250",clearable:""},model:{value:e.model.sort,callback:function(t){e.$set(e.model,"sort",t)},expression:"model.sort"}})],1),e.model[e.idkey]?l("el-form-item",{attrs:{label:"添加时间",prop:"create_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.create_time,callback:function(t){e.$set(e.model,"create_time",t)},expression:"model.create_time"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"修改时间",prop:"update_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.update_time,callback:function(t){e.$set(e.model,"update_time",t)},expression:"model.update_time"}})],1):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.cancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1),l("el-dialog",{attrs:{title:e.fileTitle,visible:e.fileDialog,width:"80%",top:"1vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.fileDialog=t}}},[l("file-manage",{attrs:{"file-type":e.fileType},on:{fileCancel:e.fileCancel,fileSubmit:e.fileSubmit}})],1)],1)},a=[],o=(l("209b"),l("a256"),l("44de"),l("3b45"),l("4f69"),l("98b1")),s=l("3659"),n=l("ed08"),r=l("b775"),c="/admin/cms.Category/";function d(e){return Object(r["a"])({url:c+"list",method:"get",params:e})}function u(e){return Object(r["a"])({url:c+"info",method:"get",params:e})}function m(e){return Object(r["a"])({url:c+"add",method:"post",data:e})}function p(e){return Object(r["a"])({url:c+"edit",method:"post",data:e})}function f(e){return Object(r["a"])({url:c+"dele",method:"post",data:e})}function h(e){return Object(r["a"])({url:c+"pid",method:"post",data:e})}function b(e){return Object(r["a"])({url:c+"ishide",method:"post",data:e})}function g(e){return Object(r["a"])({url:c+"recover",method:"get",params:e})}function _(e){return Object(r["a"])({url:c+"recoverReco",method:"post",data:e})}function v(e){return Object(r["a"])({url:c+"recoverDele",method:"post",data:e})}var y={name:"CmsCategory",components:{FileManage:s["a"]},directives:{},data:function(){return{name:"内容分类",recycle:0,height:680,loading:!1,idkey:"category_id",data:[],query:{search_field:"category_name",date_field:"create_time"},dialog:!1,dialogTitle:"",model:{category_id:"",category_pid:0,category_name:"",img_id:0,title:"",keywords:"",description:"",imgs:[],sort:250},rules:{category_name:[{required:!0,message:"请输入分类名称",trigger:"blur"}]},trees:[],props:{checkStrictly:!0,value:"category_id",label:"category_name"},isExpandAll:!1,selection:[],selectIds:"",selectTitle:"选中操作",selectDialog:!1,selectType:"",category_pid:"",is_hide:0,fileDialog:!1,fileTitle:"文件管理",fileType:"image",fileField:""}},created:function(){this.recycle=this.$route.meta.query.recycle,this.height=Object(o["a"])(),this.list()},methods:{list:function(){var e=this;this.loading=!0,this.recycle?g(this.query).then((function(t){e.data=t.data.list,e.trees=t.data.tree,e.isExpandAll=!1,e.loading=!1})).catch((function(){e.loading=!1})):d(this.query).then((function(t){e.data=t.data.list,e.trees=t.data.tree,e.isExpandAll=!1,e.loading=!1})).catch((function(){e.loading=!1}))},add:function(e){this.dialog=!0,this.dialogTitle=this.name+"添加",this.model=this.$options.data().model,e&&(this.model.category_pid=e[this.idkey])},edit:function(e){var t=this;this.dialog=!0,this.dialogTitle=this.name+"修改："+e[this.idkey];var l={};l[this.idkey]=e[this.idkey],u(l).then((function(e){t.reset(e.data)})).catch((function(){}))},cancel:function(){this.reset(),this.dialog=!1},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,e.model[e.idkey]?p(e.model).then((function(t){e.list(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})):m(e.model).then((function(t){e.list(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},reset:function(e){this.model=e||this.$options.data().model,void 0!==this.$refs["ref"]&&(this.$refs["ref"].resetFields(),this.$refs["ref"].clearValidate())},search:function(){this.list()},refresh:function(){this.query=this.$options.data().query,this.list()},expandAll:function(e){this.expandFor(this.data,!e)},expandFor:function(e,t){var l=this;e.forEach((function(e){l.$refs.table.toggleRowExpansion(e,t),e.children&&l.expandFor(e.children,t)}))},select:function(e){this.selection=e,this.selectIds=this.selectGetIds(e).toString()},selectGetIds:function(e){return Object(n["a"])(e,this.idkey)},selectAlert:function(){this.$alert("请选择需要操作的"+this.name,"提示",{type:"warning",callback:function(e){}})},selectOpen:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&(this.$refs["table"].clearSelection(),this.$refs["table"].toggleRowSelection(t)),this.selection.length?(this.selectTitle="选中操作","editpid"===e?this.selectTitle="修改上级":"ishide"===e?this.selectTitle="是否隐藏":"dele"===e?this.selectTitle="删除"+this.name:"reco"===e&&(this.selectTitle="恢复"+this.name),this.selectDialog=!0,this.selectType=e):this.selectAlert()},selectCancel:function(){this.selectDialog=!1},selectSubmit:function(){if(this.selection.length){var e=this.selectType;"editpid"===e?this.editpid(this.selection):"ishide"===e?this.ishide(this.selection,!0):"dele"===e?this.dele(this.selection):"reco"===e&&this.reco(this.selection),this.selectDialog=!1}else this.selectAlert()},editpid:function(e){var t=this;h({ids:this.selectGetIds(e),category_pid:this.category_pid}).then((function(e){t.list(),t.selectDialog=!1,t.$message.success(e.msg)})).catch((function(){t.loading=!1}))},ishide:function(e){var t=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e.length)this.selectAlert();else{this.loading=!0;var i=e[0].is_hide;l&&(i=this.is_hide),b({ids:this.selectGetIds(e),is_hide:i}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.list()}))}},reco:function(e){var t=this;e.length?_({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1})):this.selectAlert()},dele:function(e){var t=this;e.length?this.recycle?v({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1})):f({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1})):this.selectAlert()},pidQuery:function(e){e&&(this.query.search_value=e[e.length-1])},pidEdit:function(e){e&&(this.model.category_pid=e[e.length-1])},pidSelect:function(e){e&&(this.category_pid=e[e.length-1])},fileUpload:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"文件管理";this.fileType=e,this.fileField=t,this.fileTitle=l,this.fileDialog=!0},fileCancel:function(){this.fileType="image",this.fileField="",this.fileTitle="文件管理",this.fileDialog=!1},fileSubmit:function(e,t){var l=this.fileField,i=e.length;if(i)for(var a=0;a<i;a++)"img_id"===l?(this.model.img_id=e[a]["file_id"],this.model.img_url=e[a]["file_url"]):"imgs"===l&&this.model.imgs.push(e[a]);this.fileDialog=!1},fileDelete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";"img_id"===t?(this.model.img_id=0,this.model.img_url=""):"imgs"===t&&this.model.imgs.splice(e,1)}}},k=y,x=(l("5577"),l("cba8")),w=Object(x["a"])(k,i,a,!1,null,"c557083c",null);t["default"]=w.exports},"7aae":function(e,t,l){"use strict";l.d(t,"d",(function(){return o})),l.d(t,"c",(function(){return s})),l.d(t,"b",(function(){return n})),l.d(t,"a",(function(){return r})),l.d(t,"e",(function(){return c}));var i=l("b775"),a="/admin/admin.UserLog/";function o(e){return Object(i["a"])({url:a+"list",method:"get",params:e})}function s(e){return Object(i["a"])({url:a+"info",method:"get",params:e})}function n(e){return Object(i["a"])({url:a+"dele",method:"post",data:e})}function r(e){return Object(i["a"])({url:a+"clear",method:"post",data:e})}function c(e){return Object(i["a"])({url:a+"stat",method:"post",data:e})}},"7e08":function(e,t,l){},"7f0d":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",[l("el-row",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("el-col",{attrs:{xs:24,sm:22,md:20,lg:16,xl:12}},[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"120px"}},[l("el-form-item",{attrs:{label:"注册",prop:"is_register"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.model.is_register,callback:function(t){e.$set(e.model,"is_register",t)},expression:"model.is_register"}}),l("span",[e._v(" 关闭后，不能再注册（用户名、手机、邮箱）。")])],1),l("el-form-item",{attrs:{label:"登录",prop:"is_login"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.model.is_login,callback:function(t){e.$set(e.model,"is_login",t)},expression:"model.is_login"}}),l("span",[e._v(" 关闭后，不能再登录（用户名、手机、邮箱）。")])],1),l("el-form-item",{attrs:{label:"公众号注册",prop:"is_offi_register"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.model.is_offi_register,callback:function(t){e.$set(e.model,"is_offi_register",t)},expression:"model.is_offi_register"}}),l("span",[e._v(" 关闭后，不能再注册（公众号）。")])],1),l("el-form-item",{attrs:{label:"公众号登录",prop:"is_offi_login"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.model.is_offi_login,callback:function(t){e.$set(e.model,"is_offi_login",t)},expression:"model.is_offi_login"}}),l("span",[e._v(" 关闭后，不能再登录（公众号）。")])],1),l("el-form-item",{attrs:{label:"小程序注册",prop:"is_mini_register"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.model.is_mini_register,callback:function(t){e.$set(e.model,"is_mini_register",t)},expression:"model.is_mini_register"}}),l("span",[e._v(" 关闭后，不能再注册（小程序）。")])],1),l("el-form-item",{attrs:{label:"小程序登录",prop:"is_mini_login"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.model.is_mini_login,callback:function(t){e.$set(e.model,"is_mini_login",t)},expression:"model.is_mini_login"}}),l("span",[e._v(" 关闭后，不能再登录（小程序）。")])],1),l("el-form-item",[l("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1)],1)],1)],1)},a=[],o=l("98b1"),s=l("604d"),n={name:"SettingSettingLogreg",components:{},data:function(){return{name:"登录注册设置",height:680,loading:!1,model:{is_register:1,is_login:1,is_offi_register:1,is_offi_login:1,is_mini_register:1,is_mini_login:1},rules:{}}},created:function(){this.height=Object(o["a"])(210),this.info()},methods:{info:function(){var e=this;Object(s["j"])().then((function(t){e.model=t.data}))},refresh:function(){var e=this;this.loading=!0,Object(s["j"])().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(s["i"])(e.model).then((function(t){e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},r=n,c=l("cba8"),d=Object(c["a"])(r,i,a,!1,null,null,null);t["default"]=d.exports},"80c2":function(e,t,l){"use strict";l("1409")},8229:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dialog-body",style:{height:e.height+"px"}},[l("el-row",[l("el-col",{attrs:{xs:24,sm:22,md:20,lg:16,xl:12}},[l("el-form",{ref:"ref",attrs:{"label-width":"120px"}},[l("el-form-item",{attrs:{label:"设置主题"}},[l("theme-picker",{on:{change:e.themeChange}}),l("span",[e._v(" 设置主题（部分样式）")])],1),l("el-form-item",{attrs:{label:"便签导航"}},[l("el-switch",{staticClass:"drawer-switch",model:{value:e.tagsView,callback:function(t){e.tagsView=t},expression:"tagsView"}}),l("span",[e._v(" 是否显示便签导航")])],1),l("el-form-item",{attrs:{label:"固定头部"}},[l("el-switch",{staticClass:"drawer-switch",model:{value:e.fixedHeader,callback:function(t){e.fixedHeader=t},expression:"fixedHeader"}}),l("span",[e._v(" 便签导航和头部是否固定")])],1),l("el-form-item",{attrs:{label:"logo名称"}},[l("el-switch",{staticClass:"drawer-switch",model:{value:e.sidebarLogo,callback:function(t){e.sidebarLogo=t},expression:"sidebarLogo"}}),l("span",[e._v(" 左上角是否显示logo名称")])],1),l("el-form-item",{attrs:{label:"本地缓存"}},[l("el-button",{attrs:{loading:e.loading,type:"primary",size:"mini"},on:{click:e.localCacheClear}},[e._v("清除")]),l("span",[e._v(" 清除后需要重新登录")])],1)],1)],1)],1)],1)],1)},a=[],o=(l("9afd"),l("eb85"),l("98b1")),s=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-color-picker",{staticClass:"theme-picker",attrs:{predefine:["#409EFF","#1890ff","#304156","#212121","#11a983","#13c2c2","#6959CD","#f5222d"],"popper-class":"theme-picker-dropdown"},model:{value:e.theme,callback:function(t){e.theme=t},expression:"theme"}})},n=[],r=l("d941"),c=l("c3ae"),d=(l("0aef"),l("f8d4"),l("a256"),l("3a68"),l("d460"),l("83e8"),l("094c"),l("c743"),l("3b45"),l("44de"),l("b782"),l("1ce2"),l("ba60"),l("8f06"),l("b938").version),u="#409EFF",m={data:function(){return{chalk:"",theme:""}},computed:{defaultTheme:function(){return this.$store.state.settings.theme}},watch:{defaultTheme:{handler:function(e,t){this.theme=e},immediate:!0},theme:function(e){var t=this;return Object(c["a"])(Object(r["a"])().mark((function l(){var i,a,o,s,n,c,m,p;return Object(r["a"])().wrap((function(l){while(1)switch(l.prev=l.next){case 0:if(i=t.chalk?t.theme:u,"string"===typeof e){l.next=3;break}return l.abrupt("return");case 3:if(a=t.getThemeCluster(e.replace("#","")),o=t.getThemeCluster(i.replace("#","")),s=t.$message({message:"  Compiling the theme",customClass:"theme-message",type:"success",duration:0,iconClass:"el-icon-loading"}),n=function(e,l){return function(){var i=t.getThemeCluster(u.replace("#","")),o=t.updateStyle(t[e],i,a),s=document.getElementById(l);s||(s=document.createElement("style"),s.setAttribute("id",l),document.head.appendChild(s)),s.innerText=o}},t.chalk){l.next=11;break}return c="https://unpkg.com/element-ui@".concat(d,"/lib/theme-chalk/index.css"),l.next=11,t.getCSSString(c,"chalk");case 11:m=n("chalk","chalk-style"),m(),p=[].slice.call(document.querySelectorAll("style")).filter((function(e){var t=e.innerText;return new RegExp(i,"i").test(t)&&!/Chalk Variables/.test(t)})),p.forEach((function(e){var l=e.innerText;"string"===typeof l&&(e.innerText=t.updateStyle(l,o,a))})),t.$emit("change",e),s.close();case 17:case"end":return l.stop()}}),l)})))()}},methods:{updateStyle:function(e,t,l){var i=e;return t.forEach((function(e,t){i=i.replace(new RegExp(e,"ig"),l[t])})),i},getCSSString:function(e,t){var l=this;return new Promise((function(i){var a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&200===a.status&&(l[t]=a.responseText.replace(/@font-face{[^}]+}/,""),i())},a.open("GET",e),a.send()}))},getThemeCluster:function(e){for(var t=function(e,t){var l=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),a=parseInt(e.slice(4,6),16);return 0===t?[l,i,a].join(","):(l+=Math.round(t*(255-l)),i+=Math.round(t*(255-i)),a+=Math.round(t*(255-a)),l=l.toString(16),i=i.toString(16),a=a.toString(16),"#".concat(l).concat(i).concat(a))},l=function(e,t){var l=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),a=parseInt(e.slice(4,6),16);return l=Math.round((1-t)*l),i=Math.round((1-t)*i),a=Math.round((1-t)*a),l=l.toString(16),i=i.toString(16),a=a.toString(16),"#".concat(l).concat(i).concat(a)},i=[e],a=0;a<=9;a++)i.push(t(e,Number((a/10).toFixed(2))));return i.push(l(e,.1)),i}}},p=m,f=(l("06c2"),l("cba8")),h=Object(f["a"])(p,s,n,!1,null,null,null),b=h.exports,g={name:"AdminUserCenterSetting",components:{ThemePicker:b},data:function(){return{name:"我的设置",height:680,loading:!1}},computed:{tagsView:{get:function(){return this.$store.state.settings.tagsView},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"tagsView",value:e})}},fixedHeader:{get:function(){return this.$store.state.settings.fixedHeader},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"fixedHeader",value:e})}},sidebarLogo:{get:function(){return this.$store.state.settings.sidebarLogo},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"sidebarLogo",value:e})}}},created:function(){this.height=Object(o["a"])(180)},methods:{themeChange:function(e){this.$store.dispatch("settings/changeSetting",{key:"theme",value:e})},localCacheClear:function(){this.loading=!0,localStorage.clear(),sessionStorage.clear();var e=document.cookie.match(/[^ =;]+(?=\=)/g);if(e)for(var t=e.length;t--;)document.cookie=e[t]+"=0;path=/;expires="+new Date(0).toUTCString(),document.cookie=e[t]+"=0;path=/;domain="+document.domain+";expires="+new Date(0).toUTCString();this.$router.push("/login"),this.loading=!1,this.$message.success("本地缓存已清除")}}},_=g,v=Object(f["a"])(_,i,a,!1,null,null,null);t["default"]=v.exports},"840d8":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"120px"}},[l("el-form-item",{attrs:{label:"验证码开关",prop:"captcha_switch"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.model.captcha_switch,callback:function(t){e.$set(e.model,"captcha_switch",t)},expression:"model.captcha_switch"}}),l("span",{staticStyle:{"margin-left":"180px"}},[e._v("开启后，后台登录需要输入验证码。")])],1),l("el-form-item",{attrs:{label:"验证码类型",prop:"captcha_type"}},[l("el-select",{attrs:{placeholder:""},model:{value:e.model.captcha_type,callback:function(t){e.$set(e.model,"captcha_type",t)},expression:"model.captcha_type"}},e._l(e.type,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),l("el-form-item",[l("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1)],1)},a=[],o=l("98b1"),s=l("5a2e"),n={name:"AdminSettingCaptcha",components:{},data:function(){return{name:"验证码设置",height:680,loading:!1,model:{captcha_switch:0,captcha_type:1},rules:{},type:[{value:1,label:"数字"},{value:2,label:"字母"},{value:3,label:"数字字母"},{value:4,label:"算术"},{value:5,label:"中文"}]}},created:function(){this.height=Object(o["a"])(180),this.info()},methods:{info:function(){var e=this;Object(s["f"])().then((function(t){e.model=t.data}))},refresh:function(){var e=this;this.loading=!0,Object(s["f"])().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(s["e"])(e.model).then((function(t){e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},r=n,c=l("cba8"),d=Object(c["a"])(r,i,a,!1,null,null,null);t["default"]=d.exports},"855d":function(e,t,l){},"85be":function(e,t,l){},8882:function(e,t,l){},"889d":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",[l("el-form",{ref:"ref",staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{model:e.model,rules:e.rules,"label-width":"130px"}},[l("el-form-item",{attrs:{label:"名称",prop:"name"}},[l("el-col",{attrs:{span:10}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.name,t)}},slot:"append"})],1)],1),l("el-col",{attrs:{span:13}})],1),l("el-form-item",{attrs:{label:"原始ID",prop:"origin_id"}},[l("el-col",{attrs:{span:10}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.origin_id,callback:function(t){e.$set(e.model,"origin_id",t)},expression:"model.origin_id"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.origin_id,t)}},slot:"append"})],1)],1),l("el-col",{attrs:{span:13}})],1),l("el-form-item",{attrs:{label:"小程序码",prop:"qrcode_url"}},[l("el-col",{attrs:{span:12}},[l("el-col",{attrs:{span:10}},[l("el-image",{staticClass:"ya-img-form",attrs:{src:e.model.qrcode_url,"preview-src-list":[e.model.qrcode_url],title:"点击查看大图"}},[l("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[l("i",{staticClass:"el-icon-picture-outline"})])])],1),l("el-col",{attrs:{span:13}},[l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileUpload()}}},[e._v("上传小程序码")]),l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileDelete()}}},[e._v("删除")]),l("p",[e._v("jpg、png图片，小于200kb。")])],1)],1)],1),l("el-form-item",{attrs:{label:"AppID",prop:"appid"}},[l("el-col",{attrs:{span:10}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.appid,callback:function(t){e.$set(e.model,"appid",t)},expression:"model.appid"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.appid,t)}},slot:"append"})],1)],1),l("el-col",{attrs:{span:13}})],1),l("el-form-item",{attrs:{label:"AppSecret",prop:"appsecret"}},[l("el-col",{attrs:{span:10}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.appsecret,callback:function(t){e.$set(e.model,"appsecret",t)},expression:"model.appsecret"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.appsecret,t)}},slot:"append"})],1)],1),l("el-col",{attrs:{span:13}})],1)],1),l("el-form",{ref:"form",attrs:{"label-width":"120px"}},[l("el-form-item",[l("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1),l("el-dialog",{attrs:{title:"上传二维码",visible:e.fileDialog,width:"80%",top:"1vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.fileDialog=t}}},[l("file-manage",{attrs:{"file-type":"image"},on:{fileCancel:e.fileCancel,fileSubmit:e.fileSubmit}})],1)],1)},a=[],o=l("98b1"),s=l("f71e"),n=l("3659"),r=l("f293"),c={name:"SettingWechatMini",components:{FileManage:n["a"]},data:function(){return{name:"微信小程序",height:680,loading:!1,model:{name:"",origin_id:"",qrcode_id:0,qrcode_url:"",appid:"",appsecret:""},rules:{appid:[{required:!0,message:"请输入appid",trigger:"blur"}],appsecret:[{required:!0,message:"请输入appsecret",trigger:"blur"}]},fileDialog:!1}},created:function(){this.height=Object(o["a"])(270),this.info()},methods:{info:function(){var e=this;Object(r["b"])().then((function(t){e.model=t.data}))},refresh:function(){var e=this;this.loading=!0,Object(r["b"])().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(r["a"])(e.model).then((function(t){e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},fileUpload:function(){this.fileDialog=!0},fileCancel:function(){this.fileDialog=!1},fileSubmit:function(e){this.fileDialog=!1,this.model.qrcode_id=e[0]["file_id"],this.model.qrcode_url=e[0]["file_url"]},fileDelete:function(){this.model.qrcode_id=0,this.model.qrcode_url=""},copy:function(e,t){e?Object(s["a"])(e,t):this.$message.error("内容为空")}}},d=c,u=l("cba8"),m=Object(u["a"])(d,i,a,!1,null,"33fbd6d8",null);t["default"]=m.exports},"88b5":function(e,t,l){"use strict";l.d(t,"d",(function(){return o})),l.d(t,"c",(function(){return s})),l.d(t,"b",(function(){return n})),l.d(t,"a",(function(){return r})),l.d(t,"e",(function(){return c}));var i=l("b775"),a="/admin/member.Log/";function o(e){return Object(i["a"])({url:a+"list",method:"get",params:e})}function s(e){return Object(i["a"])({url:a+"info",method:"get",params:e})}function n(e){return Object(i["a"])({url:a+"dele",method:"post",data:e})}function r(e){return Object(i["a"])({url:a+"clear",method:"post",data:e})}function c(e){return Object(i["a"])({url:a+"stat",method:"get",params:e})}},"8cc9":function(e,t,l){"use strict";l.d(t,"d",(function(){return o})),l.d(t,"e",(function(){return s})),l.d(t,"f",(function(){return n})),l.d(t,"a",(function(){return r})),l.d(t,"b",(function(){return c})),l.d(t,"c",(function(){return d}));var i=l("b775"),a="/admin/admin.Utils/";function o(e){return Object(i["a"])({url:a+"strrand",method:"post",data:e})}function s(e){return Object(i["a"])({url:a+"strtran",method:"post",data:e})}function n(e){return Object(i["a"])({url:a+"timestamp",method:"post",data:e})}function r(e){return Object(i["a"])({url:a+"bytetran",method:"post",data:e})}function c(e){return Object(i["a"])({url:a+"ipinfo",method:"post",data:e})}function d(e){return Object(i["a"])({url:a+"server",method:"get",params:e})}},"8d83":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("div",{attrs:{slot:"header"},slot:"header"},[l("span",[e._v("生成二维码")])]),l("div",[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"文本内容",prop:"str"}},[l("el-input",{attrs:{placeholder:"请输入文本内容",clearable:""},model:{value:e.model.str,callback:function(t){e.$set(e.model,"str",t)},expression:"model.str"}})],1),l("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{id:"qrcode",label:"二维码",prop:"value"}},[l("el-col",{attrs:{span:12}},[e.model.value?l("qrcode-vue",{attrs:{size:e.model.size},model:{value:e.model.value,callback:function(t){e.$set(e.model,"value",t)},expression:"model.value"}}):l("div",{staticStyle:{width:"213px",height:"213px"}})],1),l("el-col",{attrs:{span:12}},[l("el-button",{attrs:{id:"download"},on:{click:function(t){return e.download()}}},[e._v("下载")])],1)],1),l("el-form-item",[l("el-button",{on:{click:function(t){return e.clear()}}},[e._v("清空")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("生成")])],1)],1)],1)])},a=[],o=l("98b1"),s=l("98ad"),n={name:"AdminUtilsQrcode",components:{QrcodeVue:s["a"]},data:function(){return{name:"二维码",height:680,model:{str:"",url:"",value:"",size:200},rules:{}}},created:function(){this.height=Object(o["a"])(180)},methods:{clear:function(){this.model.str="",this.model.value=""},download:function(){if(this.model.value){var e=document.getElementById("qrcode").getElementsByTagName("canvas"),t=document.createElement("a");t.href=e[0].toDataURL("img/png"),t.download="二维码qrcode",t.click()}else this.$message.error("请生成二维码")},submit:function(){this.model.str||(this.model.str="https://gitee.com/skyselang/yylAdmin"),this.model.value=this.model.str}}},r=n,c=l("cba8"),d=Object(c["a"])(r,i,a,!1,null,"32011662",null);t["default"]=d.exports},"8ff7":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"filter-container"},[l("el-row",[l("el-col",[l("el-select",{staticClass:"filter-item ya-search-field",attrs:{placeholder:"搜索字段"},model:{value:e.query.search_field,callback:function(t){e.$set(e.query,"search_field",t)},expression:"query.search_field"}},[l("el-option",{attrs:{value:"username",label:"账号"}}),l("el-option",{attrs:{value:"nickname",label:"昵称"}}),l("el-option",{attrs:{value:"phone",label:"手机"}}),l("el-option",{attrs:{value:"email",label:"邮箱"}}),l("el-option",{attrs:{value:"is_super",label:"超管"}}),l("el-option",{attrs:{value:"is_disable",label:"禁用"}}),l("el-option",{attrs:{value:e.idkey,label:"ID"}})],1),"is_super"===e.query.search_field||"is_disable"===e.query.search_field?l("el-select",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"请选择"},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}},[l("el-option",{attrs:{value:1,label:"是"}}),l("el-option",{attrs:{value:0,label:"否"}})],1):l("el-input",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"搜索内容",clearable:""},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}}),l("el-select",{staticClass:"filter-item ya-date-field",attrs:{placeholder:"时间类型"},model:{value:e.query.date_field,callback:function(t){e.$set(e.query,"date_field",t)},expression:"query.date_field"}},[l("el-option",{attrs:{value:"create_time",label:"添加时间"}}),l("el-option",{attrs:{value:"update_time",label:"修改时间"}}),l("el-option",{attrs:{value:"login_time",label:"登录时间"}}),l("el-option",{attrs:{value:"logout_time",label:"退出时间"}})],1),l("el-date-picker",{staticClass:"filter-item ya-date-value",attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.query.date_value,callback:function(t){e.$set(e.query,"date_value",t)},expression:"query.date_value"}}),l("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")]),l("el-button",{staticClass:"filter-item",on:{click:function(t){return e.refresh()}}},[e._v("刷新")])],1)],1),l("el-row",[l("el-col",[l("el-button",{attrs:{title:"重置密码"},on:{click:function(t){return e.selectOpen("password")}}},[e._v("密码")]),l("el-button",{attrs:{title:"是否超管"},on:{click:function(t){return e.selectOpen("super")}}},[e._v("超管")]),l("el-button",{attrs:{title:"是否禁用"},on:{click:function(t){return e.selectOpen("disable")}}},[e._v("禁用")]),l("el-button",{attrs:{title:"删除"},on:{click:function(t){return e.selectOpen("dele")}}},[e._v("删除")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("添加")])],1)],1),l("el-dialog",{attrs:{title:e.selectTitle,visible:e.selectDialog,top:"20vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.selectDialog=t}}},[l("el-form",{ref:"selectRef",attrs:{"label-width":"120px"}},[l("el-form-item",{attrs:{label:e.name+"ID",prop:""}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:12},disabled:""},model:{value:e.selectIds,callback:function(t){e.selectIds=t},expression:"selectIds"}})],1),"password"===e.selectType?l("el-form-item",{attrs:{label:"新密码",prop:"password"}},[l("el-input",{attrs:{placeholder:"请输入新密码",clearable:"","show-password":""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1):"super"===e.selectType?l("el-form-item",{attrs:{label:"是否超管",prop:""}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.is_super,callback:function(t){e.is_super=t},expression:"is_super"}})],1):"disable"===e.selectType?l("el-form-item",{attrs:{label:"是否禁用",prop:""}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.is_disable,callback:function(t){e.is_disable=t},expression:"is_disable"}})],1):"dele"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[l("span",{staticStyle:{color:"red"}},[e._v("确定要删除选中的"+e._s(e.name)+"吗？")])]):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.selectCancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.selectSubmit}},[e._v("提交")])],1)],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.datas,height:e.height},on:{"sort-change":e.sort,"selection-change":e.select}},[l("el-table-column",{attrs:{type:"selection",width:"42",title:"全选/反选"}}),l("el-table-column",{attrs:{prop:e.idkey,label:"ID","min-width":"100",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"username",label:"账号","min-width":"120",sortable:"custom","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"nickname",label:"昵称","min-width":"120",sortable:"custom","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"email",label:"邮箱","min-width":"250",sortable:"custom","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"is_super",label:"超管","min-width":"75",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(l){return e.isSuper([t.row])}},model:{value:t.row.is_super,callback:function(l){e.$set(t.row,"is_super",l)},expression:"scope.row.is_super"}})]}}])}),l("el-table-column",{attrs:{prop:"is_disable",label:"禁用","min-width":"75",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(l){return e.isDisable([t.row])}},model:{value:t.row.is_disable,callback:function(l){e.$set(t.row,"is_disable",l)},expression:"scope.row.is_disable"}})]}}])}),l("el-table-column",{attrs:{prop:"sort",label:"排序",width:"75",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"login_num",label:"登录次数","min-width":"105",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"login_time",label:"登录时间","min-width":"160",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"create_tie",label:"添加时间","min-width":"160",sortable:"custom"}}),l("el-table-column",{attrs:{label:"操作","min-width":"160",align:"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.rule(i)}}},[e._v("权限")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.selectOpen("password",i)}}},[e._v("密码")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.edit(i)}}},[e._v("修改")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.selectOpen("dele",i)}}},[e._v("删除")])]}}])})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.count>0,expression:"count > 0"}],attrs:{total:e.count,page:e.query.page,limit:e.query.limit},on:{"update:page":function(t){return e.$set(e.query,"page",t)},"update:limit":function(t){return e.$set(e.query,"limit",t)},pagination:e.list}}),l("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialog,top:"5vh","before-close":e.cancel,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialog=t}}},[l("el-form",{ref:"ref",staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{model:e.model,rules:e.rules,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"头像",prop:"avatar_url"}},[l("el-col",{attrs:{span:10}},[e.model.avatar_url?l("el-avatar",{attrs:{shape:"circle",fit:"contain",size:100,src:e.model.avatar_url}}):l("el-avatar",{attrs:{icon:"el-icon-user-solid",size:100}})],1),l("el-col",{attrs:{span:14}},[l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileUpload()}}},[e._v("上传头像")]),l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileDelete("avatar")}}},[e._v("删除")]),l("p",[e._v("jpg、png图片，小于100kb，宽高1:1")])],1)],1),l("el-form-item",{attrs:{label:"账号",prop:"username"}},[l("el-input",{key:"username",attrs:{placeholder:"请输入账号",clearable:""},model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1),l("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[l("el-input",{key:"nickname",attrs:{placeholder:"请输入昵称",clearable:""},model:{value:e.model.nickname,callback:function(t){e.$set(e.model,"nickname",t)},expression:"model.nickname"}})],1),""==e.model[e.idkey]?l("el-form-item",{attrs:{label:"密码",prop:"password"}},[l("el-input",{key:"password",attrs:{placeholder:"请输入密码",clearable:"","show-password":""},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1):e._e(),l("el-form-item",{attrs:{label:"手机",prop:"phone"}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.phone,callback:function(t){e.$set(e.model,"phone",t)},expression:"model.phone"}})],1),l("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.email,callback:function(t){e.$set(e.model,"email",t)},expression:"model.email"}})],1),l("el-form-item",{attrs:{label:"备注",prop:"remark"}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.remark,callback:function(t){e.$set(e.model,"remark",t)},expression:"model.remark"}})],1),l("el-form-item",{attrs:{label:"排序",prop:"sort"}},[l("el-input",{attrs:{type:"number"},model:{value:e.model.sort,callback:function(t){e.$set(e.model,"sort",t)},expression:"model.sort"}})],1),e.model[e.idkey]?l("el-form-item",{attrs:{label:"登录IP",prop:"login_ip"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.login_ip,callback:function(t){e.$set(e.model,"login_ip",t)},expression:"model.login_ip"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"登录地区",prop:"login_region"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.login_region,callback:function(t){e.$set(e.model,"login_region",t)},expression:"model.login_region"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"登录时间",prop:"login_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.login_time,callback:function(t){e.$set(e.model,"login_time",t)},expression:"model.login_time"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"退出时间",prop:"logout_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.logout_time,callback:function(t){e.$set(e.model,"logout_time",t)},expression:"model.logout_time"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"添加时间",prop:"create_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.create_time,callback:function(t){e.$set(e.model,"create_time",t)},expression:"model.create_time"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"修改时间",prop:"update_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.update_time,callback:function(t){e.$set(e.model,"update_time",t)},expression:"model.update_time"}})],1):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.cancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1),l("el-dialog",{attrs:{title:"分配权限："+e.model[e.idkey],visible:e.ruleDialog,top:"5vh","close-on-click-modal":!1,"close-on-press-escape":!1,"destroy-on-close":""},on:{"update:visible":function(t){e.ruleDialog=t}}},[l("el-form",{ref:"roleRef",staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{model:e.model,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"账号"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1),l("el-form-item",{attrs:{label:"昵称"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.nickname,callback:function(t){e.$set(e.model,"nickname",t)},expression:"model.nickname"}})],1),l("el-form-item",{attrs:{label:"按角色"}},[l("el-checkbox-group",{model:{value:e.model.admin_role_ids,callback:function(t){e.$set(e.model,"admin_role_ids",t)},expression:"model.admin_role_ids"}},e._l(e.roleData,(function(t){return l("el-checkbox",{key:t.admin_role_id,attrs:{label:t.admin_role_id}},[e._v(e._s(t.role_name))])})),1)],1),l("el-form-item",{attrs:{label:"按菜单"}},[l("span",[l("el-checkbox",{attrs:{title:"全选/反选"},on:{change:e.menuCheckAllChange},model:{value:e.menuCheckAll,callback:function(t){e.menuCheckAll=t},expression:"menuCheckAll"}},[e._v("全选")]),l("el-checkbox",{attrs:{title:"收起/展开"},on:{change:e.menuExpandAllChange},model:{value:e.menuExpandAll,callback:function(t){e.menuExpandAll=t},expression:"menuExpandAll"}},[e._v("收起")])],1),l("el-tree",{ref:"menuRef",attrs:{data:e.menuData,props:e.menuProps,"default-checked-keys":e.model.admin_menu_ids,"expand-on-click-node":!1,"default-expand-all":!0,"check-strictly":!1,"node-key":"admin_menu_id","highlight-current":"","show-checkbox":""},on:{check:e.menuCheck},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,a=t.data;return l("span",{staticClass:"custom-tree-node"},[l("span",[e._v(e._s(i.label)),a.is_check?l("i",{staticClass:"el-icon-check",staticStyle:{color:"#1890ff"},attrs:{title:"已分配"}}):e._e()]),l("span",[a.is_role?l("i",{staticClass:"el-icon-s-custom",staticStyle:{"margin-left":"10px"},attrs:{title:"按角色"}}):e._e(),a.is_menu?l("i",{staticClass:"el-icon-menu",staticStyle:{"margin-left":"10px"},attrs:{title:"按菜单"}}):e._e(),a.menu_url?l("i",{staticClass:"el-icon-link",staticStyle:{"margin-left":"10px"},attrs:{title:a.menu_url}}):l("i",{staticClass:"el-icon-link",staticStyle:{"margin-left":"10px",color:"#fff"}}),a.is_unauth?l("i",{staticClass:"el-icon-unlock",staticStyle:{"margin-left":"10px"},attrs:{title:"免权"}}):l("i",{staticClass:"el-icon-unlock",staticStyle:{"margin-left":"10px",color:"#fff"}}),a.is_unlogin?l("i",{staticClass:"el-icon-user",staticStyle:{"margin-left":"10px"},attrs:{title:"免登"}}):l("i",{staticClass:"el-icon-user",staticStyle:{"margin-left":"10px",color:"#fff"}})])])}}])})],1)],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.ruleCancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.ruleSubmit}},[e._v("提交")])],1)],1),l("el-dialog",{attrs:{title:"上传头像",visible:e.fileDialog,top:"1vh",width:"80%","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.fileDialog=t}}},[l("file-manage",{attrs:{"file-type":"image"},on:{fileCancel:e.fileCancel,fileSubmit:e.fileSubmit}})],1)],1)},a=[],o=(l("209b"),l("a256"),l("3b45"),l("98b1")),s=l("333d"),n=l("3659"),r=l("ed08"),c=l("b775"),d="/admin/admin.User/";function u(e){return Object(c["a"])({url:d+"list",method:"get",params:e})}function m(e){return Object(c["a"])({url:d+"info",method:"get",params:e})}function p(e){return Object(c["a"])({url:d+"add",method:"post",data:e})}function f(e){return Object(c["a"])({url:d+"edit",method:"post",data:e})}function h(e){return Object(c["a"])({url:d+"dele",method:"post",data:e})}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get";return"post"===t?Object(c["a"])({url:d+"rule",method:"post",data:e}):Object(c["a"])({url:d+"rule",method:"get",params:e})}function g(e){return Object(c["a"])({url:d+"pwd",method:"post",data:e})}function _(e){return Object(c["a"])({url:d+"super",method:"post",data:e})}function v(e){return Object(c["a"])({url:d+"disable",method:"post",data:e})}var y={name:"AdminUser",components:{Pagination:s["a"],FileManage:n["a"]},data:function(){return{name:"用户",height:680,loading:!1,idkey:"admin_user_id",datas:[],count:0,query:{page:1,limit:15,search_field:"username",date_field:"create_time"},dialog:!1,dialogTitle:"",model:{admin_user_id:"",avatar_id:0,avatar_url:"",admin_role_ids:[],admin_menu_ids:[],menu_ids:[],username:"",nickname:"",password:"",phone:"",email:"",remark:"",sort:250,login_ip:"",login_region:"",login_time:"",logout_time:"",create_time:"",update_time:""},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},selection:[],selectIds:"",selectTitle:"选中操作",selectDialog:!1,selectType:"",password:"",is_super:0,is_disable:0,ruleDialog:!1,roleData:[],menuData:[],menuProps:{children:"children",label:"menu_name"},menuCheckAll:!1,menuExpandAll:!1,fileDialog:!1}},created:function(){this.height=Object(o["a"])(),this.list()},methods:{list:function(){var e=this;this.loading=!0,u(this.query).then((function(t){e.datas=t.data.list,e.count=t.data.count,e.loading=!1})).catch((function(){e.loading=!1}))},add:function(){this.dialog=!0,this.dialogTitle=this.name+"添加",this.reset()},edit:function(e){var t=this;this.dialog=!0,this.dialogTitle=this.name+"修改："+e[this.idkey];var l={};l[this.idkey]=e[this.idkey],m(l).then((function(e){t.reset(e.data)})),this.$refs["table"].clearSelection()},cancel:function(){this.dialog=!1,this.reset()},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,e.model.admin_user_id?f(e.model,"post").then((function(t){e.list(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})):p(e.model).then((function(t){e.list(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},reset:function(e){this.model=e||this.$options.data().model,void 0!==this.$refs["ref"]&&this.$refs["ref"].resetFields()},search:function(){this.query.page=1,this.list()},refresh:function(){this.query=this.$options.data().query,this.list()},sort:function(e){this.query.sort_field=e.prop,this.query.sort_value="","ascending"===e.order&&(this.query.sort_value="asc",this.list()),"descending"===e.order&&(this.query.sort_value="desc",this.list())},select:function(e){this.selection=e,this.selectIds=this.selectGetIds(e).toString()},selectGetIds:function(e){return Object(r["a"])(e,this.idkey)},selectAlert:function(){this.$alert("请选择需要操作的"+this.name,"提示",{type:"warning",callback:function(e){}})},selectOpen:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&(this.$refs["table"].clearSelection(),this.$refs["table"].toggleRowSelection(t)),this.selection.length?(this.selectTitle="选中操作","super"===e?this.selectTitle="是否超管":"password"===e?this.selectTitle="重置密码":"disable"===e?this.selectTitle="是否禁用":"dele"===e&&(this.selectTitle="删除"+this.name),this.selectDialog=!0,this.selectType=e):this.selectAlert()},selectCancel:function(){this.selectDialog=!1},selectSubmit:function(){if(this.selection.length){var e=this.selectType;"super"===e?this.isSuper(this.selection,!0):"password"===e?this.rePassword(this.selection,!0):"disable"===e?this.isDisable(this.selection,!0):"dele"===e&&this.dele(this.selection),this.selectDialog=!1}else this.selectAlert()},rePassword:function(e){var t=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.length){if(!this.password)return this.$message.error("请输入新密码"),!1;this.loading=!0;var i=e[0].password;l&&(i=this.password),g({ids:this.selectGetIds(e),password:i}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))}else this.selectAlert()},isSuper:function(e){var t=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.length){this.loading=!0;var i=e[0].is_super;l&&(i=this.is_super),_({ids:this.selectGetIds(e),is_super:i}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.list()}))}else this.selectAlert()},isDisable:function(e){var t=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.length){this.loading=!0;var i=e[0].is_disable;l&&(i=this.is_disable),v({ids:this.selectGetIds(e),is_disable:i}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.list()}))}else this.selectAlert()},dele:function(e){var t=this;e.length?(this.loading=!0,h({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))):this.selectAlert()},rule:function(e){var t=this;this.ruleDialog=!0,this.menuCheckAll=!1,this.menuExpandAll=!1;var l={};l[this.idkey]=e[this.idkey],b(l).then((function(l){t.model[t.idkey]=e[t.idkey],t.roleData=l.data.admin_role,t.menuData=l.data.admin_menu,t.model.username=l.data.username,t.model.nickname=l.data.nickname,t.model.menu_ids=l.data.menu_ids,t.model.admin_role_ids=l.data.admin_role_ids,t.model.admin_menu_ids=l.data.admin_menu_ids})),this.$refs["table"].clearSelection()},ruleCancel:function(){this.ruleDialog=!1,this.reset()},ruleSubmit:function(){var e=this;this.$refs["roleRef"].validate((function(t){t&&(e.loading=!0,b({admin_user_id:e.model.admin_user_id,admin_role_ids:e.model.admin_role_ids,admin_menu_ids:e.model.admin_menu_ids},"post").then((function(t){e.list(),e.ruleDialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},menuCheck:function(){this.menuCheckSetKeys()},menuCheckAllChange:function(){this.menuCheckAll?this.$refs.menuRef.setCheckedNodes(this.menuData):this.$refs.menuRef.setCheckedKeys([]),this.menuCheckSetKeys()},menuCheckSetKeys:function(){this.model.admin_menu_ids=this.$refs.menuRef.getCheckedKeys()},menuExpandAllChange:function(){for(var e=!this.menuExpandAll,t=this.$refs.menuRef.store._getAllNodes().length,l=0;l<t;l++)this.$refs.menuRef.store._getAllNodes()[l].expanded=e},fileUpload:function(){this.fileDialog=!0},fileCancel:function(){this.fileDialog=!1},fileSubmit:function(e){this.fileDialog=!1,this.model.avatar_id=e[0]["file_id"],this.model.avatar_url=e[0]["file_url"]},fileDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";"avatar"===e&&(this.model.avatar_id=0,this.model.avatar_url="")}}},k=y,x=(l("6a38"),l("cba8")),w=Object(x["a"])(k,i,a,!1,null,"7d355faa",null);t["default"]=w.exports},9401:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",[l("el-form",{ref:"ref",staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{model:e.model,rules:e.rules,"label-width":"130px"}},[l("el-form-item",{attrs:{label:"名称",prop:"name"}},[l("el-col",{attrs:{span:10}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.name,t)}},slot:"append"})],1)],1),l("el-col",{attrs:{span:13}})],1),l("el-form-item",{attrs:{label:"原始ID",prop:"origin_id"}},[l("el-col",{attrs:{span:10}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.origin_id,callback:function(t){e.$set(e.model,"origin_id",t)},expression:"model.origin_id"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.origin_id,t)}},slot:"append"})],1)],1),l("el-col",{attrs:{span:13}})],1),l("el-form-item",{attrs:{label:"二维码",prop:"qrcode_url"}},[l("el-col",{attrs:{span:12}},[l("el-col",{attrs:{span:10}},[l("el-image",{staticClass:"ya-img-form",attrs:{src:e.model.qrcode_url,"preview-src-list":[e.model.qrcode_url],title:"点击查看大图"}},[l("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[l("i",{staticClass:"el-icon-picture-outline"})])])],1),l("el-col",{attrs:{span:13}},[l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileUpload()}}},[e._v("上传二维码")]),l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.fileDelete()}}},[e._v("删除")]),l("p",[e._v("jpg、png图片，小于200kb。")])],1)],1)],1),l("el-form-item",{attrs:{label:"AppID",prop:"appid"}},[l("el-col",{attrs:{span:10}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.appid,callback:function(t){e.$set(e.model,"appid",t)},expression:"model.appid"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.appid,t)}},slot:"append"})],1)],1),l("el-col",{attrs:{span:13}})],1),l("el-form-item",{attrs:{label:"AppSecret",prop:"appsecret"}},[l("el-col",{attrs:{span:10}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.appsecret,callback:function(t){e.$set(e.model,"appsecret",t)},expression:"model.appsecret"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.appsecret,t)}},slot:"append"})],1)],1),l("el-col",{attrs:{span:13}})],1),l("el-form-item",{attrs:{label:"服务器地址(URL)",prop:"server_url"}},[l("el-col",{attrs:{span:10}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.server_url,callback:function(t){e.$set(e.model,"server_url",t)},expression:"model.server_url"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.server_url,t)}},slot:"append"})],1)],1),l("el-col",{attrs:{span:13}})],1),l("el-form-item",{attrs:{label:"令牌(Token)",prop:"token"}},[l("el-col",{attrs:{span:10}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.token,callback:function(t){e.$set(e.model,"token",t)},expression:"model.token"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.token,t)}},slot:"append"})],1)],1),l("el-col",{attrs:{span:13}})],1),l("el-form-item",{attrs:{label:"消息加解密密钥",prop:"encoding_aes_key"}},[l("el-col",{attrs:{span:10}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.encoding_aes_key,callback:function(t){e.$set(e.model,"encoding_aes_key",t)},expression:"model.encoding_aes_key"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.encoding_aes_key,t)}},slot:"append"})],1)],1),l("el-col",{attrs:{span:13}})],1),l("el-form-item",{attrs:{label:"消息加解密方式",prop:"encoding_aes_type"}},[l("el-col",{attrs:{span:10}},[l("el-radio-group",{model:{value:e.model.encoding_aes_type,callback:function(t){e.$set(e.model,"encoding_aes_type",t)},expression:"model.encoding_aes_type"}},e._l(e.encoding_aes_types,(function(t){return l("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),l("el-col",{attrs:{span:13}})],1)],1),l("el-form",{ref:"form",attrs:{"label-width":"120px"}},[l("el-form-item",[l("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1),l("el-dialog",{attrs:{title:"上传二维码",visible:e.fileDialog,width:"80%",top:"1vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.fileDialog=t}}},[l("file-manage",{attrs:{"file-type":"image"},on:{fileCancel:e.fileCancel,fileSubmit:e.fileSubmit}})],1)],1)},a=[],o=l("98b1"),s=l("f71e"),n=l("3659"),r=l("f293"),c={name:"SettingWechatOffi",components:{FileManage:n["a"]},data:function(){return{name:"微信公众号",height:680,loading:!1,model:{name:"",origin_id:"",qrcode_id:0,qrcode_url:"",appid:"",appsecret:"",server_url:"",token:"",encoding_aes_key:"",encoding_aes_type:1},rules:{appid:[{required:!0,message:"请输入appid",trigger:"blur"}],appsecret:[{required:!0,message:"请输入appsecret",trigger:"blur"}]},encoding_aes_types:[{value:1,label:"明文模式"},{value:2,label:"兼容模式"},{value:3,label:"安全模式"}],fileDialog:!1}},created:function(){this.height=Object(o["a"])(270),this.info()},methods:{info:function(){var e=this;Object(r["d"])().then((function(t){e.model=t.data}))},refresh:function(){var e=this;this.loading=!0,Object(r["d"])().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(r["c"])(e.model).then((function(t){e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},fileUpload:function(){this.fileDialog=!0},fileCancel:function(){this.fileDialog=!1},fileSubmit:function(e){this.fileDialog=!1,e&&(this.model.qrcode_id=e[0]["file_id"],this.model.qrcode_url=e[0]["file_url"])},fileDelete:function(){this.model.qrcode_id=0,this.model.qrcode_url=""},copy:function(e,t){e?Object(s["a"])(e,t):this.$message.error("内容为空")}}},d=c,u=l("cba8"),m=Object(u["a"])(d,i,a,!1,null,"764a843f",null);t["default"]=m.exports},9624:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"120px"}},[l("el-form-item",{attrs:{label:"缓存类型",prop:"cache_type"}},[l("el-col",{attrs:{span:8}},[l("el-input",{model:{value:e.model.cache_type,callback:function(t){e.$set(e.model,"cache_type",t)},expression:"model.cache_type"}})],1),l("el-col",{attrs:{span:16}})],1),l("el-form-item",{attrs:{label:"",prop:""}},[l("el-col",{attrs:{span:8}},[e._v(" 手动清除所有缓存，后台登录状态不会清除。 ")]),l("el-col",{attrs:{span:16}})],1),l("el-form-item",{attrs:{label:""}},[l("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.clear()}}},[e._v("清除")])],1)],1)],1)},a=[],o=l("98b1"),s=l("5a2e"),n={name:"AdminSettingCache",components:{},data:function(){return{name:"缓存设置",height:680,loading:!1,model:{cache_type:""},rules:{}}},created:function(){this.height=Object(o["a"])(180),this.info()},methods:{info:function(){var e=this;Object(s["d"])().then((function(t){e.model=t.data}))},refresh:function(){var e=this;this.loading=!0,Object(s["d"])().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},clear:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(s["c"])().then((function(t){e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},r=n,c=l("cba8"),d=Object(c["a"])(r,i,a,!1,null,null,null);t["default"]=d.exports},"9b4f":function(e,t,l){"use strict";l("e10e")},"9c62":function(e,t,l){"use strict";l.r(t);l("9afd"),l("0aef");var i,a,o={data:function(){return{name:"跳转页面"}},created:function(){var e=this.$route,t=e.params,l=e.query,i=t.path;this.$router.replace({path:"/"+i,query:l}).catch((function(){}))},render:function(e){return e()}},s=o,n=l("cba8"),r=Object(n["a"])(s,i,a,!1,null,null,null);t["default"]=r.exports},"9d8d":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("el-row",[l("el-col",{attrs:{span:12,offset:6}},[l("el-result",{attrs:{icon:"error",title:"404","sub-title":"页面不存在"}})],1)],1),l("el-row",[l("el-col",{staticClass:"ya-center ya-top",attrs:{span:6,offset:6}},[l("el-button",{attrs:{icon:"el-icon-arrow-left"},on:{click:e.back}},[e._v("返回")])],1),l("el-col",{staticClass:"ya-center ya-top",attrs:{span:6}},[l("el-button",{attrs:{icon:"el-icon-s-home"},on:{click:e.dashboard}},[e._v("控制台")])],1)],1),l("el-row",[l("el-col",{staticClass:"ya-center ya-top",attrs:{span:12,offset:6}},[l("a",{attrs:{href:"https://gitee.com/skyselang/yylAdmin",target:"_blank",title:""}},[l("img",{attrs:{src:"https://gitee.com/skyselang/yylAdmin/widgets/widget_card.svg?colors=4183c4,ffffff,ffffff,e3e9ed,666666,9b9b9b",alt:"",srcset:""}})])])],1)],1)},a=[],o={name:"Admin404",data:function(){return{name:"404页面"}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/dashboard"}):this.$router.go(-1)},dashboard:function(){this.$router.push({path:"/dashboard"})}}},s=o,n=(l("c615"),l("cba8")),r=Object(n["a"])(s,i,a,!1,null,"5e0813ca",null);t["default"]=r.exports},a40c:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box-card"},[l("el-row",{attrs:{gutter:6}},e._l(e.count,(function(t,i){return l("el-col",{key:i,attrs:{span:3}},[l("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:"10px 0px 0px 0px"}}},[l("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[l("span",[e._v(e._s(t.name))])]),l("div",{staticClass:"text"},[l("el-row",{staticStyle:{"padding-bottom":"10px"}},[l("el-col",{attrs:{title:t.title}},[e._v(" "+e._s(t.count)+" ")])],1)],1)])],1)})),1)],1),e._l(e.echart_num,(function(t,i){return l("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],key:i,staticClass:"box-card ya-margin-top"},[l("el-row",{staticStyle:{"text-align":"center"}},[l("el-col",[l("el-select",{staticClass:"filter-item",on:{change:e.typeChange},model:{value:e.date_type,callback:function(t){e.date_type=t},expression:"date_type"}},[l("el-option",{attrs:{label:"日",value:"day"}}),l("el-option",{attrs:{label:"月",value:"month"}})],1),l("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"350px"},attrs:{type:e.date_ptype,"value-format":e.date_format,"picker-options":e.date_options,"start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.dateChange},model:{value:e.date_range,callback:function(t){e.date_range=t},expression:"date_range"}})],1),l("el-col",[l("div",{style:{height:e.height-300+"px"},attrs:{id:e.echart_id+i}})])],1)],1)})),l("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box-card ya-margin-top"},[l("el-row",{staticStyle:{"text-align":"center"}},[l("el-col",[l("el-select",{staticClass:"filter-item",on:{change:e.typeChange},model:{value:e.date_type,callback:function(t){e.date_type=t},expression:"date_type"}},[l("el-option",{attrs:{label:"日",value:"day"}}),l("el-option",{attrs:{label:"月",value:"month"}})],1),l("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"350px"},attrs:{type:e.date_ptype,"value-format":e.date_format,"picker-options":e.date_options,"start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.dateChange},model:{value:e.date_range,callback:function(t){e.date_range=t},expression:"date_range"}}),l("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},on:{change:e.fieldChange},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}},e._l(e.fieldType,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),l("el-col",[l("div",{style:{height:e.height-300+"px"},attrs:{id:e.echart_id+"field"}})])],1)],1)],2)])},a=[],o=(l("209b"),l("98b1")),s=l("88b5"),n=l("7b1d"),r=l("4b4e"),c=l("6f658"),d=l("ac1e"),u=l("0fd9"),m=l("206a"),p=l("6964"),f=l("63f7"),h=l("b4af"),b=l("d7b2");n["a"]([c["a"],d["a"],u["a"],m["a"],p["a"],f["a"],h["a"],b["a"]]);var g={name:"MemberLogStat",components:{},data:function(){return{name:"会员日志统计",height:600,loading:!1,count:[],echart_id:"echartid",echart_num:0,echart_data:[],date_type:"day",date_range:[],date_options:{},date_ptype:"monthrange",date_format:"yyyy-MM",picker_options_day:{shortcuts:[{text:"最近7天",onClick:function(e){var t=new Date,l=new Date;l.setTime(l.getTime()-5184e5),e.$emit("pick",[l,t])}},{text:"最近30天",onClick:function(e){var t=new Date,l=new Date;l.setTime(l.getTime()-25056e5),e.$emit("pick",[l,t])}},{text:"最近90天",onClick:function(e){var t=new Date,l=new Date;l.setTime(l.getTime()-76896e5),e.$emit("pick",[l,t])}},{text:"最近120天",onClick:function(e){var t=new Date,l=new Date;l.setTime(l.getTime()-102816e5),e.$emit("pick",[l,t])}}]},picker_options_month:{shortcuts:[{text:"最近3个月",onClick:function(e){var t=new Date,l=new Date;l.setMonth(l.getMonth()-2),e.$emit("pick",[l,t])}},{text:"最近6个月",onClick:function(e){var t=new Date,l=new Date;l.setMonth(l.getMonth()-5),e.$emit("pick",[l,t])}},{text:"最近9个月",onClick:function(e){var t=new Date,l=new Date;l.setMonth(l.getMonth()-8),e.$emit("pick",[l,t])}},{text:"最近12个月",onClick:function(e){var t=new Date,l=new Date;l.setMonth(l.getMonth()-11),e.$emit("pick",[l,t])}}]},fieldType:[{value:"request_country",label:"国家"},{value:"request_province",label:"省份"},{value:"request_city",label:"城市"},{value:"request_isp",label:"ISP"},{value:"member_id",label:"会员"}],fieldValue:"request_province"}},computed:{},watch:{echart_data:function(){var e=this;this.$nextTick((function(){e.setEchart()}))}},created:function(){this.height=Object(o["a"])(120),this.stat()},mounted:function(){},methods:{stat:function(){var e=this;this.loading=!0,Object(s["e"])({type:this.date_type,date:this.date_range,field:this.fieldValue}).then((function(t){e.count=t.data.count,e.echart_data=t.data.echart,e.echart_num=t.data.echart.length,e.initEchart(t.data.field,e.echart_id+"field"),e.dateOptions(),e.loading=!1})).catch((function(){e.loading=!1}))},typeChange:function(){this.dateOptions(),this.date_range=[]},dateOptions:function(){var e=this.date_type;"day"===e?(this.date_ptype="daterange",this.date_format="yyyy-MM-dd",this.date_options=this.picker_options_day):"month"===e&&(this.date_ptype="monthrange",this.date_format="yyyy-MM",this.date_options=this.picker_options_month)},dateChange:function(){this.stat()},fieldChange:function(){this.stat()},setEchart:function(){for(var e=this.echart_data,t=this.echart_num,l=this.echart_id,i=0;i<t;i++)this.initEchart(e[i],l+i),this.date_type=e[i].type,this.date_range=e[i].date},initEchart:function(e,t){var l=r["b"](document.getElementById(t)),i={title:{text:e.title,textStyle:{fontSize:12}},legend:{top:"20px",data:e.legend},grid:{top:"80px",left:"1%",right:"3%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e.xAxis},yAxis:{type:"value"},tooltip:{trigger:"axis",textStyle:{align:"left"}},toolbox:{feature:{magicType:{show:!0,type:["line","bar"]},dataView:{show:!0,readOnly:!0},saveAsImage:{show:!0,name:this.name+e.date[0]+"-"+e.date[1]}}},series:e.series};l.setOption(i)}}},_=g,v=(l("bae4"),l("cba8")),y=Object(v["a"])(_,i,a,!1,null,"fc65f7a0",null);t["default"]=y.exports},a450:function(e,t,l){},a5a4:function(e,t,l){},a9ab:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"filter-container"},[l("el-row",[l("el-col",[l("el-select",{staticClass:"filter-item ya-search-field",attrs:{placeholder:"搜索字段"},model:{value:e.query.search_field,callback:function(t){e.$set(e.query,"search_field",t)},expression:"query.search_field"}},[l("el-option",{attrs:{value:"region_name",label:"名称"}}),l("el-option",{attrs:{value:"region_pinyin",label:"拼音"}}),l("el-option",{attrs:{value:"region_pid",label:"上级"}}),l("el-option",{attrs:{value:"region_jianpin",label:"简拼"}}),l("el-option",{attrs:{value:"region_initials",label:"首字母"}}),l("el-option",{attrs:{value:"region_citycode",label:"区号"}}),l("el-option",{attrs:{value:"region_zipcode",label:"邮编"}}),l("el-option",{attrs:{value:e.idkey,label:"ID"}})],1),"region_pid"===e.query.search_field?l("el-cascader",{staticClass:"filter-item ya-search-value",attrs:{options:e.trees,props:e.props,placeholder:"请选择",clearable:"",filterable:""},on:{change:e.pidQuery},model:{value:e.query.region_pid,callback:function(t){e.$set(e.query,"region_pid",t)},expression:"query.region_pid"}}):l("el-input",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"搜索内容",clearable:""},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}}),l("el-select",{staticClass:"filter-item ya-date-field",attrs:{placeholder:"时间类型"},model:{value:e.query.date_field,callback:function(t){e.$set(e.query,"date_field",t)},expression:"query.date_field"}},[l("el-option",{attrs:{value:"create_time",label:"添加时间"}}),l("el-option",{attrs:{value:"update_time",label:"修改时间"}})],1),l("el-date-picker",{staticClass:"filter-item ya-date-value",attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.query.date_value,callback:function(t){e.$set(e.query,"date_value",t)},expression:"query.date_value"}}),l("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")]),l("el-button",{staticClass:"filter-item",on:{click:function(t){return e.refresh()}}},[e._v("刷新")])],1)],1),l("el-row",[l("el-col",[l("el-button",{attrs:{title:"修改上级"},on:{click:function(t){return e.selectOpen("editpid")}}},[e._v("上级")]),l("el-button",{attrs:{title:"修改区号"},on:{click:function(t){return e.selectOpen("citycode")}}},[e._v("区号")]),l("el-button",{attrs:{title:"修改邮编"},on:{click:function(t){return e.selectOpen("zipcode")}}},[e._v("邮编")]),l("el-button",{attrs:{title:"删除"},on:{click:function(t){return e.selectOpen("dele")}}},[e._v("删除")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add("")}}},[e._v("添加")])],1)],1),l("el-dialog",{attrs:{title:e.selectTitle,visible:e.selectDialog,top:"20vh","close-on-click-modal":!1,"close-on-press-escape":!1,"destroy-on-close":""},on:{"update:visible":function(t){e.selectDialog=t}}},[l("el-form",{ref:"selectRef",attrs:{"label-width":"120px"}},[l("el-form-item",{attrs:{label:e.name+"ID",prop:""}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:12},disabled:""},model:{value:e.selectIds,callback:function(t){e.selectIds=t},expression:"selectIds"}})],1),"editpid"===e.selectType?l("el-form-item",{attrs:{label:"上级",prop:""}},[l("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.trees,props:e.props,placeholder:"一级地区",clearable:"",filterable:""},on:{change:e.pidSelect},model:{value:e.region_pid,callback:function(t){e.region_pid=t},expression:"region_pid"}})],1):"citycode"===e.selectType?l("el-form-item",{attrs:{label:"区号",prop:""}},[l("el-input",{attrs:{placeholder:"请输入区号，eg：010",clearable:""},model:{value:e.region_citycode,callback:function(t){e.region_citycode=t},expression:"region_citycode"}})],1):"zipcode"===e.selectType?l("el-form-item",{attrs:{label:"邮编",prop:""}},[l("el-input",{attrs:{placeholder:"请输入邮编，eg：1000",clearable:""},model:{value:e.region_zipcode,callback:function(t){e.region_zipcode=t},expression:"region_zipcode"}})],1):"dele"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[l("span",{staticStyle:{color:"red"}},[e._v("确定要删除选中的"+e._s(e.name)+"吗？")])]):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.selectCancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.selectSubmit}},[e._v("提交")])],1)],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],key:e.tbKey,ref:"table",attrs:{data:e.data,height:e.height,"row-key":e.idkey,lazy:"",load:e.load},on:{"sort-change":e.sort,"selection-change":e.select,"cell-dblclick":e.cellDbclick}},[l("el-table-column",{attrs:{type:"selection",width:"42",title:"全选/反选"}}),l("el-table-column",{attrs:{prop:"region_name",label:"名称","min-width":"250"}}),l("el-table-column",{attrs:{prop:"region_pinyin",label:"拼音","min-width":"250",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"region_citycode",label:"区号","min-width":"80",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"region_zipcode",label:"邮编","min-width":"80",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"region_longitude",label:"经度","min-width":"110",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"region_latitude",label:"纬度","min-width":"110",sortable:"custom"}}),l("el-table-column",{attrs:{prop:e.idkey,label:"ID","min-width":"95",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"region_pid",label:"PID","min-width":"95"}}),l("el-table-column",{attrs:{prop:"region_sort",label:"排序","min-width":"80",sortable:"custom"}}),l("el-table-column",{attrs:{label:"操作",width:"130",fixed:"right",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[l("el-button",{attrs:{size:"mini",type:"text",title:"添加下级"},on:{click:function(t){return e.add(i)}}},[e._v("添加")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.edit(i)}}},[e._v("修改")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.selectOpen("dele",i)}}},[e._v("删除")])]}}])})],1),l("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialog,top:"5vh","before-close":e.cancel,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialog=t}}},[l("el-form",{ref:"ref",staticClass:"dialog-body",style:{height:e.height-50+"px"},attrs:{rules:e.rules,model:e.model,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"上级",prop:"region_pid"}},[l("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.trees,props:e.props,placeholder:"一级地区",clearable:"",filterable:""},on:{change:e.pidEdit},model:{value:e.model.region_pid,callback:function(t){e.$set(e.model,"region_pid",t)},expression:"model.region_pid"}})],1),l("el-form-item",{attrs:{label:"名称",prop:"region_name"}},[l("el-input",{attrs:{placeholder:"请输入名称，eg：北京市",clearable:""},model:{value:e.model.region_name,callback:function(t){e.$set(e.model,"region_name",t)},expression:"model.region_name"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy",title:"复制"},on:{click:function(t){return e.copy(e.model.region_name,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"拼音",prop:"region_pinyin"}},[l("el-input",{attrs:{placeholder:"请输入拼音，eg：Beijing",clearable:""},model:{value:e.model.region_pinyin,callback:function(t){e.$set(e.model,"region_pinyin",t)},expression:"model.region_pinyin"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy",title:"复制"},on:{click:function(t){return e.copy(e.model.region_pinyin,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"简拼",prop:"region_jianpin"}},[l("el-input",{attrs:{placeholder:"请输入简拼，eg：BJ",clearable:""},model:{value:e.model.region_jianpin,callback:function(t){e.$set(e.model,"region_jianpin",t)},expression:"model.region_jianpin"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy",title:"复制"},on:{click:function(t){return e.copy(e.model.region_jianpin,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"首字母",prop:"region_initials"}},[l("el-input",{attrs:{placeholder:"请输入首字母，eg：B",clearable:""},model:{value:e.model.region_initials,callback:function(t){e.$set(e.model,"region_initials",t)},expression:"model.region_initials"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy",title:"复制"},on:{click:function(t){return e.copy(e.model.region_initials,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"区号",prop:"region_citycode"}},[l("el-input",{attrs:{placeholder:"请输入区号，eg：010",clearable:""},model:{value:e.model.region_citycode,callback:function(t){e.$set(e.model,"region_citycode",t)},expression:"model.region_citycode"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy",title:"复制"},on:{click:function(t){return e.copy(e.model.region_citycode,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"邮编",prop:"region_zipcode"}},[l("el-input",{attrs:{placeholder:"请输入邮编，eg：1000",clearable:""},model:{value:e.model.region_zipcode,callback:function(t){e.$set(e.model,"region_zipcode",t)},expression:"model.region_zipcode"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy",title:"复制"},on:{click:function(t){return e.copy(e.model.region_zipcode,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"经度",prop:"region_longitude"}},[l("el-input",{attrs:{placeholder:"请输入经度，eg：116.403263",clearable:""},model:{value:e.model.region_longitude,callback:function(t){e.$set(e.model,"region_longitude",t)},expression:"model.region_longitude"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy",title:"复制"},on:{click:function(t){return e.copy(e.model.region_longitude,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"纬度",prop:"region_latitude"}},[l("el-input",{attrs:{placeholder:"请输入纬度，eg：39.915156",clearable:""},model:{value:e.model.region_latitude,callback:function(t){e.$set(e.model,"region_latitude",t)},expression:"model.region_latitude"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy",title:"复制"},on:{click:function(t){return e.copy(e.model.region_latitude,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"排序",prop:"region_sort"}},[l("el-input",{attrs:{type:"number",placeholder:"请输入排序，eg：2250",clearable:""},model:{value:e.model.region_sort,callback:function(t){e.$set(e.model,"region_sort",t)},expression:"model.region_sort"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy",title:"复制"},on:{click:function(t){return e.copy(e.model.region_sort,t)}},slot:"append"})],1)],1),l("el-form-item",{attrs:{label:"",prop:""}},[l("el-link",{staticStyle:{"margin-right":"10px"},attrs:{type:"info",href:"https://www.ip138.com/post/",target:"_blank"}},[e._v("查询区号邮编")]),l("el-link",{attrs:{type:"info",href:"http://api.map.baidu.com/lbsapi/getpoint/index.html",target:"_blank"}},[e._v("查询经度纬度")])],1),e.model[e.idkey]?l("el-form-item",{attrs:{label:"添加时间",prop:"create_time"}},[l("el-input",{attrs:{placeholder:"",disabled:""},model:{value:e.model.create_time,callback:function(t){e.$set(e.model,"create_time",t)},expression:"model.create_time"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"修改时间",prop:"update_time"}},[l("el-input",{attrs:{placeholder:"",disabled:""},model:{value:e.model.update_time,callback:function(t){e.$set(e.model,"update_time",t)},expression:"model.update_time"}})],1):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.cancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1)],1)},a=[],o=(l("209b"),l("a256"),l("3b45"),l("98b1")),s=l("f71e"),n=l("ed08"),r=l("b775"),c="/admin/setting.Region/";function d(e){return Object(r["a"])({url:c+"list",method:"get",params:e})}function u(e){return Object(r["a"])({url:c+"info",method:"get",params:e})}function m(e){return Object(r["a"])({url:c+"add",method:"post",data:e})}function p(e){return Object(r["a"])({url:c+"edit",method:"post",data:e})}function f(e){return Object(r["a"])({url:c+"dele",method:"post",data:e})}function h(e){return Object(r["a"])({url:c+"pid",method:"post",data:e})}function b(e){return Object(r["a"])({url:c+"citycode",method:"post",data:e})}function g(e){return Object(r["a"])({url:c+"zipcode",method:"post",data:e})}var _={name:"SettingRegion",components:{},data:function(){return{name:"地区",height:680,loading:!1,idkey:"region_id",tbKey:1,query:{search_field:"region_name",date_field:"create_time"},data:[],trees:[],props:{expandTrigger:"click",checkStrictly:!0,value:"region_id",label:"region_name"},dialog:!1,dialogTitle:"",model:{region_id:"",region_pid:0,region_name:"",region_pinyin:"",region_jianpin:"",region_initials:"",region_citycode:"",region_zipcode:"",region_longitude:"",region_latitude:"",region_sort:2250},rules:{region_name:[{required:!0,message:"请输入名称",trigger:"blur"}]},selection:[],selectIds:"",selectTitle:"选中操作",selectDialog:!1,selectType:"",region_pid:0,region_citycode:"",region_zipcode:""}},created:function(){this.height=Object(o["a"])(210),this.list()},methods:{list:function(){var e=this;this.loading=!0,this.data=[],d(this.query).then((function(t){e.data=t.data.list,e.trees=t.data.tree,e.count=t.data.count,e.loading=!1})).catch((function(){e.loading=!1}))},load:function(e,t,l){d({region_pid:e[this.idkey]}).then((function(e){l(e.data.list)}))},add:function(e){this.dialog=!0,this.dialogTitle=this.name+"添加",this.reset(),e&&(this.model.region_pid=e[this.idkey])},edit:function(e){var t=this;this.dialog=!0,this.dialogTitle=this.name+"修改："+e[this.idkey],this.reset();var l={};l[this.idkey]=e[this.idkey],u(l).then((function(e){t.model=e.data}))},cancel:function(){this.dialog=!1},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,e.model[e.idkey]?p(e.model).then((function(t){e.list(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})):m(e.model).then((function(t){e.list(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},reset:function(e){this.model=e||this.$options.data().model,void 0!==this.$refs["ref"]&&this.$refs["ref"].resetFields(),void 0!==this.$refs["table"]&&this.$refs["table"].doLayout()},search:function(){this.list()},refresh:function(){this.query=this.$options.data().query,this.list()},sort:function(e){this.query.sort_field=e.prop,this.query.sort_value="","ascending"===e.order&&(this.query.sort_value="asc",this.list()),"descending"===e.order&&(this.query.sort_value="desc",this.list())},select:function(e){this.selection=e,this.selectIds=this.selectGetIds(e).toString()},selectGetIds:function(e){return Object(n["a"])(e,this.idkey)},selectAlert:function(){this.$alert("请选择需要操作的"+this.name,"提示",{type:"warning",callback:function(e){}})},selectOpen:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&(this.$refs["table"].clearSelection(),this.$refs["table"].toggleRowSelection(t)),this.selection.length?(this.selectTitle="选中操作","editpid"===e?this.selectTitle="修改上级":"citycode"===e?this.selectTitle="修改区号":"zipcode"===e?this.selectTitle="修改邮编":"dele"===e&&(this.selectTitle="删除"+this.name),this.selectDialog=!0,this.selectType=e):this.selectAlert()},selectCancel:function(){this.selectDialog=!1},selectSubmit:function(){if(this.selection.length){var e=this.selectType;"editpid"===e?this.editpid(this.selection):"citycode"===e?this.citycode(this.selection):"zipcode"===e?this.zipcode(this.selection):"dele"===e&&this.dele(this.selection),this.selectDialog=!1}else this.selectAlert()},editpid:function(e){var t=this;h({ids:this.selectGetIds(e),region_pid:this.region_pid}).then((function(e){t.list(),++t.tbKey,t.selectDialog=!1,t.$message.success(e.msg)})).catch((function(){t.loading=!1}))},citycode:function(e){var t=this;b({ids:this.selectGetIds(e),region_citycode:this.region_citycode}).then((function(e){t.list(),t.selectDialog=!1,t.$message.success(e.msg)})).catch((function(){t.loading=!1}))},zipcode:function(e){var t=this;g({ids:this.selectGetIds(e),region_zipcode:this.region_zipcode}).then((function(e){t.list(),t.selectDialog=!1,t.$message.success(e.msg)})).catch((function(){t.loading=!1}))},dele:function(e){var t=this;e.length?(this.loading=!0,f({ids:this.selectGetIds(e)}).then((function(e){t.list(),++t.tbKey,t.$message.success(e.msg)})).catch((function(){t.loading=!1}))):this.selectAlert()},pidEdit:function(e){e&&(this.model.region_pid=e[e.length-1])},pidQuery:function(e){e&&(this.query.region_pid=e[e.length-1])},pidSelect:function(e){e&&(this.region_pid=e[e.length-1])},copy:function(e,t){Object(s["a"])(e,t)},cellDbclick:function(e,t,l,i){this.copy(e[t.property],i)}}},v=_,y=l("cba8"),k=Object(y["a"])(v,i,a,!1,null,null,null);t["default"]=k.exports},aa53:function(e,t,l){"use strict";l("a5a4")},ad21:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("div",{staticClass:"filter-container"},[l("el-row",[l("el-col",[l("el-select",{staticClass:"ya-search-field",attrs:{placeholder:"搜索字段"},model:{value:e.query.search_field,callback:function(t){e.$set(e.query,"search_field",t)},expression:"query.search_field"}},[l("el-option",{attrs:{value:"menu_url",label:"菜单链接"}}),l("el-option",{attrs:{value:"menu_name",label:"菜单名称"}}),l("el-option",{attrs:{value:"request_ip",label:"请求IP"}}),l("el-option",{attrs:{value:"request_region",label:"请求地区"}}),l("el-option",{attrs:{value:"request_isp",label:"请求ISP"}}),l("el-option",{attrs:{value:e.idkey,label:"ID"}})],1),l("el-input",{staticClass:"ya-search-value",attrs:{placeholder:"搜索内容",clearable:""},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}}),l("el-select",{staticClass:"ya-date-field",attrs:{placeholder:"时间字段"},model:{value:e.query.date_field,callback:function(t){e.$set(e.query,"date_field",t)},expression:"query.date_field"}},[l("el-option",{attrs:{value:"create_time",label:"请求时间"}})],1),l("el-date-picker",{staticClass:"ya-date-value",attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.query.date_value,callback:function(t){e.$set(e.query,"date_value",t)},expression:"query.date_value"}}),l("el-select",{staticClass:"ya-date-field",attrs:{placeholder:"日志类型",clearable:""},model:{value:e.query.log_type,callback:function(t){e.$set(e.query,"log_type",t)},expression:"query.log_type"}},[l("el-option",{attrs:{value:1,label:"登录日志"}}),l("el-option",{attrs:{value:2,label:"操作日志"}})],1),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")]),l("el-button",{on:{click:function(t){return e.refresh()}}},[e._v("刷新")])],1)],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.data,height:e.height},on:{"sort-change":e.sort}},[l("el-table-column",{attrs:{prop:e.idkey,label:"ID","min-width":"100",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"menu_url",label:"菜单链接","min-width":"250","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"menu_name",label:"菜单名称","min-width":"150","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"request_ip",label:"请求IP","min-width":"130"}}),l("el-table-column",{attrs:{prop:"request_region",label:"请求地区","min-width":"160","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"request_isp",label:"请求ISP","min-width":"110"}}),l("el-table-column",{attrs:{prop:"create_time",label:"请求时间","min-width":"160",sortable:"custom"}})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.count>0,expression:"count > 0"}],attrs:{total:e.count,page:e.query.page,limit:e.query.limit},on:{"update:page":function(t){return e.$set(e.query,"page",t)},"update:limit":function(t){return e.$set(e.query,"limit",t)},pagination:e.list}})],1)},a=[],o=l("98b1"),s=l("333d"),n=l("ef84"),r={name:"AdminUserCenterLog",components:{Pagination:s["a"]},data:function(){return{name:"我的日志",height:680,loading:!0,idkey:"admin_user_log_id",query:{page:1,limit:15,search_field:"menu_url",date_field:"create_time"},data:[],count:0}},created:function(){this.height=Object(o["a"])(),this.list()},methods:{list:function(){var e=this;this.loading=!0,Object(n["c"])(this.query).then((function(t){e.data=t.data.list,e.count=t.data.count,e.loading=!1})).catch((function(){e.loading=!1}))},search:function(){this.query.page=1,this.list()},refresh:function(){this.query=this.$options.data().query,this.list()},sort:function(e){this.query.sort_field=e.prop,this.query.sort_value="","ascending"===e.order&&(this.query.sort_value="asc",this.list()),"descending"===e.order&&(this.query.sort_value="desc",this.list())}}},c=r,d=l("cba8"),u=Object(d["a"])(c,i,a,!1,null,null,null);t["default"]=u.exports},ad84:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",[l("el-row",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("el-col",{attrs:{xs:24,sm:22,md:20,lg:16,xl:12}},[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"120px"}},[l("el-form-item",{attrs:{label:"注册验证码",prop:"captcha_register"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.model.captcha_register,callback:function(t){e.$set(e.model,"captcha_register",t)},expression:"model.captcha_register"}}),l("span",[e._v(" 开启后，会员注册需要输入验证码。")])],1),l("el-form-item",{attrs:{label:"登录验证码",prop:"captcha_login"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.model.captcha_login,callback:function(t){e.$set(e.model,"captcha_login",t)},expression:"model.captcha_login"}}),l("span",[e._v(" 开启后，会员登录需要输入验证码。")])],1),l("el-form-item",[l("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1)],1)],1)],1)},a=[],o=l("98b1"),s=l("604d"),n={name:"SettingSettingCaptcha",components:{},data:function(){return{name:"验证码设置",height:680,loading:!1,model:{captcha_register:0,captcha_login:0},rules:{}}},created:function(){this.height=Object(o["a"])(210),this.info()},methods:{info:function(){var e=this;Object(s["d"])().then((function(t){e.model=t.data}))},refresh:function(){var e=this;this.loading=!0,Object(s["d"])().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(s["c"])(e.model).then((function(t){e.info(),e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},r=n,c=l("cba8"),d=Object(c["a"])(r,i,a,!1,null,null,null);t["default"]=d.exports},b1f4:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dialog-body",style:{height:e.height+"px"}},[l("el-row",[l("el-col",{attrs:{xs:24,sm:22,md:20,lg:16,xl:12}},[l("el-form",{ref:"ref",attrs:{rules:e.rules,model:e.model,"label-width":"120px"}},[l("el-form-item",{attrs:{label:"头像"}},[e.model.avatar_url?l("el-avatar",{attrs:{src:e.model.avatar_url,fit:"contain",shape:"circle",size:100}}):l("el-avatar",{attrs:{icon:"el-icon-user-solid",size:100}})],1),l("el-form-item",{attrs:{label:"账号",prop:"username"}},[l("el-input",{attrs:{placeholder:"请输入账号",clearable:""},model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1),l("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[l("el-input",{attrs:{placeholder:"请输入昵称",clearable:""},model:{value:e.model.nickname,callback:function(t){e.$set(e.model,"nickname",t)},expression:"model.nickname"}})],1),l("el-form-item",{attrs:{label:"手机",prop:"phone"}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.phone,callback:function(t){e.$set(e.model,"phone",t)},expression:"model.phone"}})],1),l("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.email,callback:function(t){e.$set(e.model,"email",t)},expression:"model.email"}})],1),e.model.admin_user_id?l("el-form-item",{attrs:{label:"添加时间",prop:"create_time"}},[l("el-input",{attrs:{placeholder:""},model:{value:e.model.create_time,callback:function(t){e.$set(e.model,"create_time",t)},expression:"model.create_time"}})],1):e._e(),e.model.admin_user_id?l("el-form-item",{attrs:{label:"修改时间",prop:"update_time"}},[l("el-input",{attrs:{placeholder:""},model:{value:e.model.update_time,callback:function(t){e.$set(e.model,"update_time",t)},expression:"model.update_time"}})],1):e._e(),e.model.admin_user_id?l("el-form-item",{attrs:{label:"登录时间",prop:"login_time"}},[l("el-input",{attrs:{placeholder:""},model:{value:e.model.login_time,callback:function(t){e.$set(e.model,"login_time",t)},expression:"model.login_time"}})],1):e._e(),e.model.admin_user_id?l("el-form-item",{attrs:{label:"登录地区",prop:"login_region"}},[l("el-input",{attrs:{placeholder:""},model:{value:e.model.login_region,callback:function(t){e.$set(e.model,"login_region",t)},expression:"model.login_region"}})],1):e._e(),e.model.admin_user_id?l("el-form-item",{attrs:{label:"退出时间",prop:"logout_time"}},[l("el-input",{attrs:{placeholder:""},model:{value:e.model.logout_time,callback:function(t){e.$set(e.model,"logout_time",t)},expression:"model.logout_time"}})],1):e._e(),l("el-form-item",[l("el-button",{attrs:{loading:e.loading},on:{click:e.refresh}},[e._v("刷新")])],1)],1)],1)],1)],1)],1)},a=[],o=l("98b1"),s=l("ef84"),n={name:"AdminUserCenterInfo",components:{},data:function(){return{name:"我的信息",height:680,loading:!1,model:{avatar_id:0,avatar_url:"",username:"",nickname:"",phone:"",email:"",create_time:"",update_time:"",login_time:"",login_region:"",logout_time:""},rules:{}}},created:function(){this.height=Object(o["a"])(180),this.info()},methods:{info:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loading=!0,Object(s["b"])().then((function(l){e.model=l.data,e.loading=!1,t&&e.$message.success(l.msg)})).catch((function(){e.loading=!1}))},refresh:function(){this.info(!0)}}},r=n,c=l("cba8"),d=Object(c["a"])(r,i,a,!1,null,null,null);t["default"]=d.exports},bae4:function(e,t,l){"use strict";l("2064")},bb8b:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"120px"}},[l("el-form-item",{attrs:{label:"Token密钥",prop:"token_key"}},[l("el-col",{attrs:{span:8}},[l("el-input",{attrs:{type:"password",clearable:"","show-password":""},model:{value:e.model.token_key,callback:function(t){e.$set(e.model,"token_key",t)},expression:"model.token_key"}})],1),l("el-col",{attrs:{span:13}},[e._v(" 修改后用户登录状态失效，需重新登录。 ")])],1),l("el-form-item",{attrs:{label:"Token有效时间",prop:"token_exp"}},[l("el-col",{attrs:{span:8}},[l("el-input",{attrs:{type:"number"},model:{value:e.model.token_exp,callback:function(t){e.$set(e.model,"token_exp",t)},expression:"model.token_exp"}},[l("template",{slot:"append"},[e._v("小时")])],2)],1),l("el-col",{attrs:{span:13}},[e._v(" 登录成功后超过此时间，需重新登录。 ")])],1),l("el-form-item",[l("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1)],1)},a=[],o=l("98b1"),s=l("5a2e"),n={name:"AdminSettingToken",components:{},data:function(){return{name:"Token设置",height:680,loading:!1,model:{token_key:"",token_exp:12},rules:{}}},created:function(){this.height=Object(o["a"])(180),this.info()},methods:{info:function(){var e=this;Object(s["o"])().then((function(t){e.model=t.data}))},refresh:function(){var e=this;this.loading=!0,Object(s["o"])().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(s["n"])(e.model).then((function(t){e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},r=n,c=l("cba8"),d=Object(c["a"])(r,i,a,!1,null,null,null);t["default"]=d.exports},bb8bf:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("el-card",[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"150px"}},[l("el-tabs",[l("el-tab-pane",{staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{label:"上传设置",lazy:""}},[l("el-form-item",{attrs:{label:"文件上传",prop:"is_open"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.model.is_open,callback:function(t){e.$set(e.model,"is_open",t)},expression:"model.is_open"}}),l("span",[e._v(" 关闭后无法上传文件")])],1),l("el-form-item",{attrs:{label:"存储方式",prop:"storage"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.model.storage,callback:function(t){e.$set(e.model,"storage",t)},expression:"model.storage"}},e._l(e.storages,(function(t,i){return l("el-option",{key:i,attrs:{label:t,value:i},on:{change:e.storageChange}})})),1)],1),"local"==e.model.storage?l("div",[l("el-form-item",{attrs:{label:""}},[l("el-card",[l("div",[e._v(" 文件将存储在本地服务器，默认保存在 public/storage 目录，文件以散列 hash 命名。 "),l("br"),e._v(" 文件存储的目录需要有读写权限（777），有足够的存储空间。 ")])])],1)],1):"qiniu"==e.model.storage?l("div",[l("el-form-item",{attrs:{label:""}},[l("el-card",[l("div",[e._v(" 文件将上传到七牛云 Kodo 存储，对象存储 > 空间管理 > 空间设置 > 访问控制, 设置为 公开空间。 "),l("br"),e._v(" 需要配置跨域访问 CORS 规则，设置：来源 Origin 为 *，允许 Methods 为 GET,POST，允许 Headers 为 *。 ")])])],1),l("el-form-item",{attrs:{label:"AccessKey",prop:"qiniu_access_key"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.qiniu_access_key,callback:function(t){e.$set(e.model,"qiniu_access_key",t)},expression:"model.qiniu_access_key"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.qiniu_access_key,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" AccessKey（AK）在 [ 七牛云 > 个人中心 > 密钥管理 ] 设置和获取 ")])],1),l("el-form-item",{attrs:{label:"SecretKey",prop:"qiniu_secret_key"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.qiniu_secret_key,callback:function(t){e.$set(e.model,"qiniu_secret_key",t)},expression:"model.qiniu_secret_key"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.qiniu_secret_key,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" SecretKey（SK）在 [ 七牛云 > 个人中心 > 密钥管理 ] 设置和获取 ")])],1),l("el-form-item",{attrs:{label:"空间名称",prop:"qiniu_bucket"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.qiniu_bucket,callback:function(t){e.$set(e.model,"qiniu_bucket",t)},expression:"model.qiniu_bucket"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.qiniu_bucket,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 空间名称 在 [ 七牛云 > 对象存储 > 空间管理 ] 设置和获取 ")])],1),l("el-form-item",{attrs:{label:"外链域名",prop:"qiniu_domain"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.qiniu_domain,callback:function(t){e.$set(e.model,"qiniu_domain",t)},expression:"model.qiniu_domain"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.qiniu_domain,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 外链域名 在 [ 七牛云 > 对象存储 > 空间管理 > 域名设置 ] 设置和获取 ")])],1)],1):"aliyun"==e.model.storage?l("div",[l("el-form-item",{attrs:{label:""}},[l("el-card",[l("div",[e._v(" 文件将上传到阿里云 OSS 存储，需要配置 OSS 公开访问及跨域策略。 "),l("br"),e._v(" 需要配置跨域访问 CORS 规则，设置：来源 Origin 为 *，允许 Methods 为 GET,POST，允许 Headers 为 *。 ")])])],1),l("el-form-item",{attrs:{label:"AccessKey ID",prop:"aliyun_access_key_id"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.aliyun_access_key_id,callback:function(t){e.$set(e.model,"aliyun_access_key_id",t)},expression:"model.aliyun_access_key_id"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.aliyun_access_key_id,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" AccessKey ID 在 [ 阿里云 > 个人中心 > AccessKey 管理 ] 设置和获取 ")])],1),l("el-form-item",{attrs:{label:"AccessKey Secret",prop:"aliyun_access_key_secret"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.aliyun_access_key_secret,callback:function(t){e.$set(e.model,"aliyun_access_key_secret",t)},expression:"model.aliyun_access_key_secret"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.aliyun_access_key_secret,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" AccessKey Secret 在 [ 阿里云 > 个人中心 > AccessKey 管理 ] 设置和获取 ")])],1),l("el-form-item",{attrs:{label:"Bucket名称",prop:"aliyun_bucket"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.aliyun_bucket,callback:function(t){e.$set(e.model,"aliyun_bucket",t)},expression:"model.aliyun_bucket"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.aliyun_bucket,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" Bucket 名称 在 [ 阿里云 > 对象存储 > Bucket 列表 ] 获取 ")])],1),l("el-form-item",{attrs:{label:"Bucket域名",prop:"aliyun_bucket_domain"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.aliyun_bucket_domain,callback:function(t){e.$set(e.model,"aliyun_bucket_domain",t)},expression:"model.aliyun_bucket_domain"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.aliyun_bucket_domain,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" Bucket 域名 在 [ 阿里云 > 对象存储 > Bucket 列表 > Bucket 概览 ] 获取 ")])],1),l("el-form-item",{attrs:{label:"Endpoint地域节点",prop:"aliyun_endpoint"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.aliyun_endpoint,callback:function(t){e.$set(e.model,"aliyun_endpoint",t)},expression:"model.aliyun_endpoint"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.aliyun_endpoint,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" Endpoint（地域节点） 在 [ 阿里云 > 对象存储 > Bucket 列表 > Bucket 概览 ] 获取 ")])],1)],1):"tencent"==e.model.storage?l("div",[l("el-form-item",{attrs:{label:""}},[l("el-card",[l("div",[e._v(" 文件将上传到腾讯云 COS 存储，需要配置 COS 公有读私有写访问权限及跨域策略。 "),l("br"),e._v(" 需要配置跨域访问 CORS 规则，设置：来源 Origin 为 *，允许 Methods 为 GET,POST，允许 Headers 为 *。 ")])])],1),l("el-form-item",{attrs:{label:"SecretId",prop:"tencent_secret_id"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.tencent_secret_id,callback:function(t){e.$set(e.model,"tencent_secret_id",t)},expression:"model.tencent_secret_id"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.tencent_secret_id,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" SecretId 在 [ 腾讯云 > 个人中心 > 访问管理 > 访问密钥 ] 设置和获取 ")])],1),l("el-form-item",{attrs:{label:"SecretKey",prop:"tencent_secret_key"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.tencent_secret_key,callback:function(t){e.$set(e.model,"tencent_secret_key",t)},expression:"model.tencent_secret_key"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.tencent_secret_key,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" SecretKey 在 [ 腾讯云 > 个人中心 > 访问管理 > 访问密钥 ] 设置和获取 ")])],1),l("el-form-item",{attrs:{label:"存储桶名称",prop:"tencent_bucket"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.tencent_bucket,callback:function(t){e.$set(e.model,"tencent_bucket",t)},expression:"model.tencent_bucket"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.tencent_bucket,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 存储桶名称 在 [ 腾讯云 > 对象存储 > 存储桶列表 ] 获取 ")])],1),l("el-form-item",{attrs:{label:"所属地域",prop:"tencent_region"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.tencent_region,callback:function(t){e.$set(e.model,"tencent_region",t)},expression:"model.tencent_region"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.tencent_region,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 所属地域 在 [ 腾讯云 > 对象存储 > 存储桶列表 ] 获取。如：ap-guangzhou ")])],1),l("el-form-item",{attrs:{label:"访问域名",prop:"tencent_domain"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.tencent_domain,callback:function(t){e.$set(e.model,"tencent_domain",t)},expression:"model.tencent_domain"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.tencent_domain,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 访问域名 在 [ 腾讯云 > 对象存储 > 存储桶列表 > 概览 ] 获取 ")])],1)],1):"baidu"==e.model.storage?l("div",[l("el-form-item",{attrs:{label:""}},[l("el-card",[l("div",[e._v(" 文件将上传到百度云 BOS 存储，对象存储 > Bucket列表 > 配置设置 > Bucket权限配置, 设置为 公共 *。 "),l("br"),e._v(" 需要配置跨域访问 CORS 规则，设置：来源 Origin 为 *，允许 Methods 为 GET,POST，允许 Headers 为 *。 ")])])],1),l("el-form-item",{attrs:{label:"Access Key",prop:"baidu_access_key"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.baidu_access_key,callback:function(t){e.$set(e.model,"baidu_access_key",t)},expression:"model.baidu_access_key"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.baidu_access_key,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" Access Key 在 [ 百度云 > 个人中心 > 安全认证 > Access Key ] 设置和获取 ")])],1),l("el-form-item",{attrs:{label:"Secret Key",prop:"baidu_secret_key"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.baidu_secret_key,callback:function(t){e.$set(e.model,"baidu_secret_key",t)},expression:"model.baidu_secret_key"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.baidu_secret_key,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" Secret Key 在 [ 百度云 > 个人中心 > 安全认证 > Access Key ] 设置和获取 ")])],1),l("el-form-item",{attrs:{label:"Bucket名称",prop:"baidu_bucket"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.baidu_bucket,callback:function(t){e.$set(e.model,"baidu_bucket",t)},expression:"model.baidu_bucket"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.baidu_bucket,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" Bucket 名称 在 [ 百度云 > 对象存储 > Bucket 列表 ] 获取。如：yyladmin ")])],1),l("el-form-item",{attrs:{label:"官方域名",prop:"baidu_domain"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.baidu_domain,callback:function(t){e.$set(e.model,"baidu_domain",t)},expression:"model.baidu_domain"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.baidu_domain,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 官方域名 在 [ 百度云 > 对象存储 > 发布管理 ] 获取。如：yyladmin.gz.bcebos.com ")])],1),l("el-form-item",{attrs:{label:"所属地域",prop:"baidu_endpoint"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.baidu_endpoint,callback:function(t){e.$set(e.model,"baidu_endpoint",t)},expression:"model.baidu_endpoint"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.baidu_endpoint,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 所属地域：官方域名去掉 Bucket 名称，如：gz.bcebos.com ")])],1)],1):"upyun"==e.model.storage?l("div",[l("el-form-item",{attrs:{label:""}},[l("el-card",[l("div",[e._v(" 文件将上传到又拍云 USS 存储，云存储 > 服务管理 > 配置 > CORS 跨域共享, 设置为 已开启。 "),l("br"),e._v(" 请根据业务域名和需求，配置 CORS 跨域共享 规则，CORS 配置。 ")])])],1),l("el-form-item",{attrs:{label:"服务名称",prop:"upyun_service_name"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.upyun_service_name,callback:function(t){e.$set(e.model,"upyun_service_name",t)},expression:"model.upyun_service_name"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.upyun_service_name,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 服务名称 在 [ 又拍云 > 云存储 > 服务管理 ] 设置和获取 ")])],1),l("el-form-item",{attrs:{label:"操作员",prop:"upyun_operator_name"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.upyun_operator_name,callback:function(t){e.$set(e.model,"upyun_operator_name",t)},expression:"model.upyun_operator_name"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.upyun_operator_name,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 操作员 在 [ 又拍云 > 云存储 > 服务管理 > 配置 > 存储管理-操作员授权 ] 设置和获取 ")])],1),l("el-form-item",{attrs:{label:"操作员密码",prop:"upyun_operator_pwd"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.upyun_operator_pwd,callback:function(t){e.$set(e.model,"upyun_operator_pwd",t)},expression:"model.upyun_operator_pwd"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.upyun_operator_pwd,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 操作员密码 在 [ 又拍云 > 云存储 > 服务管理 > 配置 > 存储管理-操作员授权 ] 设置和获取 ")])],1),l("el-form-item",{attrs:{label:"加速域名",prop:"upyun_domain"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.upyun_domain,callback:function(t){e.$set(e.model,"upyun_domain",t)},expression:"model.upyun_domain"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.upyun_domain,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 加速域名 在 [ 又拍云 > 云存储 > 服务管理 > 配置 > 域名管理-加速域名 ] 设置和获取 ")])],1)],1):"s3"==e.model.storage?l("div",[l("el-form-item",{attrs:{label:""}},[l("el-card",[l("div",[e._v(" 文件将上传到 AWS S3。 "),l("br"),e._v(" 请根据业务域名和需求，配置 AWS S3 访问控制。 ")])])],1),l("el-form-item",{attrs:{label:"Access Key ID",prop:"s3_access_key_id"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.s3_access_key_id,callback:function(t){e.$set(e.model,"s3_access_key_id",t)},expression:"model.s3_access_key_id"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.s3_access_key_id,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" Access Key ID 在 [ AWS > 我的账号 > 安全凭证 ] 设置和获取 ")])],1),l("el-form-item",{attrs:{label:"Secret Access KEY",prop:"s3_secret_access_key"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.s3_secret_access_key,callback:function(t){e.$set(e.model,"s3_secret_access_key",t)},expression:"model.s3_secret_access_key"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.s3_secret_access_key,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" Secret Access KEY 在 [ AWS > 我的账号 > 安全凭证 ] 设置和获取 ")])],1),l("el-form-item",{attrs:{label:"区域终端节点",prop:"s3_region"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.s3_region,callback:function(t){e.$set(e.model,"s3_region",t)},expression:"model.s3_region"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.s3_region,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 区域终端节点 在 [ AWS > S3 ] 设置和获取 ")])],1),l("el-form-item",{attrs:{label:"存储桶名称",prop:"s3_bucket"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.s3_bucket,callback:function(t){e.$set(e.model,"s3_bucket",t)},expression:"model.s3_bucket"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.s3_bucket,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 存储桶名称 在 [ AWS > S3 ] 设置和获取 ")])],1),l("el-form-item",{attrs:{label:"访问域名",prop:"s3_domain"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.s3_domain,callback:function(t){e.$set(e.model,"s3_domain",t)},expression:"model.s3_domain"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.model.s3_domain,t)}},slot:"append"})],1)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 访问域名 在 [ AWS > S3 ] 设置和获取 ")])],1)],1):e._e()],1),l("el-tab-pane",{staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{label:"上传限制",lazy:""}},[l("el-form-item",{staticClass:"ya-margin-bottom",attrs:{label:"图片格式",prop:"image_ext"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.image_ext,callback:function(t){e.$set(e.model,"image_ext",t)},expression:"model.image_ext"}})],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 允许上传的图片后缀，逗号,隔开 ")])],1),l("el-form-item",{attrs:{label:"图片大小",prop:"image_size"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.image_size,callback:function(t){e.$set(e.model,"image_size",t)},expression:"model.image_size"}},[l("template",{slot:"append"},[e._v("MB")])],2)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 允许上传的图片大小，单位 MB ")])],1),l("el-form-item",{staticClass:"ya-margin-bottom",attrs:{label:"视频格式",prop:"video_ext"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.video_ext,callback:function(t){e.$set(e.model,"video_ext",t)},expression:"model.video_ext"}})],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 允许上传的视频后缀，逗号,隔开 ")])],1),l("el-form-item",{attrs:{label:"视频大小",prop:"video_size"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.video_size,callback:function(t){e.$set(e.model,"video_size",t)},expression:"model.video_size"}},[l("template",{slot:"append"},[e._v("MB")])],2)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 允许上传的视频大小，单位 MB ")])],1),l("el-form-item",{staticClass:"ya-margin-bottom",attrs:{label:"音频格式",prop:"audio_ext"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.audio_ext,callback:function(t){e.$set(e.model,"audio_ext",t)},expression:"model.audio_ext"}})],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 允许上传的音频后缀，逗号,隔开 ")])],1),l("el-form-item",{attrs:{label:"音频大小",prop:"audio_size"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.audio_size,callback:function(t){e.$set(e.model,"audio_size",t)},expression:"model.audio_size"}},[l("template",{slot:"append"},[e._v("MB")])],2)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 允许上传的音频大小，单位 MB ")])],1),l("el-form-item",{staticClass:"ya-margin-bottom",attrs:{label:"文档格式",prop:"word_ext"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.word_ext,callback:function(t){e.$set(e.model,"word_ext",t)},expression:"model.word_ext"}})],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 允许上传的文档后缀，逗号,隔开 ")])],1),l("el-form-item",{attrs:{label:"文档大小",prop:"word_size"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.word_size,callback:function(t){e.$set(e.model,"word_size",t)},expression:"model.word_size"}},[l("template",{slot:"append"},[e._v("MB")])],2)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 允许上传的文档大小，单位 MB ")])],1),l("el-form-item",{staticClass:"ya-margin-bottom",attrs:{label:"其它格式",prop:"other_ext"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.other_ext,callback:function(t){e.$set(e.model,"other_ext",t)},expression:"model.other_ext"}})],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 允许上传的其它文件后缀，逗号,隔开 ")])],1),l("el-form-item",{attrs:{label:"其它大小",prop:"other_size"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{clearable:""},model:{value:e.model.other_size,callback:function(t){e.$set(e.model,"other_size",t)},expression:"model.other_size"}},[l("template",{slot:"append"},[e._v("MB")])],2)],1),l("el-col",{staticClass:"line",attrs:{span:13}},[e._v(" 允许上传的其它文件大小，单位 MB ")])],1)],1)],1)],1),l("el-form",{attrs:{"label-width":"150px"}},[l("el-form-item",[l("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1)],1)],1)},a=[],o=l("98b1"),s=l("e350"),n=l("f71e"),r=l("b775"),c="/admin/file.Setting/";function d(e){return Object(r["a"])({url:c+"info",method:"get",params:e})}function u(e){return Object(r["a"])({url:c+"edit",method:"post",data:e})}var m={name:"FileSetting",components:{},data:function(){return{name:"文件设置",height:680,loading:!1,storages:[],model:{setting_id:"",is_open:1,storage:"local",qiniu_access_key:"",qiniu_secret_key:"",qiniu_bucket:"",qiniu_domain:"",aliyun_access_key_id:"",aliyun_access_key_secret:"",aliyun_bucket:"",aliyun_bucket_domain:"",aliyun_endpoint:"",tencent_secret_id:"",tencent_secret_key:"",tencent_bucket:"",tencent_region:"",tencent_domain:"",baidu_access_key:"",baidu_secret_key:"",baidu_bucket:"",baidu_endpoint:"",baidu_domain:"",upyun_service_name:"",upyun_operator_name:"",upyun_operator_pwd:"",upyun_domain:"",s3_access_key_id:"",s3_secret_access_key:"",s3_bucket:"",s3_region:"",s3_domain:"",image_ext:"",image_size:0,video_ext:"",video_size:0,audio_ext:"",audio_size:0,word_ext:"",word_size:0,other_ext:"",other_size:0},rules:{storage:[{required:!0,message:"请选择存储方式",trigger:"blur"}],qiniu_access_key:[{required:!0,message:"请输入 AccessKey",trigger:"blur"}],qiniu_secret_key:[{required:!0,message:"请输入 SecretKey",trigger:"blur"}],qiniu_bucket:[{required:!0,message:"请输入空间名称",trigger:"blur"}],qiniu_domain:[{required:!0,message:"请输入外链域名",trigger:"blur"}],aliyun_access_key_id:[{required:!0,message:"请输入 AccessKey ID",trigger:"blur"}],aliyun_access_key_secret:[{required:!0,message:"请输入 AccessKey Secret",trigger:"blur"}],aliyun_bucket:[{required:!0,message:"请输入 Bucket 名称",trigger:"blur"}],aliyun_bucket_domain:[{required:!0,message:"请输入 Bucket 域名",trigger:"blur"}],aliyun_endpoint:[{required:!0,message:"请输入 Endpoint 地域节点",trigger:"blur"}],tencent_secret_id:[{required:!0,message:"请输入 SecretId",trigger:"blur"}],tencent_secret_key:[{required:!0,message:"请输入 SecretKey",trigger:"blur"}],tencent_bucket:[{required:!0,message:"请输入存储桶名称",trigger:"blur"}],tencent_region:[{required:!0,message:"请输入所属地域",trigger:"blur"}],tencent_domain:[{required:!0,message:"请输入访问域名",trigger:"blur"}],baidu_access_key:[{required:!0,message:"请输入 Access Key",trigger:"blur"}],baidu_secret_key:[{required:!0,message:"请输入 Secret Key",trigger:"blur"}],baidu_bucket:[{required:!0,message:"请输入 Bucket 名称",trigger:"blur"}],baidu_endpoint:[{required:!0,message:"请输入官方域名",trigger:"blur"}],baidu_domain:[{required:!0,message:"请输入所属地域",trigger:"blur"}],upyun_service_name:[{required:!0,message:"请输入服务名称",trigger:"blur"}],upyun_operator_name:[{required:!0,message:"请输入操作员",trigger:"blur"}],upyun_operator_pwd:[{required:!0,message:"请输入操作员密码",trigger:"blur"}],upyun_domain:[{required:!0,message:"请输入加速域名",trigger:"blur"}],s3_access_key_id:[{required:!0,message:"请输入 Access Key ID",trigger:"blur"}],s3_secret_access_key:[{required:!0,message:"请输入 Secret Access Key",trigger:"blur"}],s3_bucket:[{required:!0,message:"请输入存储桶名称",trigger:"blur"}],s3_region:[{required:!0,message:"请输入区域终端节点",trigger:"blur"}],s3_domain:[{required:!0,message:"请输入访问域名",trigger:"blur"}]}}},created:function(){this.height=Object(o["a"])(270),this.info()},methods:{checkPermission:s["a"],info:function(){var e=this;d().then((function(t){e.storages=t.data.storage,e.model=t.data.setting}))},refresh:function(){var e=this;this.loading=!0,d().then((function(t){e.storages=t.data.storage,e.model=t.data.setting,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,u(e.model).then((function(t){e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},storageChange:function(){void 0!==this.$refs["ref"]&&this.$refs["ref"].clearValidate()},copy:function(e,t){Object(n["a"])(e,t)}}},p=m,f=(l("c430"),l("cba8")),h=Object(f["a"])(p,i,a,!1,null,"2f5ae680",null);t["default"]=h.exports},c3a4:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("file-manage",{attrs:{"is-recycle":e.recycle}})},a=[],o=l("3659"),s={name:"FileFile",components:{FileManage:o["a"]},data:function(){return{name:"文件管理",recycle:0}},watch:{},created:function(){this.recycle=this.$route.meta.query.recycle},methods:{}},n=s,r=l("cba8"),c=Object(r["a"])(n,i,a,!1,null,"f0cb01e6",null);t["default"]=c.exports},c430:function(e,t,l){"use strict";l("f52e")},c615:function(e,t,l){"use strict";l("595e")},ca2b:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"filter-container"},[l("el-row",[l("el-col",[l("el-select",{staticClass:"filter-item ya-search-field",attrs:{placeholder:"搜索字段"},model:{value:e.query.search_field,callback:function(t){e.$set(e.query,"search_field",t)},expression:"query.search_field"}},[l("el-option",{attrs:{value:"group_name",label:"名称"}}),l("el-option",{attrs:{value:"group_desc",label:"描述"}}),l("el-option",{attrs:{value:"is_disable",label:"禁用"}}),l("el-option",{attrs:{value:e.idkey,label:"ID"}})],1),"is_disable"===e.query.search_field?l("el-select",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"请选择"},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}},[l("el-option",{attrs:{value:1,label:"是"}}),l("el-option",{attrs:{value:0,label:"否"}})],1):l("el-input",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"搜索内容",clearable:""},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}}),l("el-select",{staticClass:"filter-item ya-date-field",attrs:{placeholder:"时间类型"},model:{value:e.query.date_field,callback:function(t){e.$set(e.query,"date_field",t)},expression:"query.date_field"}},[l("el-option",{attrs:{value:"create_time",label:"添加时间"}}),l("el-option",{attrs:{value:"update_time",label:"修改时间"}}),e.recycle?l("el-option",{attrs:{value:"delete_time",label:"删除时间"}}):e._e()],1),l("el-date-picker",{staticClass:"filter-item ya-date-value",attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.query.date_value,callback:function(t){e.$set(e.query,"date_value",t)},expression:"query.date_value"}}),l("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")]),l("el-button",{staticClass:"filter-item",on:{click:function(t){return e.refresh()}}},[e._v("刷新")])],1)],1),l("el-row",[l("el-col",[l("el-button",{attrs:{title:"是否禁用"},on:{click:function(t){return e.selectOpen("disable")}}},[e._v("禁用")]),l("el-button",{attrs:{title:"删除"},on:{click:function(t){return e.selectOpen("dele")}}},[e._v("删除")]),e.recycle?l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.selectOpen("reco")}}},[e._v("恢复")]):l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("添加")])],1)],1),l("el-dialog",{attrs:{title:e.selectTitle,visible:e.selectDialog,top:"20vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.selectDialog=t}}},[l("el-form",{ref:"selectRef",attrs:{"label-width":"120px"}},[l("el-form-item",{attrs:{label:e.name+"ID",prop:""}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:12},disabled:""},model:{value:e.selectIds,callback:function(t){e.selectIds=t},expression:"selectIds"}})],1),"disable"===e.selectType?l("el-form-item",{attrs:{label:"是否禁用",prop:""}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.is_disable,callback:function(t){e.is_disable=t},expression:"is_disable"}})],1):"dele"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[e.recycle?l("span",{staticStyle:{color:"red"}},[e._v("确定要彻底删除选中的"+e._s(e.name)+"吗？删除后不可恢复！")]):l("span",{staticStyle:{color:"red"}},[e._v("确定要删除选中的"+e._s(e.name)+"吗？")])]):"reco"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[l("span",{staticStyle:{color:"red"}},[e._v("确定要恢复选中的"+e._s(e.name)+"吗？")])]):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.selectCancel}},[e._v("取消")]),l("el-button",{attrs:{type:"primary"},on:{click:e.selectSubmit}},[e._v("提交")])],1)],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.data,height:e.height},on:{"sort-change":e.sort,"selection-change":e.select}},[l("el-table-column",{attrs:{type:"selection",width:"42",title:"全选/反选"}}),l("el-table-column",{attrs:{prop:e.idkey,label:"ID","min-width":"100",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"group_name",label:"名称","min-width":"120"}}),l("el-table-column",{attrs:{prop:"group_desc",label:"描述","min-width":"150","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"group_sort",label:"排序","min-width":"85",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"is_disable",label:"禁用","min-width":"85",sortable:"custom",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(l){return e.disable([t.row])}},model:{value:t.row.is_disable,callback:function(l){e.$set(t.row,"is_disable",l)},expression:"scope.row.is_disable"}})]}}])}),l("el-table-column",{attrs:{prop:"create_time",label:"添加时间","min-width":"160",sortable:"custom"}}),e.recycle?l("el-table-column",{attrs:{prop:"delete_time",label:"删除时间","min-width":"155",sortable:"custom"}}):l("el-table-column",{attrs:{prop:"update_time",label:"修改时间","min-width":"155",sortable:"custom"}}),l("el-table-column",{attrs:{label:"操作","min-width":e.recycle?120:85,align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[e.recycle?l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.selectOpen("reco",i)}}},[e._v("恢复")]):e._e(),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.edit(i)}}},[e._v("修改")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.selectOpen("dele",i)}}},[e._v("删除")])]}}])})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.count>0,expression:"count > 0"}],attrs:{total:e.count,page:e.query.page,limit:e.query.limit},on:{"update:page":function(t){return e.$set(e.query,"page",t)},"update:limit":function(t){return e.$set(e.query,"limit",t)},pagination:e.list}}),l("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialog,top:"5vh","before-close":e.cancel,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialog=t}}},[l("el-form",{ref:"ref",staticClass:"dialog-body",attrs:{rules:e.rules,model:e.model,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"名称",prop:"group_name"}},[l("el-input",{attrs:{placeholder:"请输入名称",clearable:""},model:{value:e.model.group_name,callback:function(t){e.$set(e.model,"group_name",t)},expression:"model.group_name"}})],1),l("el-form-item",{attrs:{label:"描述",prop:"group_desc"}},[l("el-input",{attrs:{placeholder:"请输入描述",clearable:""},model:{value:e.model.group_desc,callback:function(t){e.$set(e.model,"group_desc",t)},expression:"model.group_desc"}})],1),l("el-form-item",{attrs:{label:"排序",prop:"group_sort"}},[l("el-input",{attrs:{type:"number"},model:{value:e.model.group_sort,callback:function(t){e.$set(e.model,"group_sort",t)},expression:"model.group_sort"}})],1),e.model[e.idkey]?l("el-form-item",{attrs:{label:"添加时间",prop:"create_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.create_time,callback:function(t){e.$set(e.model,"create_time",t)},expression:"model.create_time"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"修改时间",prop:"update_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.update_time,callback:function(t){e.$set(e.model,"update_time",t)},expression:"model.update_time"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"删除时间",prop:"delete_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.delete_time,callback:function(t){e.$set(e.model,"delete_time",t)},expression:"model.delete_time"}})],1):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.cancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1)],1)},a=[],o=(l("209b"),l("a256"),l("3b45"),l("98b1")),s=l("333d"),n=l("ed08"),r=l("0532"),c={name:"FileGroup",components:{Pagination:s["a"]},data:function(){return{name:"文件分组",recycle:0,height:680,loading:!1,idkey:"group_id",data:[],count:0,dialog:!1,dialogTitle:"",query:{page:1,limit:12,search_field:"group_name",date_field:"create_time"},model:{group_id:"",group_name:"",group_desc:"",group_sort:250},rules:{group_name:[{required:!0,message:"请输入名称",trigger:"blur"}]},selection:[],selectIds:"",selectTitle:"选中操作",selectDialog:!1,selectType:"",is_disable:0}},created:function(){this.recycle=this.$route.meta.query.recycle,this.height=Object(o["a"])(),this.list()},methods:{list:function(){var e=this;this.loading=!0,1===this.recycle?Object(r["g"])(this.query).then((function(t){e.data=t.data.list,e.count=t.data.count,e.loading=!1})).catch((function(){e.loading=!1})):Object(r["f"])(this.query).then((function(t){e.data=t.data.list,e.count=t.data.count,e.loading=!1})).catch((function(){e.loading=!1}))},add:function(){this.dialog=!0,this.dialogTitle=this.name+"添加",this.reset()},edit:function(e){var t=this;this.dialog=!0,this.dialogTitle=this.name+"修改："+e[this.idkey];var l={};l[this.idkey]=e[this.idkey],Object(r["e"])(l).then((function(e){t.reset(e.data)}))},cancel:function(){this.dialog=!1,this.reset()},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,e.model[e.idkey]?Object(r["d"])(e.model).then((function(t){e.list(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})):Object(r["a"])(e.model).then((function(t){e.list(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},reset:function(e){this.model=e||this.$options.data().model,void 0!==this.$refs["ref"]&&(this.$refs["ref"].resetFields(),this.$refs["ref"].clearValidate())},search:function(){this.query.page=1,this.list()},refresh:function(){this.query=this.$options.data().query,this.list()},sort:function(e){this.query.sort_field=e.prop,this.query.sort_value="","ascending"===e.order&&(this.query.sort_value="asc",this.list()),"descending"===e.order&&(this.query.sort_value="desc",this.list())},select:function(e){this.selection=e,this.selectIds=this.selectGetIds(e).toString()},selectGetIds:function(e){return Object(n["a"])(e,this.idkey)},selectAlert:function(){this.$alert("请选择需要操作的"+this.name,"提示",{type:"warning",callback:function(e){}})},selectOpen:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&(this.$refs["table"].clearSelection(),this.$refs["table"].toggleRowSelection(t)),this.selection.length?(this.selectTitle="选中操作","disable"===e?this.selectTitle="是否禁用":"dele"===e?this.selectTitle="删除"+this.name:"reco"===e&&(this.selectTitle="恢复"+this.name),this.selectDialog=!0,this.selectType=e):this.selectAlert()},selectCancel:function(){this.selectDialog=!1},selectSubmit:function(){if(this.selection.length){var e=this.selectType;"disable"===e?this.disable(this.selection,!0):"dele"===e?this.dele(this.selection,!0):"reco"===e&&this.reco(this.selection),this.selectDialog=!1}else this.selectAlert()},disable:function(e){var t=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.length){this.loading=!0;var i=e[0].is_disable;l&&(i=this.is_disable),Object(r["c"])({ids:this.selectGetIds(e),is_disable:i}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.list()}))}else this.selectAlert()},dele:function(e){var t=this;e.length?(this.loading=!0,1===this.recycle?Object(r["h"])({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1})):Object(r["b"])({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))):this.selectAlert()},reco:function(e){var t=this;e.length?(this.loading=!0,Object(r["i"])({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))):this.selectAlert()}}},d=c,u=l("cba8"),m=Object(u["a"])(d,i,a,!1,null,"6af02a84",null);t["default"]=m.exports},cb85:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-card",[l("el-row",{staticClass:"dialog-body",style:{height:e.height+"px"}},[l("el-col",{attrs:{xs:24,sm:22,md:20,lg:16,xl:12}},[l("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"120px"}},[l("el-form-item",{attrs:{label:"日志记录开关",prop:"log_switch"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.model.log_switch,callback:function(t){e.$set(e.model,"log_switch",t)},expression:"model.log_switch"}}),l("span",{staticStyle:{"margin-left":"150px"}},[e._v(" 开启后，会记录会员日志。")])],1),l("el-form-item",{attrs:{label:"日志保留时间",prop:"log_save_time"}},[l("el-input",{staticStyle:{width:"350px"},attrs:{type:"number"},model:{value:e.model.log_save_time,callback:function(t){e.$set(e.model,"log_save_time",t)},expression:"model.log_save_time"}},[l("template",{slot:"append"},[e._v("天（0永久保留）")])],2)],1),l("el-form-item",[l("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1)],1)],1)],1)},a=[],o=l("98b1"),s=l("604d"),n={name:"SettingSettingLog",components:{},data:function(){return{name:"日志设置",height:680,loading:!1,model:{log_switch:0,log_save_time:0},rules:{}}},created:function(){this.height=Object(o["a"])(210),this.info()},methods:{info:function(){var e=this;Object(s["h"])().then((function(t){e.model=t.data}))},refresh:function(){var e=this;this.loading=!0,Object(s["h"])().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(s["g"])(e.model).then((function(t){e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},r=n,c=l("cba8"),d=Object(c["a"])(r,i,a,!1,null,null,null);t["default"]=d.exports},ce65:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("el-row",[l("el-col",{attrs:{span:12,offset:6}},[l("el-result",{attrs:{icon:"warning",title:"401","sub-title":"没有权限访问"}})],1)],1),l("el-row",[l("el-col",{staticClass:"yyl-center yyl-top",attrs:{span:6,offset:6}},[l("el-button",{attrs:{icon:"el-icon-arrow-left"},on:{click:e.back}},[e._v("返回")])],1),l("el-col",{staticClass:"yyl-center yyl-top",attrs:{span:6}},[l("el-button",{attrs:{icon:"el-icon-s-home"},on:{click:e.dashboard}},[e._v("控制台")])],1)],1),l("el-row",[l("el-col",{staticClass:"yyl-center yyl-top",attrs:{span:12,offset:6}},[l("a",{attrs:{href:"https://gitee.com/skyselang/yylAdmin",target:"_blank",title:""}},[l("img",{attrs:{src:"https://gitee.com/skyselang/yylAdmin/widgets/widget_card.svg?colors=4183c4,ffffff,ffffff,e3e9ed,666666,9b9b9b",alt:"",srcset:""}})])])],1)],1)},a=[],o={name:"Admin401",data:function(){return{name:"401页面"}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/dashboard"}):this.$router.go(-1)},dashboard:function(){this.$router.push({path:"/dashboard"})}}},s=o,n=(l("11fa"),l("cba8")),r=Object(n["a"])(s,i,a,!1,null,"885c02e4",null);t["default"]=r.exports},d342:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"filter-container"},[l("el-row",[l("el-col",[l("el-select",{staticClass:"filter-item ya-search-field",attrs:{placeholder:"搜索字段"},model:{value:e.query.search_field,callback:function(t){e.$set(e.query,"search_field",t)},expression:"query.search_field"}},[l("el-option",{attrs:{value:"call",label:"称呼"}}),l("el-option",{attrs:{value:"mobile",label:"手机"}}),l("el-option",{attrs:{value:"title",label:"标题"}}),l("el-option",{attrs:{value:"is_unread",label:"未读"}}),l("el-option",{attrs:{value:e.idkey,label:"ID"}})],1),"is_unread"===e.query.search_field?l("el-select",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"请选择"},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}},[l("el-option",{attrs:{value:1,label:"是"}}),l("el-option",{attrs:{value:0,label:"否"}})],1):l("el-input",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"搜索内容",clearable:""},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}}),l("el-select",{staticClass:"filter-item ya-date-field",attrs:{placeholder:"时间类型"},model:{value:e.query.date_field,callback:function(t){e.$set(e.query,"date_field",t)},expression:"query.date_field"}},[l("el-option",{attrs:{value:"create_time",label:"添加时间"}}),l("el-option",{attrs:{value:"update_time",label:"修改时间"}}),l("el-option",{attrs:{value:"read_time",label:"已读时间"}}),e.recycle?l("el-option",{attrs:{value:"delete_time",label:"删除时间"}}):e._e()],1),l("el-date-picker",{staticClass:"filter-item ya-date-value",attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.query.date_value,callback:function(t){e.$set(e.query,"date_value",t)},expression:"query.date_value"}}),l("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")]),l("el-button",{staticClass:"filter-item",on:{click:function(t){return e.refresh()}}},[e._v("刷新")])],1)],1),l("el-row",[l("el-col",[l("el-button",{attrs:{title:"设为已读"},on:{click:function(t){return e.selectOpen("isread")}}},[e._v("已读")]),l("el-button",{attrs:{title:"删除"},on:{click:function(t){return e.selectOpen("dele")}}},[e._v("删除")]),e.recycle?l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.selectOpen("reco")}}},[e._v("恢复")]):l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("添加")])],1)],1),l("el-dialog",{attrs:{title:e.selectTitle,visible:e.selectDialog,top:"20vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.selectDialog=t}}},[l("el-form",{attrs:{"label-width":"120px"}},[l("el-form-item",{attrs:{label:e.name+"ID",prop:""}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:12},disabled:""},model:{value:e.selectIds,callback:function(t){e.selectIds=t},expression:"selectIds"}})],1),"isread"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[l("span",[e._v("确定要设置选中的"+e._s(e.name)+"为已读吗？")])]):"reco"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[l("span",[e._v("确定要恢复选中的"+e._s(e.name)+"吗？")])]):"dele"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[e.recycle?l("span",{staticStyle:{color:"red"}},[e._v("确定要彻底删除选中的"+e._s(e.name)+"吗？删除后不可恢复！")]):l("span",{staticStyle:{color:"red"}},[e._v("确定要删除选中的"+e._s(e.name)+"吗？")])]):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.selectCancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.selectSubmit}},[e._v("提交")])],1)],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.data,height:e.height},on:{"sort-change":e.sort,"selection-change":e.select}},[l("el-table-column",{attrs:{type:"selection",width:"42",title:"全选/反选"}}),l("el-table-column",{attrs:{prop:e.idkey,label:"ID","min-width":"100",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"call",label:"称呼","min-width":"100","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"mobile",label:"手机","min-width":"120",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"title",label:"标题","min-width":"200","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"remark",label:"备注","min-width":"100","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"is_unread",label:"未读","min-width":"80",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.is_unread?l("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(l){return e.isread([t.row])}},model:{value:t.row.is_unread,callback:function(l){e.$set(t.row,"is_unread",l)},expression:"scope.row.is_unread"}}):l("el-switch",{attrs:{disabled:"","active-value":1,"inactive-value":0},on:{change:function(l){return e.isread([t.row])}},model:{value:t.row.is_unread,callback:function(l){e.$set(t.row,"is_unread",l)},expression:"scope.row.is_unread"}})]}}])}),l("el-table-column",{attrs:{prop:"create_time",label:"添加时间","min-width":"155",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"read_time",label:"已读时间","min-width":"155",sortable:"custom"}}),e.recycle?l("el-table-column",{attrs:{prop:"delete_time",label:"删除时间","min-width":"155",sortable:"custom"}}):l("el-table-column",{attrs:{prop:"update_time",label:"修改时间","min-width":"155",sortable:"custom"}}),l("el-table-column",{attrs:{label:"操作","min-width":e.recycle?120:85,align:"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[e.recycle?l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.selectOpen("reco",i)}}},[e._v("恢复")]):e._e(),l("el-button",{attrs:{size:"mini",type:"text",title:"修改"},on:{click:function(t){return e.edit(i)}}},[e._v("查看")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.selectOpen("dele",i)}}},[e._v("删除")])]}}])})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.count>0,expression:"count > 0"}],attrs:{total:e.count,page:e.query.page,limit:e.query.limit},on:{"update:page":function(t){return e.$set(e.query,"page",t)},"update:limit":function(t){return e.$set(e.query,"limit",t)},pagination:e.list}}),l("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialog,top:"5vh","before-close":e.cancel,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialog=t}}},[l("el-form",{ref:"ref",staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{rules:e.rules,model:e.model,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"称呼",prop:"call"}},[l("el-input",{attrs:{placeholder:"",clearable:""},model:{value:e.model.call,callback:function(t){e.$set(e.model,"call",t)},expression:"model.call"}})],1),l("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[l("el-input",{attrs:{placeholder:"",clearable:""},model:{value:e.model.mobile,callback:function(t){e.$set(e.model,"mobile",t)},expression:"model.mobile"}})],1),l("el-form-item",{attrs:{label:"电话",prop:"tel"}},[l("el-input",{attrs:{placeholder:"",clearable:""},model:{value:e.model.tel,callback:function(t){e.$set(e.model,"tel",t)},expression:"model.tel"}})],1),l("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[l("el-input",{attrs:{placeholder:"",clearable:""},model:{value:e.model.email,callback:function(t){e.$set(e.model,"email",t)},expression:"model.email"}})],1),l("el-form-item",{attrs:{label:"QQ",prop:"qq"}},[l("el-input",{attrs:{placeholder:"",clearable:""},model:{value:e.model.qq,callback:function(t){e.$set(e.model,"qq",t)},expression:"model.qq"}})],1),l("el-form-item",{attrs:{label:"微信",prop:"wechat"}},[l("el-input",{attrs:{placeholder:"",clearable:""},model:{value:e.model.wechat,callback:function(t){e.$set(e.model,"wechat",t)},expression:"model.wechat"}})],1),l("el-form-item",{attrs:{label:"标题",prop:"title"}},[l("el-input",{attrs:{placeholder:"",clearable:""},model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),l("el-form-item",{attrs:{label:"内容",prop:"content"}},[l("el-input",{attrs:{type:"textarea",placeholder:"",clearable:"",autosize:{minRows:3,maxRows:20}},model:{value:e.model.content,callback:function(t){e.$set(e.model,"content",t)},expression:"model.content"}})],1),l("el-form-item",{attrs:{label:"备注",prop:"remark"}},[l("el-input",{attrs:{placeholder:"",clearable:""},model:{value:e.model.remark,callback:function(t){e.$set(e.model,"remark",t)},expression:"model.remark"}})],1),e.model[e.idkey]?l("el-form-item",{attrs:{label:"添加时间",prop:"create_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.create_time,callback:function(t){e.$set(e.model,"create_time",t)},expression:"model.create_time"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"修改时间",prop:"update_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.update_time,callback:function(t){e.$set(e.model,"update_time",t)},expression:"model.update_time"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"删除时间",prop:"delete_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.delete_time,callback:function(t){e.$set(e.model,"delete_time",t)},expression:"model.delete_time"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"已读时间",prop:"read_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.read_time,callback:function(t){e.$set(e.model,"read_time",t)},expression:"model.read_time"}})],1):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.cancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1)],1)},a=[],o=(l("209b"),l("a256"),l("3b45"),l("98b1")),s=l("333d"),n=l("ed08"),r=l("b775"),c="/admin/cms.Comment/";function d(e){return Object(r["a"])({url:c+"list",method:"get",params:e})}function u(e){return Object(r["a"])({url:c+"info",method:"get",params:e})}function m(e){return Object(r["a"])({url:c+"add",method:"post",data:e})}function p(e){return Object(r["a"])({url:c+"edit",method:"post",data:e})}function f(e){return Object(r["a"])({url:c+"dele",method:"post",data:e})}function h(e){return Object(r["a"])({url:c+"isread",method:"post",data:e})}function b(e){return Object(r["a"])({url:c+"recover",method:"get",params:e})}function g(e){return Object(r["a"])({url:c+"recoverReco",method:"post",data:e})}function _(e){return Object(r["a"])({url:c+"recoverDele",method:"post",data:e})}var v={name:"CmsComment",components:{Pagination:s["a"]},directives:{},data:function(){return{name:"留言",recycle:0,height:680,loading:!1,idkey:"comment_id",query:{page:1,limit:15,search_field:"call",date_field:"create_time"},data:[],count:0,dialog:!1,dialogTitle:"",model:{comment_id:"",call:"",mobile:"",tel:"",email:"",qq:"",wechat:"",title:"",content:"",remark:""},rules:{call:[{required:!0,message:"请输入称呼",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机",trigger:"blur"}],title:[{required:!0,message:"请输入标题",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}]},selection:[],selectIds:"",selectTitle:"选中操作",selectDialog:!1,selectType:""}},created:function(){this.recycle=this.$route.meta.query.recycle,this.height=Object(o["a"])(),this.list()},methods:{list:function(){var e=this;this.loading=!0,this.recycle?b(this.query).then((function(t){e.data=t.data.list,e.count=t.data.count,e.loading=!1})).catch((function(){e.loading=!1})):d(this.query).then((function(t){e.data=t.data.list,e.count=t.data.count,e.loading=!1})).catch((function(){e.loading=!1}))},add:function(){this.dialog=!0,this.dialogTitle=this.name+"添加",this.model=this.$options.data().model},edit:function(e){var t=this;this.dialog=!0,this.dialogTitle=this.name+"修改："+e[this.idkey];var l={};l[this.idkey]=e[this.idkey],u(l).then((function(e){t.model=e.data}))},cancel:function(){this.dialog=!1,this.reset()},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,e.model[e.idkey]?p(e.model).then((function(t){e.list(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})):m(e.model).then((function(t){e.list(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},reset:function(e){this.model=e||this.$options.data().model,void 0!==this.$refs["ref"]&&(this.$refs["ref"].resetFields(),this.$refs["ref"].clearValidate())},search:function(){this.query.page=1,this.list()},refresh:function(){this.query=this.$options.data().query,this.list()},sort:function(e){this.query.sort_field=e.prop,this.query.sort_value="","ascending"===e.order&&(this.query.sort_value="asc",this.list()),"descending"===e.order&&(this.query.sort_value="desc",this.list())},select:function(e){this.selection=e,this.selectIds=this.selectGetIds(e).toString()},selectGetIds:function(e){return Object(n["a"])(e,this.idkey)},selectAlert:function(){this.$alert("请选择需要操作的"+this.name,"提示",{type:"warning",callback:function(e){}})},selectOpen:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&(this.$refs["table"].clearSelection(),this.$refs["table"].toggleRowSelection(t)),this.selection.length?(this.selectTitle="选中操作","isread"===e?this.selectTitle="设置已读":"reco"===e?this.selectTitle="恢复"+this.name:"dele"===e&&(this.selectTitle="删除"+this.name),this.selectDialog=!0,this.selectType=e):this.selectAlert()},selectCancel:function(){this.selectDialog=!1},selectSubmit:function(){if(this.selection.length){var e=this.selectType;"isread"===e?this.isread(this.selection):"reco"===e?this.reco(this.selection):"dele"===e&&this.dele(this.selection),this.selectDialog=!1}else this.selectAlert()},isread:function(e){var t=this;e.length?(this.loading=!0,h({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.list()}))):this.selectAlert()},dele:function(e){var t=this;e.length?(this.loading=!0,this.recycle?_({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1})):f({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))):this.selectAlert()},reco:function(e){var t=this;e.length?g({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1})):this.selectAlert()}}},y=v,k=l("cba8"),x=Object(k["a"])(y,i,a,!1,null,null,null);t["default"]=x.exports},dbe5:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("el-tabs",[e.checkPermission(["admin/setting.Wechat/offiInfo"])?l("el-tab-pane",{attrs:{label:"公众号",lazy:""}},[l("wechat-offi")],1):e._e(),e.checkPermission(["admin/setting.Wechat/miniInfo"])?l("el-tab-pane",{attrs:{label:"小程序",lazy:""}},[l("wechat-mini")],1):e._e()],1)],1)},a=[],o=l("e350"),s=l("9401"),n=l("889d"),r={name:"SettingWechat",components:{WechatOffi:s["default"],WechatMini:n["default"]},data:function(){return{name:"微信设置"}},created:function(){},methods:{checkPermission:o["a"]}},c=r,d=l("cba8"),u=Object(d["a"])(c,i,a,!1,null,null,null);t["default"]=u.exports},e0df:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("el-tabs",[e.checkPermission(["admin/setting.Setting/captchaInfo"])?l("el-tab-pane",{attrs:{label:"验证码设置",lazy:""}},[l("setting-captcha")],1):e._e(),e.checkPermission(["admin/setting.Setting/tokenInfo"])?l("el-tab-pane",{attrs:{label:"Token设置",lazy:""}},[l("setting-token")],1):e._e(),e.checkPermission(["admin/setting.Setting/logInfo"])?l("el-tab-pane",{attrs:{label:"日志设置",lazy:""}},[l("setting-log")],1):e._e(),e.checkPermission(["admin/setting.Setting/apiInfo"])?l("el-tab-pane",{attrs:{label:"接口设置",lazy:""}},[l("setting-api")],1):e._e(),e.checkPermission(["admin/setting.Setting/logregInfo"])?l("el-tab-pane",{attrs:{label:"登录注册设置",lazy:""}},[l("setting-logreg")],1):e._e(),e.checkPermission(["admin/setting.Setting/diyInfo"])?l("el-tab-pane",{attrs:{label:"自定义设置",lazy:""}},[l("setting-diy")],1):e._e()],1)],1)},a=[],o=l("e350"),s=l("2cd6"),n=l("ad84"),r=l("cb85"),c=l("444b"),d=l("7f0d"),u=l("5b6a"),m={name:"SettingSetting",components:{SettingToken:s["default"],SettingCaptcha:n["default"],SettingLog:r["default"],SettingApi:c["default"],SettingDiy:u["default"],SettingLogreg:d["default"]},data:function(){return{name:"设置管理"}},created:function(){},methods:{checkPermission:o["a"]}},p=m,f=l("cba8"),h=Object(f["a"])(p,i,a,!1,null,null,null);t["default"]=h.exports},e10e:function(e,t,l){},ea32:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"filter-container"},[l("el-row",[l("el-col",[l("el-select",{staticClass:"filter-item ya-search-field",attrs:{placeholder:"搜索字段"},model:{value:e.query.search_field,callback:function(t){e.$set(e.query,"search_field",t)},expression:"query.search_field"}},[l("el-option",{attrs:{value:"username",label:"用户账号"}}),l("el-option",{attrs:{value:"admin_user_id",label:"用户ID"}}),l("el-option",{attrs:{value:"menu_url",label:"菜单链接"}}),l("el-option",{attrs:{value:"menu_name",label:"菜单名称"}}),l("el-option",{attrs:{value:"admin_menu_id",label:"菜单ID"}}),l("el-option",{attrs:{value:"request_ip",label:"请求IP"}}),l("el-option",{attrs:{value:"request_region",label:"请求地区"}}),l("el-option",{attrs:{value:"request_isp",label:"请求ISP"}}),l("el-option",{attrs:{value:e.idkey,label:"ID"}})],1),l("el-input",{staticClass:"filter-item ya-search-value",attrs:{placeholder:"搜索内容",clearable:""},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}}),l("el-select",{staticClass:"filter-item ya-date-field",attrs:{placeholder:"时间字段"},model:{value:e.query.date_field,callback:function(t){e.$set(e.query,"date_field",t)},expression:"query.date_field"}},[l("el-option",{attrs:{value:"create_time",label:"请求时间"}})],1),l("el-date-picker",{staticClass:"filter-item ya-date-value",attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.query.date_value,callback:function(t){e.$set(e.query,"date_value",t)},expression:"query.date_value"}}),l("el-select",{staticClass:"filter-item ya-date-field",attrs:{placeholder:"日志类型",clearable:""},model:{value:e.query.log_type,callback:function(t){e.$set(e.query,"log_type",t)},expression:"query.log_type"}},[l("el-option",{attrs:{value:1,label:"登录日志"}}),l("el-option",{attrs:{value:2,label:"操作日志"}})],1),l("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")]),l("el-button",{staticClass:"filter-item",on:{click:function(t){return e.refresh()}}},[e._v("刷新")])],1)],1),l("el-row",[l("el-col",[l("el-button",{on:{click:function(t){return e.selectOpen("dele")}}},[e._v("删除")]),l("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["admin/admin.UserLog/clear"],expression:"['admin/admin.UserLog/clear']"}],attrs:{title:"日志清除"},on:{click:function(t){return e.clear()}}},[e._v("清除")])],1)],1),l("el-dialog",{attrs:{title:e.selectTitle,visible:e.selectDialog,top:"20vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.selectDialog=t}}},[l("el-form",{ref:"selectRef",attrs:{"label-width":"120px"}},[l("el-form-item",{attrs:{label:e.name+"ID",prop:""}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:12},disabled:""},model:{value:e.selectIds,callback:function(t){e.selectIds=t},expression:"selectIds"}})],1),"dele"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[l("span",{staticStyle:{color:"red"}},[e._v("确定要删除选中的"+e._s(e.name)+"吗？")])]):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.selectCancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.selectSubmit}},[e._v("提交")])],1)],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.data,height:e.height},on:{"sort-change":e.sort,"selection-change":e.select}},[l("el-table-column",{attrs:{type:"selection",width:"42",title:"全选/反选"}}),l("el-table-column",{attrs:{prop:e.idkey,label:"ID","min-width":"100",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"username",label:"用户账号","min-width":"110","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"menu_url",label:"菜单链接","min-width":"240","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"menu_name",label:"菜单名称","min-width":"140","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"request_method",label:"请求方式","min-width":"90"}}),l("el-table-column",{attrs:{prop:"request_ip",label:"请求IP","min-width":"130"}}),l("el-table-column",{attrs:{prop:"request_region",label:"请求地区","min-width":"150","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"request_isp",label:"请求ISP","min-width":"110","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"create_time",label:"请求时间","min-width":"160",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"response_code",label:"返回码","min-width":"90",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"response_msg",label:"返回描述","min-width":"130","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{label:"操作","min-width":"85",align:"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.info(i)}}},[e._v("详情")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.selectOpen("dele",i)}}},[e._v("删除")])]}}])})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.count>0,expression:"count > 0"}],attrs:{total:e.count,page:e.query.page,limit:e.query.limit},on:{"update:page":function(t){return e.$set(e.query,"page",t)},"update:limit":function(t){return e.$set(e.query,"limit",t)},pagination:e.list}}),l("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialog,top:"5vh","before-close":e.cancel,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialog=t}}},[l("el-form",{ref:"ref",staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{rules:e.rules,model:e.model,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"用户ID",prop:"admin_user_id"}},[l("el-input",{model:{value:e.model.admin_user_id,callback:function(t){e.$set(e.model,"admin_user_id",t)},expression:"model.admin_user_id"}})],1),l("el-form-item",{attrs:{label:"用户昵称",prop:"nickname"}},[l("el-input",{model:{value:e.model.nickname,callback:function(t){e.$set(e.model,"nickname",t)},expression:"model.nickname"}})],1),l("el-form-item",{attrs:{label:"用户账号",prop:"username"}},[l("el-input",{model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1),l("el-form-item",{attrs:{label:"菜单ID",prop:"admin_menu_id"}},[l("el-input",{model:{value:e.model.admin_menu_id,callback:function(t){e.$set(e.model,"admin_menu_id",t)},expression:"model.admin_menu_id"}})],1),l("el-form-item",{attrs:{label:"菜单名称",prop:"menu_name"}},[l("el-input",{model:{value:e.model.menu_name,callback:function(t){e.$set(e.model,"menu_name",t)},expression:"model.menu_name"}})],1),l("el-form-item",{attrs:{label:"菜单链接",prop:"menu_url"}},[l("el-input",{model:{value:e.model.menu_url,callback:function(t){e.$set(e.model,"menu_url",t)},expression:"model.menu_url"}})],1),l("el-form-item",{attrs:{label:"请求方式",prop:"request_method"}},[l("el-input",{model:{value:e.model.request_method,callback:function(t){e.$set(e.model,"request_method",t)},expression:"model.request_method"}})],1),l("el-form-item",{attrs:{label:"请求IP",prop:"request_ip"}},[l("el-input",{model:{value:e.model.request_ip,callback:function(t){e.$set(e.model,"request_ip",t)},expression:"model.request_ip"}})],1),l("el-form-item",{attrs:{label:"请求地区",prop:"request_region"}},[l("el-input",{model:{value:e.model.request_region,callback:function(t){e.$set(e.model,"request_region",t)},expression:"model.request_region"}})],1),l("el-form-item",{attrs:{label:"请求ISP",prop:"request_isp"}},[l("el-input",{model:{value:e.model.request_isp,callback:function(t){e.$set(e.model,"request_isp",t)},expression:"model.request_isp"}})],1),l("el-form-item",{attrs:{label:"请求时间",prop:"create_time"}},[l("el-input",{model:{value:e.model.create_time,callback:function(t){e.$set(e.model,"create_time",t)},expression:"model.create_time"}})],1),l("el-form-item",{attrs:{label:"请求参数",prop:"request_param"}},[l("pre",[e._v(e._s(e.model.request_param))])]),l("el-form-item",{attrs:{label:"返回码",prop:"response_code"}},[l("el-input",{model:{value:e.model.response_code,callback:function(t){e.$set(e.model,"response_code",t)},expression:"model.response_code"}})],1),l("el-form-item",{attrs:{label:"返回描述",prop:"response_msg"}},[l("el-input",{attrs:{type:"textarea"},model:{value:e.model.response_msg,callback:function(t){e.$set(e.model,"response_msg",t)},expression:"model.response_msg"}})],1)],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.cancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.submit}},[e._v("确定")])],1)],1),l("el-dialog",{attrs:{title:e.clearDialogTitle,visible:e.clearDialog,"before-close":e.clearCancel,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.clearDialog=t}}},[l("el-form",{ref:"clearRef",staticClass:"dialog-body",attrs:{rules:e.clearRules,model:e.clearModel,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"用户ID",prop:"admin_user_id"}},[l("el-input",{attrs:{clearable:""},model:{value:e.clearModel.admin_user_id,callback:function(t){e.$set(e.clearModel,"admin_user_id",t)},expression:"clearModel.admin_user_id"}})],1),l("el-form-item",{attrs:{label:"用户账号",prop:"username"}},[l("el-input",{attrs:{clearable:""},model:{value:e.clearModel.username,callback:function(t){e.$set(e.clearModel,"username",t)},expression:"clearModel.username"}})],1),l("el-form-item",{attrs:{label:"菜单ID",prop:"admin_menu_id"}},[l("el-input",{attrs:{clearable:""},model:{value:e.clearModel.admin_menu_id,callback:function(t){e.$set(e.clearModel,"admin_menu_id",t)},expression:"clearModel.admin_menu_id"}})],1),l("el-form-item",{attrs:{label:"菜单链接",prop:"menu_url"}},[l("el-input",{attrs:{clearable:""},model:{value:e.clearModel.menu_url,callback:function(t){e.$set(e.clearModel,"menu_url",t)},expression:"clearModel.menu_url"}})],1),l("el-form-item",{attrs:{label:"日期范围",prop:"date_value"}},[l("el-date-picker",{staticClass:"filter-item",attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.clearModel.date_value,callback:function(t){e.$set(e.clearModel,"date_value",t)},expression:"clearModel.date_value"}})],1),l("el-form-item",{attrs:{label:"清空所有",prop:"clean"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.clearModel.clean,callback:function(t){e.$set(e.clearModel,"clean",t)},expression:"clearModel.clean"}})],1)],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.clearCancel()}}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.clearSubmit()}}},[e._v("确定")])],1)],1)],1)},a=[],o=(l("209b"),l("a256"),l("3b45"),l("98b1")),s=l("333d"),n=l("4381"),r=l("ed08"),c=l("7aae"),d={name:"AdminUserLog",components:{Pagination:s["a"]},directives:{permission:n["a"]},data:function(){return{name:"用户日志",height:680,loading:!1,idkey:"admin_user_log_id",data:[],count:0,query:{page:1,limit:15,search_field:"username",date_field:"create_time"},dialog:!1,dialogTitle:"",model:{},rules:{},selection:[],selectIds:"",selectTitle:"选中操作",selectDialog:!1,selectType:"",clearDialog:!1,clearDialogTitle:"",clearModel:{admin_user_id:"",username:"",admin_menu_id:"",menu_url:"",date_value:[],clean:0},clearRules:{}}},created:function(){this.height=Object(o["a"])(),this.list()},methods:{list:function(){var e=this;this.loading=!0,Object(c["d"])(this.query).then((function(t){e.data=t.data.list,e.count=t.data.count,e.loading=!1})).catch((function(){e.loading=!1}))},info:function(e){var t=this;this.dialog=!0,this.dialogTitle=this.name+"详情："+e[this.idkey];var l={};l[this.idkey]=e[this.idkey],Object(c["c"])(l).then((function(e){t.reset(e.data)})).catch((function(){}))},cancel:function(){this.dialog=!1,this.reset()},submit:function(){this.dialog=!1,this.reset()},reset:function(e){this.model=e||this.$options.data().model},search:function(){this.query.page=1,this.list()},refresh:function(){this.query=this.$options.data().query,this.list()},sort:function(e){this.query.sort_field=e.prop,this.query.sort_value="","ascending"===e.order&&(this.query.sort_value="asc",this.list()),"descending"===e.order&&(this.query.sort_value="desc",this.list())},select:function(e){this.selection=e,this.selectIds=this.selectGetIds(e).toString()},selectGetIds:function(e){return Object(r["a"])(e,this.idkey)},selectAlert:function(){this.$alert("请选择需要操作的"+this.name,"提示",{type:"warning",callback:function(e){}})},selectOpen:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&(this.$refs["table"].clearSelection(),this.$refs["table"].toggleRowSelection(t)),this.selection.length?(this.selectTitle="选中操作","dele"===e&&(this.selectTitle="删除"+this.name),this.selectDialog=!0,this.selectType=e):this.selectAlert()},selectCancel:function(){this.selectDialog=!1},selectSubmit:function(){if(this.selection.length){var e=this.selectType;"dele"===e&&this.dele(this.selection),this.selectDialog=!1}else this.selectAlert()},dele:function(e){var t=this;e.length?(this.loading=!0,Object(c["b"])({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))):this.selectAlert()},clear:function(){this.clearDialog=!0,this.clearDialogTitle=this.name+"清除"},clearCancel:function(){this.clearDialog=!1},clearSubmit:function(){var e=this;Object(c["a"])(this.clearModel).then((function(t){e.list(),e.clearDialog=!1,e.clearModel=e.$options.data().clearModel,e.$message.success("已清除"+e.name+"记录 "+t.data.count+" 条")})).catch((function(){}))}}},u=d,m=l("cba8"),p=Object(m["a"])(u,i,a,!1,null,null,null);t["default"]=p.exports},ed08:function(e,t,l){"use strict";l.d(t,"b",(function(){return i})),l.d(t,"a",(function(){return a}));l("9afd"),l("eb85"),l("83e8"),l("094c"),l("c743"),l("3b45"),l("0aef"),l("a256"),l("f0f8"),l("e4b5"),l("7009"),l("e145"),l("b782");function i(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,t="",l="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",i=0;i<e;i++)t+=l[Math.floor(Math.random()*l.length)];return t}function a(e,t){for(var l=[],i=e.length,a=0;a<i;a++)l.push(e[a][t]);return l}},ef82:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"filter-container"},[l("el-row",[l("el-col",{staticClass:"ya-margin-bottom"},[l("el-select",{staticClass:"ya-search-field",attrs:{placeholder:"搜索字段"},model:{value:e.query.search_field,callback:function(t){e.$set(e.query,"search_field",t)},expression:"query.search_field"}},[l("el-option",{attrs:{value:"title",label:"标题"}}),l("el-option",{attrs:{value:"username",label:"添加用户"}}),l("el-option",{attrs:{value:"admin_user_id",label:"添加用户ID"}}),l("el-option",{attrs:{value:"is_open",label:"是否开启"}}),l("el-option",{attrs:{value:e.idkey,label:"ID"}})],1),"is_open"===e.query.search_field?l("el-select",{staticClass:"ya-search-value",attrs:{placeholder:"请选择"},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}},[l("el-option",{attrs:{value:1,label:"是"}}),l("el-option",{attrs:{value:0,label:"否"}})],1):l("el-input",{staticClass:"ya-search-value",attrs:{placeholder:"搜索内容",clearable:""},model:{value:e.query.search_value,callback:function(t){e.$set(e.query,"search_value",t)},expression:"query.search_value"}}),l("el-select",{staticClass:"ya-date-field",attrs:{placeholder:"时间字段"},model:{value:e.query.date_field,callback:function(t){e.$set(e.query,"date_field",t)},expression:"query.date_field"}},[l("el-option",{attrs:{value:"create_time",label:"添加时间"}}),l("el-option",{attrs:{value:"update_time",label:"修改时间"}}),l("el-option",{attrs:{value:"open_time_start",label:"开始时间"}}),l("el-option",{attrs:{value:"open_time_end",label:"结束时间"}})],1),l("el-date-picker",{staticClass:"ya-date-value",attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.query.date_value,callback:function(t){e.$set(e.query,"date_value",t)},expression:"query.date_value"}}),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")]),l("el-button",{on:{click:function(t){return e.refresh()}}},[e._v("刷新")])],1)],1),l("el-row",[l("el-col",[l("el-button",{attrs:{title:"是否开启"},on:{click:function(t){return e.selectOpen("isopen")}}},[e._v("开启")]),l("el-button",{attrs:{title:"开启时间"},on:{click:function(t){return e.selectOpen("opentime")}}},[e._v("时间")]),l("el-button",{attrs:{title:"删除"},on:{click:function(t){return e.selectOpen("dele")}}},[e._v("删除")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("添加")])],1)],1),l("el-dialog",{attrs:{title:e.selectTitle,visible:e.selectDialog,top:"20vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.selectDialog=t}}},[l("el-form",{ref:"selectRef",attrs:{"label-width":"120px"}},[l("el-form-item",{attrs:{label:e.name+"ID",prop:""}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:12},disabled:""},model:{value:e.selectIds,callback:function(t){e.selectIds=t},expression:"selectIds"}})],1),"isopen"===e.selectType?l("el-form-item",{attrs:{label:"开启",prop:""}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.is_open,callback:function(t){e.is_open=t},expression:"is_open"}})],1):"opentime"===e.selectType?l("el-form-item",{attrs:{label:"开启时间",prop:""}},[l("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss","default-time":"00:00:00",placeholder:"开始时间"},model:{value:e.open_time_start,callback:function(t){e.open_time_start=t},expression:"open_time_start"}}),l("span",[e._v("至")]),l("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss","default-time":"23:59:59",placeholder:"结束时间"},model:{value:e.open_time_end,callback:function(t){e.open_time_end=t},expression:"open_time_end"}})],1):"dele"===e.selectType?l("el-form-item",{attrs:{label:"",prop:""}},[l("span",{staticStyle:{color:"red"}},[e._v("确定要删除选中的"+e._s(e.name)+"吗？")])]):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.selectCancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.selectSubmit}},[e._v("提交")])],1)],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.data,height:e.height},on:{"sort-change":e.sort,"selection-change":e.select}},[l("el-table-column",{attrs:{type:"selection",width:"42",title:"全选/反选"}}),l("el-table-column",{attrs:{prop:e.idkey,label:"ID","min-width":"100",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"title",label:"标题","min-width":"260","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",{style:{color:t.row.color}},[e._v(e._s(t.row.title))])]}}])}),l("el-table-column",{attrs:{prop:"is_open",label:"开启","min-width":"80",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(l){return e.isopen([t.row])}},model:{value:t.row.is_open,callback:function(l){e.$set(t.row,"is_open",l)},expression:"scope.row.is_open"}})]}}])}),l("el-table-column",{attrs:{prop:"open_time_start",label:"开始时间","min-width":"160",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"open_time_end",label:"结束时间","min-width":"160",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"sort",label:"排序","min-width":"80",sortable:"custom"}}),l("el-table-column",{attrs:{prop:"username",label:"添加用户","min-width":"120","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"create_time",label:"添加时间","min-width":"155",sortable:"custom"}}),l("el-table-column",{attrs:{label:"操作","min-width":"90",align:"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.edit(i)}}},[e._v("修改")]),l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.selectOpen("dele",i)}}},[e._v("删除")])]}}])})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.count>0,expression:"count > 0"}],attrs:{total:e.count,page:e.query.page,limit:e.query.limit},on:{"update:page":function(t){return e.$set(e.query,"page",t)},"update:limit":function(t){return e.$set(e.query,"limit",t)},pagination:e.list}}),l("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialog,top:"5vh","before-close":e.cancel,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialog=t}}},[l("el-form",{ref:"ref",staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{model:e.model,rules:e.rules,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"标题",prop:"title"}},[l("el-input",{attrs:{placeholder:"请输入标题",clearable:""},model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),l("el-form-item",{attrs:{label:"标题颜色",prop:"color"}},[l("el-color-picker",{model:{value:e.model.color,callback:function(t){e.$set(e.model,"color",t)},expression:"model.color"}})],1),l("el-form-item",{attrs:{label:"开启",prop:"is_open"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.model.is_open,callback:function(t){e.$set(e.model,"is_open",t)},expression:"model.is_open"}})],1),l("el-form-item",{attrs:{label:"排序",prop:"sort"}},[l("el-input",{attrs:{type:"number"},model:{value:e.model.sort,callback:function(t){e.$set(e.model,"sort",t)},expression:"model.sort"}})],1),l("el-form-item",{attrs:{label:"开始时间",prop:"open_time_start"}},[l("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss","default-time":"00:00:00",placeholder:"开启开始时间"},model:{value:e.model.open_time_start,callback:function(t){e.$set(e.model,"open_time_start",t)},expression:"model.open_time_start"}})],1),l("el-form-item",{attrs:{label:"结束时间",prop:"open_time_end"}},[l("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss","default-time":"23:59:59",placeholder:"开启结束时间"},model:{value:e.model.open_time_end,callback:function(t){e.$set(e.model,"open_time_end",t)},expression:"model.open_time_end"}})],1),l("el-form-item",{attrs:{label:"简介",prop:"intro"}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5}},model:{value:e.model.intro,callback:function(t){e.$set(e.model,"intro",t)},expression:"model.intro"}})],1),l("el-form-item",{attrs:{label:"内容",prop:"content"}},[l("rich-editor",{model:{value:e.model.content,callback:function(t){e.$set(e.model,"content",t)},expression:"model.content"}})],1),e.model[e.idkey]?l("el-form-item",{attrs:{label:"用户",prop:"username"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"用户ID",prop:"admin_user_id"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.admin_user_id,callback:function(t){e.$set(e.model,"admin_user_id",t)},expression:"model.admin_user_id"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"添加时间",prop:"create_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.create_time,callback:function(t){e.$set(e.model,"create_time",t)},expression:"model.create_time"}})],1):e._e(),e.model[e.idkey]?l("el-form-item",{attrs:{label:"修改时间",prop:"update_time"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.update_time,callback:function(t){e.$set(e.model,"update_time",t)},expression:"model.update_time"}})],1):e._e()],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{loading:e.loading},on:{click:e.cancel}},[e._v("取消")]),l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1)],1)},a=[],o=(l("209b"),l("a256"),l("3b45"),l("98b1")),s=l("333d"),n=l("6a13"),r=l("ed08"),c=l("e1b2"),d={name:"AdminNotice",components:{Pagination:s["a"],RichEditor:n["a"]},data:function(){return{name:"公告",height:680,loading:!1,idkey:"admin_notice_id",query:{page:1,limit:15,search_field:"title",search_value:"",date_field:"create_time",date_value:[]},data:[],count:0,dialog:!1,dialogTitle:"",model:{admin_notice_id:"",admin_user_id:0,username:"",title:"",color:"#606266",type:1,sort:250,is_open:1,open_time_start:"",open_time_end:"",intro:"",content:""},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],open_time_start:[{required:!0,message:"请输入开始时间",trigger:"blur"}],open_time_end:[{required:!0,message:"请输入结束时间",trigger:"blur"}]},selection:[],selectIds:"",selectTitle:"选中操作",selectDialog:!1,selectType:"",is_open:0,open_time_start:"",open_time_end:""}},created:function(){this.height=Object(o["a"])(),this.list()},methods:{list:function(){var e=this;this.loading=!0,Object(c["f"])(this.query).then((function(t){e.data=t.data.list,e.count=t.data.count,e.loading=!1})).catch((function(){e.loading=!1}))},add:function(){this.dialog=!0,this.dialogTitle=this.name+"添加",this.reset()},edit:function(e){var t=this;this.dialog=!0,this.dialogTitle=this.name+"修改："+e[this.idkey];var l={};l[this.idkey]=e[this.idkey],Object(c["d"])(l).then((function(e){t.reset(e.data)}))},cancel:function(){this.dialog=!1,this.reset()},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,e.model.admin_notice_id?Object(c["c"])(e.model).then((function(t){e.list(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})):Object(c["a"])(e.model).then((function(t){e.list(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},reset:function(e){this.model=e||this.$options.data().model,void 0!==this.$refs["ref"]&&this.$refs["ref"].resetFields()},search:function(){this.query.page=1,this.list()},refresh:function(){this.query=this.$options.data().query,this.list()},sort:function(e){this.query.sort_field=e.prop,this.query.sort_value="","ascending"===e.order&&(this.query.sort_value="asc",this.list()),"descending"===e.order&&(this.query.sort_value="desc",this.list())},select:function(e){this.selection=e,this.selectIds=this.selectGetIds(e).toString()},selectGetIds:function(e){return Object(r["a"])(e,this.idkey)},selectAlert:function(){this.$alert("请选择需要操作的"+this.name,"提示",{type:"warning",callback:function(e){}})},selectOpen:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&(this.$refs["table"].clearSelection(),this.$refs["table"].toggleRowSelection(t)),this.selection.length?(this.selectTitle="选中操作","isopen"===e?this.selectTitle="是否开启":"opentime"===e?this.selectTitle="开启时间":"dele"===e&&(this.selectTitle="删除"+this.name),this.selectDialog=!0,this.selectType=e):this.selectAlert()},selectCancel:function(){this.selectDialog=!1},selectSubmit:function(){if(this.selection.length){var e=this.selectType;"isopen"===e?this.isopen(this.selection,!0):"opentime"===e?this.opentime(this.selection):"dele"===e&&this.dele(this.selection),this.selectDialog=!1}else this.selectAlert()},isopen:function(e){var t=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.length){this.loading=!0;var i=e[0].is_open;l&&(i=this.is_open),Object(c["e"])({ids:this.selectGetIds(e),is_open:i}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.list()}))}else this.selectAlert()},opentime:function(e){var t=this;e.length?(this.loading=!0,Object(c["g"])({ids:this.selectGetIds(e),open_time_start:this.open_time_start,open_time_end:this.open_time_end}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))):this.selectAlert()},dele:function(e){var t=this;e.length?(this.loading=!0,Object(c["b"])({ids:this.selectGetIds(e)}).then((function(e){t.list(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))):this.selectAlert()}}},u=d,m=l("cba8"),p=Object(m["a"])(u,i,a,!1,null,null,null);t["default"]=p.exports},f293:function(e,t,l){"use strict";l.d(t,"d",(function(){return o})),l.d(t,"c",(function(){return s})),l.d(t,"b",(function(){return n})),l.d(t,"a",(function(){return r}));var i=l("b775"),a="/admin/setting.Wechat/";function o(e){return Object(i["a"])({url:a+"offiInfo",method:"get",params:e})}function s(e){return Object(i["a"])({url:a+"offiEdit",method:"post",data:e})}function n(e){return Object(i["a"])({url:a+"miniInfo",method:"get",params:e})}function r(e){return Object(i["a"])({url:a+"miniEdit",method:"post",data:e})}},f52e:function(e,t,l){},f71e:function(e,t,l){"use strict";l.d(t,"a",(function(){return r}));var i=l("430a"),a=l("84e5"),o=l.n(a);function s(){i["default"].prototype.$message({message:"复制成功",type:"success",duration:1500})}function n(){i["default"].prototype.$message({message:"复制失败",type:"error"})}function r(e,t){var l=new o.a(t.target,{text:function(){return e}});l.on("success",(function(){s(),l.destroy()})),l.on("error",(function(){n(),l.destroy()})),l.onClick(t)}},fc16:function(e,t,l){"use strict";l("5f42")},fce0:function(e,t,l){},fd53:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{"element-loading-text":"正在退出"}})},a=[],o=l("d941"),s=l("c3ae"),n={name:"AdminLogout",components:{},data:function(){return{name:"退出",loading:!0}},created:function(){this.logout()},methods:{logout:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("user/logout");case 2:e.$router.push("/login");case 3:case"end":return t.stop()}}),t)})))()}}},r=n,c=l("cba8"),d=Object(c["a"])(r,i,a,!1,null,null,null);t["default"]=d.exports},fdc2:function(e,t,l){},fe4d:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("el-tabs",[e.checkPermission(["admin/admin.Setting/captchaInfo"])?l("el-tab-pane",{attrs:{label:"验证码设置",lazy:""}},[l("setting-captcha")],1):e._e(),e.checkPermission(["admin/admin.Setting/cacheInfo"])?l("el-tab-pane",{attrs:{label:"缓存设置",lazy:""}},[l("setting-cache")],1):e._e(),e.checkPermission(["admin/admin.Setting/tokenInfo"])?l("el-tab-pane",{attrs:{label:"Token设置",lazy:""}},[l("setting-token")],1):e._e(),e.checkPermission(["admin/admin.Setting/logInfo"])?l("el-tab-pane",{attrs:{label:"日志设置",lazy:""}},[l("setting-log")],1):e._e(),e.checkPermission(["admin/admin.Setting/apiInfo"])?l("el-tab-pane",{attrs:{label:"接口设置",lazy:""}},[l("setting-api")],1):e._e(),e.checkPermission(["admin/admin.Setting/emailInfo"])?l("el-tab-pane",{attrs:{label:"邮件设置",lazy:""}},[l("setting-email")],1):e._e(),e.checkPermission(["admin/admin.Setting/systemInfo"])?l("el-tab-pane",{attrs:{label:"系统设置",lazy:""}},[l("setting-system")],1):e._e()],1)],1)},a=[],o=l("e350"),s=l("3bf7"),n=l("9624"),r=l("840d8"),c=l("6a23"),d=l("42f6"),u=l("00ff"),m=l("bb8b"),p={name:"AdminSetting",directives:{},components:{SettingApi:s["default"],SettingCache:n["default"],SettingCaptcha:r["default"],SettingEmail:c["default"],SettingLog:d["default"],SettingSystem:u["default"],SettingToken:m["default"]},data:function(){return{name:"系统管理"}},created:function(){},methods:{checkPermission:o["a"]}},f=p,h=l("cba8"),b=Object(h["a"])(f,i,a,!1,null,null,null);t["default"]=b.exports},fe71:function(e,t,l){}}]);