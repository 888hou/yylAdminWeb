(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c4475f82"],{"0b4d":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-tabs",[e.checkPermission(["admin/AdminSetting/cacheInfo"])?n("el-tab-pane",{attrs:{label:"缓存设置",lazy:""}},[n("Cache")],1):e._e(),e.checkPermission(["admin/AdminSetting/tokenInfo"])?n("el-tab-pane",{attrs:{label:"Token设置",lazy:""}},[n("Token")],1):e._e(),e.checkPermission(["admin/AdminSetting/captchaInfo"])?n("el-tab-pane",{attrs:{label:"验证码设置",lazy:""}},[n("Captcha")],1):e._e(),e.checkPermission(["admin/AdminSetting/logInfo"])?n("el-tab-pane",{attrs:{label:"日志设置",lazy:""}},[n("Log")],1):e._e(),e.checkPermission(["admin/AdminSetting/apiInfo"])?n("el-tab-pane",{attrs:{label:"接口设置",lazy:""}},[n("Api")],1):e._e()],1)],1)},o=[],l=n("e350"),i=n("4381"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card"},[n("el-row",{attrs:{gutter:0}},[n("el-col",{attrs:{xs:24,sm:12}},[n("el-form",{ref:"ref",attrs:{model:e.model,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"",prop:""}},[n("span",[e._v("手动清除所有缓存（后台登录状态不会清除）。")])]),n("el-form-item",{attrs:{label:"缓存类型",prop:"type"}},[n("el-input",{model:{value:e.model.type,callback:function(t){e.$set(e.model,"type",t)},expression:"model.type"}})],1),n("el-form-item",{attrs:{label:""}},[n("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),n("el-button",{attrs:{loading:e.loading,type:"primary",title:"清除缓存"},on:{click:function(t){return e.submit()}}},[e._v("清除")])],1)],1)],1)],1)],1)},r=[],c=n("0768"),u={name:"Cache",components:{},data:function(){return{loading:!1,model:{type:""},rules:{}}},created:function(){this.info()},methods:{info:function(){var e=this;Object(c["d"])().then((function(t){e.model=t.data}))},refresh:function(){var e=this;this.loading=!0,Object(c["d"])().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(c["c"])().then((function(t){e.info(),e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},m=u,d=n("4ac2"),f=Object(d["a"])(m,s,r,!1,null,null,null),p=f.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card"},[n("el-row",{attrs:{gutter:0}},[n("el-col",{attrs:{xs:24,sm:12}},[n("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"Token名称",prop:"token_name"}},[n("el-input",{staticStyle:{width:"90%"},attrs:{type:"text"},model:{value:e.model.token_name,callback:function(t){e.$set(e.model,"token_name",t)},expression:"model.token_name"}}),n("i",{staticClass:"el-icon-warning-outline",attrs:{title:"必须与前端设置一致，否则Token验证失败。"}})],1),n("el-form-item",{attrs:{label:"Token密钥",prop:"token_key"}},[n("el-input",{staticStyle:{width:"90%"},attrs:{type:"text"},model:{value:e.model.token_key,callback:function(t){e.$set(e.model,"token_key",t)},expression:"model.token_key"}}),n("i",{staticClass:"el-icon-warning-outline",attrs:{title:"修改后所有用户登录状态失效，需重新登录。"}})],1),n("el-form-item",{attrs:{label:"Token有效时间",prop:"token_exp"}},[n("el-input",{attrs:{type:"number"},model:{value:e.model.token_exp,callback:function(t){e.$set(e.model,"token_exp",t)},expression:"model.token_exp"}},[n("template",{slot:"append"},[e._v("小时")])],2)],1),n("el-form-item",[n("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),n("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1)],1)],1)],1)},g=[],b={name:"Token",components:{},data:function(){return{loading:!1,model:{token_name:"",token_key:"",token_exp:12},rules:{}}},created:function(){this.info()},methods:{info:function(){var e=this;Object(c["j"])().then((function(t){e.model=t.data}))},refresh:function(){var e=this;this.loading=!0,Object(c["j"])().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(c["i"])(e.model).then((function(t){e.info(),e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},_=b,v=Object(d["a"])(_,h,g,!1,null,null,null),k=v.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card"},[n("el-row",{attrs:{gutter:0}},[n("el-col",{attrs:{xs:24,sm:12}},[n("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"",prop:""}},[n("span",[e._v("开启后，后台登录需要输入验证码。")])]),n("el-form-item",{attrs:{label:"验证码",prop:"captcha_switch"}},[n("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.model.captcha_switch,callback:function(t){e.$set(e.model,"captcha_switch",t)},expression:"model.captcha_switch"}})],1),n("el-form-item",[n("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),n("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1)],1)],1)],1)},x=[],y={name:"Captcha",components:{},data:function(){return{loading:!1,model:{captcha_switch:0},rules:{}}},created:function(){this.info()},methods:{info:function(){var e=this;Object(c["f"])().then((function(t){e.model=t.data}))},refresh:function(){var e=this;this.loading=!0,Object(c["f"])().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(c["e"])(e.model).then((function(t){e.info(),e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},$=y,j=Object(d["a"])($,w,x,!1,null,null,null),O=j.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card"},[n("el-row",{attrs:{gutter:0}},[n("el-col",{attrs:{xs:24,sm:12}},[n("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"",prop:""}},[n("span",[e._v("开启后，会记录后台用户日志。")])]),n("el-form-item",{attrs:{label:"日志记录",prop:"log_switch"}},[n("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.model.log_switch,callback:function(t){e.$set(e.model,"log_switch",t)},expression:"model.log_switch"}})],1),n("el-form-item",[n("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),n("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1)],1)],1)],1)},A=[],S={name:"Log",components:{},data:function(){return{loading:!1,model:{log_switch:0},rules:{}}},created:function(){this.info()},methods:{info:function(){var e=this;Object(c["h"])().then((function(t){e.model=t.data}))},refresh:function(){var e=this;this.loading=!0,Object(c["h"])().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(c["g"])(e.model).then((function(t){e.info(),e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},T=S,E=Object(d["a"])(T,C,A,!1,null,null,null),P=E.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card"},[n("el-row",{attrs:{gutter:0}},[n("el-col",{attrs:{xs:24,sm:12}},[n("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"",prop:""}},[n("span",[e._v("次数/时间；3/1：3次1秒；次数设置为 0 则不限制。")])]),n("el-form-item",{attrs:{label:"接口速率"}},[n("el-col",{attrs:{span:11}},[n("el-input",{attrs:{type:"number",placeholder:"次数"},model:{value:e.model.api_rate_num,callback:function(t){e.$set(e.model,"api_rate_num",t)},expression:"model.api_rate_num"}})],1),n("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:2}},[e._v("/")]),n("el-col",{attrs:{span:11}},[n("el-input",{attrs:{type:"number",placeholder:"时间"},model:{value:e.model.api_rate_time,callback:function(t){e.$set(e.model,"api_rate_time",t)},expression:"model.api_rate_time"}},[n("template",{slot:"append"},[e._v("秒")])],2)],1)],1),n("el-form-item",[n("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.refresh()}}},[e._v("刷新")]),n("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1)],1)],1)],1)},I=[],L={name:"Api",components:{},data:function(){return{loading:!1,model:{api_rate_num:3,api_rate_time:1},rules:{}}},created:function(){this.info()},methods:{info:function(){var e=this;Object(c["b"])().then((function(t){e.model=t.data}))},refresh:function(){var e=this;this.loading=!0,Object(c["b"])().then((function(t){e.model=t.data,e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,Object(c["a"])(e.model).then((function(t){e.info(),e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},J=L,N=Object(d["a"])(J,z,I,!1,null,null,null),V=N.exports,q={name:"Setting",directives:{permission:i["a"]},components:{Cache:p,Token:k,Captcha:O,Log:P,Api:V},data:function(){return{}},created:function(){},methods:{checkPermission:l["a"]}},B=q,D=Object(d["a"])(B,a,o,!1,null,null,null);t["default"]=D.exports},4381:function(e,t,n){"use strict";n("4318"),n("2e4f");var a=n("4360");function o(e,t){var n=t.value,o=a["a"].getters&&a["a"].getters.roles;if(!(n&&n instanceof Array))throw new Error("need roles! Like v-permission=\"['admin','editor']\"");if(n.length>0){var l=n,i=o.some((function(e){return l.includes(e)}));i||e.parentNode&&e.parentNode.removeChild(e)}}var l={inserted:function(e,t){o(e,t)},update:function(e,t){o(e,t)}},i=function(e){e.directive("permission",l)};window.Vue&&(window["permission"]=l,Vue.use(i)),l.install=i;t["a"]=l}}]);