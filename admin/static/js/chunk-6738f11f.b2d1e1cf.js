(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6738f11f"],{"274d":function(e,t,i){"use strict";i.d(t,"e",(function(){return o})),i.d(t,"d",(function(){return r})),i.d(t,"a",(function(){return a})),i.d(t,"c",(function(){return s})),i.d(t,"b",(function(){return c}));var l=i("b775"),n="/admin/Region/";function o(e){return Object(l["a"])({url:n+"list",method:"get",params:e})}function r(e){return Object(l["a"])({url:n+"info",method:"get",params:e})}function a(e){return Object(l["a"])({url:n+"add",method:"post",data:e})}function s(e){return Object(l["a"])({url:n+"edit",method:"post",data:e})}function c(e){return Object(l["a"])({url:n+"dele",method:"post",data:e})}},"98b1":function(e,t,i){"use strict";function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:230,t=880,i=document.documentElement.clientHeight||document.body.clientHeight;return i?i-e:t-e}i.d(t,"a",(function(){return l}))},aff1:function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-row",[i("el-col",{attrs:{xm:24,sm:22}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"地区ID",clearable:""},model:{value:e.query.region_id,callback:function(t){e.$set(e.query,"region_id",t)},expression:"query.region_id"}}),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"名称",clearable:""},model:{value:e.query.region_name,callback:function(t){e.$set(e.query,"region_name",t)},expression:"query.region_name"}}),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"拼音",clearable:""},model:{value:e.query.region_pinyin,callback:function(t){e.$set(e.query,"region_pinyin",t)},expression:"query.region_pinyin"}}),i("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")]),i("el-button",{staticClass:"filter-item",on:{click:function(t){return e.refresh()}}},[e._v("刷新")])],1),i("el-col",{staticStyle:{"text-align":"right"},attrs:{xm:24,sm:2}},[i("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.add("")}}},[e._v("添加")])],1)],1)],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.data,height:e.height+50,"row-key":"region_id",lazy:"",load:e.listLoad},on:{"sort-change":e.sort}},[i("el-table-column",{attrs:{prop:"region_name",label:"名称","min-width":"250"}}),i("el-table-column",{attrs:{prop:"region_pinyin",label:"拼音","min-width":"250",sortable:"custom"}}),i("el-table-column",{attrs:{prop:"region_jianpin",label:"简拼","min-width":"120",sortable:"custom"}}),i("el-table-column",{attrs:{prop:"region_initials",label:"首字母","min-width":"90",sortable:"custom"}}),i("el-table-column",{attrs:{prop:"region_citycode",label:"区号","min-width":"80",sortable:"custom"}}),i("el-table-column",{attrs:{prop:"region_zipcode",label:"邮编","min-width":"80",sortable:"custom"}}),i("el-table-column",{attrs:{prop:"region_sort",label:"排序","min-width":"80",sortable:"custom"}}),i("el-table-column",{attrs:{prop:"region_id",label:"地区ID","min-width":"95",sortable:"custom"}}),i("el-table-column",{attrs:{prop:"region_pid",label:"PID","min-width":"95"}}),i("el-table-column",{attrs:{label:"操作",width:"130",fixed:"right",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.add(l)}}},[e._v("添加")]),i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.edit(l)}}},[e._v("修改")]),i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.dele(l)}}},[e._v("删除")])]}}])})],1),i("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialog,top:"1vh",width:"50%","before-close":e.cancel},on:{"update:visible":function(t){e.dialog=t}}},[i("el-form",{ref:"ref",staticClass:"dialog-body",style:{height:e.height+"px"},attrs:{rules:e.rules,model:e.model,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"父级",prop:"region_pid"}},[i("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.regionTree,props:e.regionProps,clearable:"",filterable:"",placeholder:"一级地区"},on:{change:e.pidChange},model:{value:e.model.region_pid,callback:function(t){e.$set(e.model,"region_pid",t)},expression:"model.region_pid"}})],1),i("el-form-item",{attrs:{label:"名称",prop:"region_name"}},[i("el-input",{attrs:{clearable:"",placeholder:"请输入名称：北京市"},model:{value:e.model.region_name,callback:function(t){e.$set(e.model,"region_name",t)},expression:"model.region_name"}})],1),i("el-form-item",{attrs:{label:"拼音",prop:"region_pinyin"}},[i("el-input",{attrs:{clearable:"",placeholder:"请输入拼音：Beijing"},model:{value:e.model.region_pinyin,callback:function(t){e.$set(e.model,"region_pinyin",t)},expression:"model.region_pinyin"}})],1),i("el-form-item",{attrs:{label:"简拼",prop:"region_jianpin"}},[i("el-input",{attrs:{clearable:"",placeholder:"请输入简拼：BJ"},model:{value:e.model.region_jianpin,callback:function(t){e.$set(e.model,"region_jianpin",t)},expression:"model.region_jianpin"}})],1),i("el-form-item",{attrs:{label:"首字母",prop:"region_initials"}},[i("el-input",{attrs:{clearable:"",placeholder:"请输入首字母：B"},model:{value:e.model.region_initials,callback:function(t){e.$set(e.model,"region_initials",t)},expression:"model.region_initials"}})],1),i("el-form-item",{attrs:{label:"排序",prop:"region_sort"}},[i("el-input",{attrs:{clearable:"",placeholder:"请输入排序：1000",type:"number"},model:{value:e.model.region_sort,callback:function(t){e.$set(e.model,"region_sort",t)},expression:"model.region_sort"}})],1),i("el-form-item",{attrs:{label:"区号",prop:"region_citycode"}},[i("el-input",{attrs:{clearable:"",placeholder:"请输入区号：010"},model:{value:e.model.region_citycode,callback:function(t){e.$set(e.model,"region_citycode",t)},expression:"model.region_citycode"}})],1),i("el-form-item",{attrs:{label:"邮编",prop:"region_zipcode"}},[i("el-input",{attrs:{clearable:"",placeholder:"请输入邮编：1000"},model:{value:e.model.region_zipcode,callback:function(t){e.$set(e.model,"region_zipcode",t)},expression:"model.region_zipcode"}})],1),i("el-form-item",{attrs:{label:"经度",prop:"region_longitude"}},[i("el-input",{attrs:{clearable:"",placeholder:"请输入经度：116.403263"},model:{value:e.model.region_longitude,callback:function(t){e.$set(e.model,"region_longitude",t)},expression:"model.region_longitude"}})],1),i("el-form-item",{attrs:{label:"纬度",prop:"region_latitude"}},[i("el-input",{attrs:{clearable:"",placeholder:"请输入纬度：39.915156"},model:{value:e.model.region_latitude,callback:function(t){e.$set(e.model,"region_latitude",t)},expression:"model.region_latitude"}})],1),e.model.region_id?i("el-form-item",{attrs:{label:"添加时间",prop:""}},[i("el-col",{attrs:{span:10}},[i("el-input",{attrs:{clearable:"",placeholder:"",disabled:""},model:{value:e.model.create_time,callback:function(t){e.$set(e.model,"create_time",t)},expression:"model.create_time"}})],1),i("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:4}},[e._v("修改时间")]),i("el-col",{attrs:{span:10}},[i("el-input",{attrs:{clearable:"",placeholder:"",disabled:""},model:{value:e.model.update_time,callback:function(t){e.$set(e.model,"update_time",t)},expression:"model.update_time"}})],1)],1):e._e(),i("el-form-item",{attrs:{label:"",prop:""}},[i("el-col",{attrs:{span:12}},[i("el-link",{attrs:{type:"info",href:"https://www.ip138.com/post/",target:"_blank"}},[e._v("查询区号邮编")])],1),i("el-col",{attrs:{span:12}},[i("el-link",{attrs:{type:"info",href:"http://api.map.baidu.com/lbsapi/getpoint/index.html",target:"_blank"}},[e._v("查询经度纬度")])],1)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.cancel}},[e._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1)],1)},n=[],o=i("98b1"),r=i("274d"),a={name:"SettingRegion",components:{},data:function(){return{height:680,loading:!1,data:[],count:0,query:{},dialog:!1,dialogTitle:"",model:{region_id:"",region_pid:0,region_name:"",region_pinyin:"",region_jianpin:"",region_initials:"",region_citycode:"",region_zipcode:"",region_longitude:"",region_latitude:"",region_sort:1e3},regionTree:[],regionProps:{expandTrigger:"click",checkStrictly:!0,value:"region_id",label:"region_name"},rules:{region_name:[{required:!0,message:"请输入名称",trigger:"blur"}]}}},created:function(){this.height=Object(o["a"])(),this.list()},methods:{list:function(){var e=this;this.loading=!0,this.data=[],Object(r["e"])(this.query).then((function(t){e.data=t.data.list,e.count=t.data.count,e.loading=!1})).catch((function(){e.loading=!1}))},tree:function(){var e=this;this.regionTree=[],Object(r["e"])({type:"tree"}).then((function(t){e.regionTree=t.data})).catch((function(){}))},add:function(e){this.dialog=!0,this.dialogTitle="地区添加",this.tree(),e?(this.model=this.$options.data().model,this.model.region_pid=e.region_id):this.reset()},edit:function(e){var t=this;this.dialog=!0,this.dialogTitle="地区修改："+e.region_id,this.tree(),Object(r["d"])({region_id:e.region_id}).then((function(e){t.model=e.data}))},dele:function(e){var t=this;this.$confirm('确定要删除地区 <span style="color:red">'+e.region_name+" </span>吗？","删除地区："+e.region_id,{type:"warning",dangerouslyUseHTMLString:!0}).then((function(){t.loading=!0,Object(r["b"])({region_id:e.region_id}).then((function(e){t.list(),t.reset(),t.$message.success(e.msg)})).catch((function(){t.loading=!1}))})).catch((function(){}))},cancel:function(){this.dialog=!1,this.reset()},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,e.model.region_id?Object(r["c"])(e.model).then((function(t){e.list(),e.reset(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})):Object(r["a"])(e.model).then((function(t){e.list(),e.reset(),e.dialog=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))},reset:function(e){this.model=e||this.$options.data().model,void 0!==this.$refs["ref"]&&this.$refs["ref"].resetFields()},search:function(){this.query.page=1,this.list()},refresh:function(){this.query={},this.list()},sort:function(e){this.query.sort_field=e.prop,this.query.sort_value="","ascending"===e.order&&(this.query.sort_value="asc",this.list()),"descending"===e.order&&(this.query.sort_value="desc",this.list())},listLoad:function(e,t,i){Object(r["e"])({region_pid:e.region_id}).then((function(e){i(e.data.list)}))},pidChange:function(e){e&&(this.model.region_pid=e[e.length-1])}}},s=a,c=i("cba8"),d=Object(c["a"])(s,l,n,!1,null,null,null);t["default"]=d.exports}}]);